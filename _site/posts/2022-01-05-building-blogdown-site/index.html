<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Mark Druffel">
<meta name="dcterms.date" content="2022-01-05">

<title>Mark Druffel - Building a blogdown site</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/initials.ico" rel="icon">
<script src="../../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-3EP6HMMGRW"></script>

<script type="text/plain" cookie-consent="tracking">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-3EP6HMMGRW', { 'anonymize_ip': true});
</script>

<script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"headline",
  "consent_type":"implied",
  "palette":"dark",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary","functionality","tracking","targeting"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":""
  });
});
</script> 
  
<script src="../../site_libs/htmlwidgets-1.6.0/htmlwidgets.js"></script>
<script src="../../site_libs/jquery-2.1.4/dist/jquery.min.js"></script>
<script src="../../site_libs/d3-3.5.12/d3.min.js"></script>
<link href="../../site_libs/metrics-graphics-2.7.0/dist/metricsgraphics.css" rel="stylesheet">
<link href="../../site_libs/metrics-graphics-2.7.0/dist/mg_regions.css" rel="stylesheet">
<script src="../../site_libs/metrics-graphics-2.7.0/dist/metricsgraphics.min.js"></script>
<script src="../../site_libs/metrics-graphics-2.7.0/dist/mg_regions.js"></script>
<script src="../../site_libs/metricsgraphics-binding-0.9.0/metricsgraphics.js"></script>


<meta property="og:title" content="Mark Druffel - Building a blogdown site">
<meta property="og:description" content="Build a blogdown site from scratch with code-folding, a custom footer, &amp; other hugo theme hacks">
<meta property="og:image" content="https://www.mark-druffel.com/posts/2022-01-05-building-blogdown-site/images/blogdown_plus_hugo.png">
<meta property="og:site-name" content="Mark Druffel">
<meta property="og:image:height" content="125">
<meta property="og:image:width" content="185">
<meta name="twitter:title" content="Mark Druffel - Building a blogdown site">
<meta name="twitter:description" content="Build a blogdown site from scratch with code-folding, a custom footer, &amp; other hugo theme hacks">
<meta name="twitter:image" content="https://www.mark-druffel.com/posts/2022-01-05-building-blogdown-site/images/blogdown_plus_hugo.png">
<meta name="twitter:creator" content="@MarkDruffel">
<meta name="twitter:image-height" content="125">
<meta name="twitter:image-width" content="185">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-sm navbar-dark ">
      <div class="navbar-container container-fluid">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html">
 <span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">About Me</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../resume.html">
 <span class="menu-text">Resume</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/mark-druffel"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://linkedin.com/in/markdruffel"><i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://stackoverflow.com/users/6213809/mark-druffel"><i class="bi bi-stack-overflow" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/MarkDruffel"><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.instagram.com/markdruffel/"><i class="bi bi-instagram" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:mark.druffel@gmail.com?subject=mark-druffel.com"><i class="bi bi-envelope" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <div class="quarto-title-block"><div><h1 class="title">Building a blogdown site</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
            <p class="subtitle lead">Build a blogdown site from scratch with code-folding, a custom footer, &amp; other hugo theme hacks</p>
                                <div class="quarto-categories">
                <div class="quarto-category">walkthrough</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Mark Druffel </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">January 5, 2022</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#background" id="toc-background" class="nav-link active" data-scroll-target="#background">Background</a>
  <ul class="collapse">
  <li><a href="#what-is-blogdown" id="toc-what-is-blogdown" class="nav-link" data-scroll-target="#what-is-blogdown">What is blogdown?</a>
  <ul class="collapse">
  <li><a href="#learning-blogdown" id="toc-learning-blogdown" class="nav-link" data-scroll-target="#learning-blogdown">Learning blogdown</a></li>
  </ul></li>
  <li><a href="#what-is-hugo" id="toc-what-is-hugo" class="nav-link" data-scroll-target="#what-is-hugo">What is Hugo?</a>
  <ul class="collapse">
  <li><a href="#learning-hugo" id="toc-learning-hugo" class="nav-link" data-scroll-target="#learning-hugo">Learning Hugo</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#prerequisites" id="toc-prerequisites" class="nav-link" data-scroll-target="#prerequisites">Prerequisites</a>
  <ul class="collapse">
  <li><a href="#html-hypertext-markup-language" id="toc-html-hypertext-markup-language" class="nav-link" data-scroll-target="#html-hypertext-markup-language">HTML (HyperText Markup Language)</a></li>
  <li><a href="#css-cascading-style-sheets" id="toc-css-cascading-style-sheets" class="nav-link" data-scroll-target="#css-cascading-style-sheets">CSS (Cascading Style Sheets)</a></li>
  <li><a href="#browser-developer-tools" id="toc-browser-developer-tools" class="nav-link" data-scroll-target="#browser-developer-tools">Browser Developer Tools</a></li>
  <li><a href="#testing" id="toc-testing" class="nav-link" data-scroll-target="#testing">Testing&nbsp;</a></li>
  <li><a href="#hugo-basics" id="toc-hugo-basics" class="nav-link" data-scroll-target="#hugo-basics">Hugo Basics<br>
  </a>
  <ul class="collapse">
  <li><a href="#themes" id="toc-themes" class="nav-link" data-scroll-target="#themes">Themes<br>
  </a></li>
  <li><a href="#config-file" id="toc-config-file" class="nav-link" data-scroll-target="#config-file">Config file<br>
  </a></li>
  <li><a href="#static-files" id="toc-static-files" class="nav-link" data-scroll-target="#static-files">Static Files<br>
  </a></li>
  <li><a href="#content" id="toc-content" class="nav-link" data-scroll-target="#content">Content<br>
  </a></li>
  <li><a href="#templating" id="toc-templating" class="nav-link" data-scroll-target="#templating">Templating<br>
  </a></li>
  </ul></li>
  </ul></li>
  <li><a href="#build-a-site-from-scratch" id="toc-build-a-site-from-scratch" class="nav-link" data-scroll-target="#build-a-site-from-scratch">Build a site from scratch<br>
  </a>
  <ul class="collapse">
  <li><a href="#project-setup" id="toc-project-setup" class="nav-link" data-scroll-target="#project-setup">Project setup<br>
  </a></li>
  <li><a href="#customize-navbar" id="toc-customize-navbar" class="nav-link" data-scroll-target="#customize-navbar">Customize Navbar<br>
  </a>
  <ul class="collapse">
  <li><a href="#page-links" id="toc-page-links" class="nav-link" data-scroll-target="#page-links">Page Links<br>
  </a></li>
  <li><a href="#home-button" id="toc-home-button" class="nav-link" data-scroll-target="#home-button">Home Button<br>
  </a></li>
  <li><a href="#background-color" id="toc-background-color" class="nav-link" data-scroll-target="#background-color">Background Color</a></li>
  <li><a href="#fonts" id="toc-fonts" class="nav-link" data-scroll-target="#fonts">Fonts</a></li>
  </ul></li>
  <li><a href="#content-1" id="toc-content-1" class="nav-link" data-scroll-target="#content-1">Content<br>
  </a>
  <ul class="collapse">
  <li><a href="#new-posts" id="toc-new-posts" class="nav-link" data-scroll-target="#new-posts">New Posts</a></li>
  <li><a href="#permalinks" id="toc-permalinks" class="nav-link" data-scroll-target="#permalinks">Permalinks<br>
  </a></li>
  <li><a href="#styles" id="toc-styles" class="nav-link" data-scroll-target="#styles">Styles<br>
  </a></li>
  <li><a href="#style-vector-graphics" id="toc-style-vector-graphics" class="nav-link" data-scroll-target="#style-vector-graphics">Style Vector Graphics<br>
  </a></li>
  <li><a href="#add-multimedia" id="toc-add-multimedia" class="nav-link" data-scroll-target="#add-multimedia">Add Multimedia<br>
  </a></li>
  <li><a href="#markdown-formatting" id="toc-markdown-formatting" class="nav-link" data-scroll-target="#markdown-formatting">Markdown Formatting</a></li>
  </ul></li>
  <li><a href="#other-styling-components" id="toc-other-styling-components" class="nav-link" data-scroll-target="#other-styling-components">Other Styling &amp; Components<br>
  </a>
  <ul class="collapse">
  <li><a href="#browser-tab-title-image" id="toc-browser-tab-title-image" class="nav-link" data-scroll-target="#browser-tab-title-image">Browser Tab Title &amp; Image<br>
  </a></li>
  <li><a href="#code-folding" id="toc-code-folding" class="nav-link" data-scroll-target="#code-folding">Code Folding<br>
  </a></li>
  <li><a href="#add-links-to-footer" id="toc-add-links-to-footer" class="nav-link" data-scroll-target="#add-links-to-footer">Add Links to Footer</a></li>
  <li><a href="#misc-configs" id="toc-misc-configs" class="nav-link" data-scroll-target="#misc-configs">Misc Configs<br>
  </a></li>
  </ul></li>
  <li><a href="#deploy-w-hosting-service" id="toc-deploy-w-hosting-service" class="nav-link" data-scroll-target="#deploy-w-hosting-service">Deploy w/ Hosting Service<br>
  </a>
  <ul class="collapse">
  <li><a href="#netlify" id="toc-netlify" class="nav-link" data-scroll-target="#netlify">Netlify<br>
  </a></li>
  <li><a href="#github-pages" id="toc-github-pages" class="nav-link" data-scroll-target="#github-pages">Github Pages<br>
  </a></li>
  </ul></li>
  <li><a href="#deploy-internally-w-docker" id="toc-deploy-internally-w-docker" class="nav-link" data-scroll-target="#deploy-internally-w-docker">Deploy Internally w/ Docker&nbsp;</a></li>
  </ul></li>
  </ul>
</nav>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="background" class="level1">
<h1>Background</h1>
<p>I’ve created a few different versions of my blog using blogdown. Creating new blog with blogdown is so simple, but customizing can be finicky. I started a guide when I upgrade my site to blogdown 1.0, but was still sitting in a stack of posts that never made their way to the web when I started writing this :flushed: Now a year later I’m hoping to use blogdown internally at my new job to disseminate analysis more easily and I could really use that post as a guide :scream: So, for posterity I’m going to document the process as I go through it. If you’d like to learn how to create blogdown site or learn how to customize on your existing blogdown site, read on.<br>
</p>
<section id="what-is-blogdown" class="level2">
<h2 class="anchored" data-anchor-id="what-is-blogdown">What is blogdown?</h2>
<p><a href="https://pkgs.rstudio.com/blogdown/">blogdown</a> is an R package witten by <a href="https://en.wikipedia.org/wiki/Yihui_Xie">Yihui Xie</a> that wraps the <a href="https://gohugo.io/">Hugo web development framework</a>. Blogdown provides a tool for R developers to build their own blogs and portfolio sites from Hugo templates. There are several other R libraries to consider for publishing including <a href="https://pkgs.rstudio.com/blogdown/">distill</a>, <a href="https://pkgs.rstudio.com/bookdown/">bookdown</a>, and <a href="https://hugodown.r-lib.org/">hugodown</a>. We’ll cover blogdown only in this post.</p>
<section id="learning-blogdown" class="level3">
<h3 class="anchored" data-anchor-id="learning-blogdown">Learning blogdown</h3>
<p>If you’re new to blogdown I recommend this article from <a href="https://www.apreshill.com/blog/2020-12-new-year-new-blogdown/">Alison Presmanes Hill Hill</a>. Alison spent a few years working on the RStudio team and her blog is loaded with blogdown walk-throughs and gotcha’s. I highly recommend looking through her blog for other content. Additionally, Yihui wrote a <a href="https://bookdown.org/yihui/blogdown/">blogdown book</a> that I always keep handy. Finally, I occasionally look through Yihui’s <a href="https://stackoverflow.com/users/559676/yihui-xie">stack overflow answers</a> just to find tidbits of info about how rmarkdown, knitr, blogdown, etc. really work because they are so complicated and black-box like… It’s not specifically a resource for blogdown, but blogdown relies on the knitr and rmarkdown infrastructure so it helps to understand those packages behind the package. Aside from that, blogdown relies on rmarkdown. If you’ve not used rmarkdown before I recommend at least going through a bit of this <a href="https://rmarkdown.rstudio.com/articles_intro.html">guide</a> from RStudio.<br>
</p>
</section>
</section>
<section id="what-is-hugo" class="level2">
<h2 class="anchored" data-anchor-id="what-is-hugo">What is Hugo?</h2>
<p><a href="https://gohugo.io/about/what-is-hugo/">Hugo</a> is a web development framework used to build <a href="https://www.geeksforgeeks.org/static-vs-dynamic-website/">static websites</a>. It’s is one of the <a href="https://jamstack.org/generators/">most popular static site generators</a> available at this time. If you’re looking to use blogdown, you do not necessarily need to know almost anything about Hugo to succeed. However, the more you understand Hugo the easier it becomes to customize your site, debug, etc.<br>
</p>
<section id="learning-hugo" class="level3">
<h3 class="anchored" data-anchor-id="learning-hugo">Learning Hugo</h3>
I’ll cover some of the basics in the next section, but I’ll barely scratch the surface on Hugo. If you want to learn more, the <a href="https://gohugo.io/getting-started/quick-start/">Hugo documentation</a> and a <a href="https://www.youtube.com/watch?v=qtIqKaDlqXo&amp;list=PLLAZ4kZ9dFpOnyRlyS-liKL5ReHDcj4G3">youtube playlist</a> Hugo provides are both good resources. I also found this <a href="https://webdesign.tutsplus.com/courses/getting-started-with-hugo-free-static-website-framework">tutorial</a> by Adi Purdila useful. I haven’t gone through and built my own Hugo site outside blogdown, but just watching the tutorial helped me understand how Hugo works for customization. This is probably a great starting point if you want to learn how to build your own template, but I’m not going there just yet…<br>

<center>
<img src="https://media.giphy.com/media/Uq3wLkZ2yzpkjvjOvi/giphy.gif" class="img-fluid" width="500">
</center>
</section>
</section>
</section>
<section id="prerequisites" class="level1">
<h1>Prerequisites</h1>
<p>If you’ve never done web development at all there are some basic concepts and tools that are important to understand, but given that most of us have been on the internet for a few decades the learning curve isn’t too bad. I am not a web developer and have no business teaching web development so please take all this with a grain of salt. The reason I decided to spend time on it is simply that building and customizing a blogdown site requires very basic knowledge of web development. As I was writing the walk through I kept coming back to these concepts and it felt disingenous to write the post without making some attempt to cover them - knowing and acknowledging that my attempt will probably be clumsy at best :grimacing:<br>
</p>
<section id="html-hypertext-markup-language" class="level2">
<h2 class="anchored" data-anchor-id="html-hypertext-markup-language">HTML (HyperText Markup Language)</h2>
<p><a href="https://simple.wikipedia.org/wiki/HTML">HTML</a> is the primary building block of web pages. There’s a ton to learn about HTML. I recommend <a href="https://www.w3schools.com/html/default.asp">w3school’s HTML tutorial</a> if you want to get a broad understanding. The two things I’d definitely recommend reviewing are <a href="https://www.w3schools.com/html/html_elements.asp">HTML elements</a> (aka HTML tags) and <a href="https://www.w3schools.com/html/html_attributes.asp">HTML attributes</a>. I always keep these lists of <a href="https://www.w3schools.com/tags/default.asp">HTML elements</a> and <a href="https://www.w3schools.com/tags/ref_attributes.asp">HTML attributes</a> handy.<br>
</p>
</section>
<section id="css-cascading-style-sheets" class="level2">
<h2 class="anchored" data-anchor-id="css-cascading-style-sheets">CSS (Cascading Style Sheets)</h2>
<a href="https://www.w3schools.com/whatis/whatis_css.asp">CSS</a> is code used to describe how html elements are to be displayed on a webpage, CSS “styles” a webpage. I borrowed the below image from a <a href="https://css-tricks.com/that-time-i-tried-browsing-the-web-without-css/">css-tricks post</a>, but the image on the right shows what Wikipedia’s homepage would look like without CSS.&nbsp;
<center>
<img src="images/web_without_css.jpeg" class="img-fluid" width="800">
</center>
<p>Again, I recommend <a href="https://www.w3schools.com/Css/">w3school’s CSS tutorial</a> to get a broad understanding of CSS. If you want to do something to style your site search it and don’t be afraid to post on stackoverflow. I find a lot of really specific CSS implementations on there that I’ve tried to jam into my personal site over time. Time more you do it the easier it gets. What you need to know in CSS can be especially specific to your goal, but I’d recommend reviewing <a href="https://www.w3schools.com/Css/css_syntax.asp">CSS syntax</a> and <a href="https://www.w3schools.com/Css/css_selectors.asp">CSS selectors</a> regardless because they’re very useful and fundamental.<br>
</p>
</section>
<section id="browser-developer-tools" class="level2">
<h2 class="anchored" data-anchor-id="browser-developer-tools">Browser Developer Tools</h2>
<p>The <a href="https://en.wikipedia.org/wiki/Web_development_tools">browser web developer tools</a> that come in your standard issue web browser are critical to working on web development. The most commonly used tool within the set is the element inspector which usually is represented by a little square with an arrow in the corner. This video shows a few ways you can use the element inspector.<br>
</p>
<div class="quarto-video ratio ratio-16x9"><iframe src="https://www.youtube.com/embed/vi1mUy-nXFo" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<p>Using the element inspector allows you to find code related to an element so you can understand the code and make changes. We can try it on David Robinson’s <a href="http://varianceexplained.org/">website</a> by <a href="https://www.lifewire.com/how-to-clear-cache-2617980">opening web developer tools</a>, selecting the image of David, and changing the image link to another image on the web.<br>
</p>
<center>
<img src="images/drob_v1.gif" class="img-fluid" width="800">
</center>
<p>Changing the content can be useful for obvious reasons, but we can also modify the CSS around objects. We might not want the radial border around the image. We can find that CSS property if we select the image and look in the styles tab. Finding the right CSS property can require some knowledge, but it’s usually not too hard to figure looking at the different names and tinkering. David’s picture is inside an html <code>img</code> tag which contains a class <code>class="bio-photo</code>. The styles tab has a CSS selector called <code>.article-author-side .bio-photo</code>. That CSS selector has a property called <code>border-radius</code>. Un-check that property and see what the site would look like without it. A note, many of the bigger sites use system generated class names and things of that nature which can make this approach break down quickly.<br>
</p>
<center>
<img src="images/drob_v2.gif" class="img-fluid" width="800">
</center>
<p>We can also add new properties to see what a change might look like. Knowing all the styling options you can use is overwhelming, but just search by the html tag name, in this case <code>img</code>, and “CSS properties” (i.e.&nbsp;<a href="https://duckduckgo.com/?q=img+css+properties&amp;atb=v314-1&amp;ia=web">search img CSS properties</a>) and you’ll usually get useful results. On this one I ended up back at <a href="https://www.w3schools.com/css/css3_images.asp">w3schools CSS tutorial</a>.<br>
</p>
<center>
<img src="images/drob_v3.gif" class="img-fluid" width="800">
</center>
<p>We could probably take this pretty far, but I’ll cover one more CSS change. We can change the fonts of text in the site using the same basic approach. Fonts have several CSS properties, but the property that is similar to “font” inside of a word processing software is <a href="https://www.w3schools.com/Css/css_font.asp">font family</a>. Just like most areas in technology, fonts can get very “deep.” To my understanding, no fonts are perfectly web safe, meaning they may not work as intended in some browsers or contexts. <a href="https://www.w3schools.com/Css/css_font_websafe.asp">These fonts</a> are considered the safest, but they’re also a bit bland which might not be the best choice for all sites. Regardless of what font you choose, always have a few <a href="https://www.w3schools.com/Css/css_font_fallbacks.asp">fallback fonts</a>. Meaning, instead of deleting the font family listed, we can just add our new font to the front. There are obvious style considerations like this new font looking way different than the fallback, but that’s a different discussion. When setting fonts in the CSS, include a fallback that you intend to be the fallback rather than relying on the browser’s default. If you want to find reasonably web safe fonts, <a href="https://fonts.google.com/">Google fonts</a> has a lot of options.<br>
</p>
<center>
<img src="images/drob_v4.gif" class="img-fluid" width="800">
</center>
</section>
<section id="testing" class="level2">
<h2 class="anchored" data-anchor-id="testing">Testing&nbsp;</h2>
<p>While we’re building our site we’ll want to test that it works. RStudio has a viewer pane that’s closest to development, which I love. However, there are always little differences that can pop up between what we see in RStudio and what shows up in the browser when it gets there. I recommend testing in a browser often. I use <a href="https://brave.com/">Brave</a> as my primary web browser, but I also use Chrome and Safari to test my pages during web development because most users will likely be in one of the two.&nbsp;</p>
<center>
<img src="images/most_popular_browsers.png" class="img-fluid" width="600">
</center>
<p>Beyond that, I also like to do a little bit of device testing. I don’t expect I have a ton of mobile users, but I still don’t want to have an awful mobile experience if I can help it. I use a tool called <a href="https://www.lambdatest.com/lt-browser">LT Browser</a> to quickly see how the site will look on various devices.&nbsp;</p>
</section>
<section id="hugo-basics" class="level2">
<h2 class="anchored" data-anchor-id="hugo-basics">Hugo Basics<br>
</h2>
<p>As noted, I’ve never built a Hugo site without blogdown so take all my Hugo advice and instruction with a block of salt. That said, there are a few Hugo concepts that you do have to understand if you want to build a site with blogdown and / or customize the site. I’d recommend reading Alison’s article <a href="https://www.apreshill.com/blog/2020-12-how-much-hugo/#you-want-to-make-a-website-with-blogdown">How much hugo do I need to know?</a>. This will help you decide what parts you want to spend time trying to understand. I’ll be referencing parts of this article later as well, so it provides helpful context. Aside from that, here’s my high-level understanding of these concepts gives you more than enough context for the walk-through.<br>
</p>
<section id="themes" class="level3">
<h3 class="anchored" data-anchor-id="themes">Themes<br>
</h3>
<p>Hugo sites are built off of themes, which I think of as a website template. Hugo provides mechanics to use a single template for many purposes by changing parameters before rendering the site. Hugo provides a <a href="https://themes.gohugo.io/">list of themes</a> or you can build your own. When selecting a theme to use, I recommend going to the github page and looking at the commit history, the contributors, and the documentation to assess how much you can rely on the theme. It’s obviously just a guess regardless, but I think it’s a good idea. Regardless, once you select a theme, test it with blogdown before you do anything else. Many themes don’t work with blogdown out of the box. I honestly don’t know exactly why, but I’d guess reasons vary from theme to theme.<br>
</p>
</section>
<section id="config-file" class="level3">
<h3 class="anchored" data-anchor-id="config-file">Config file<br>
</h3>
<p>Hugo uses a <a href="https://gohugo.io/getting-started/configuration/">config file</a> with a list of variables that allow users to easily customize their site. For example, the variable <code>title</code> is used to set the title of your site that shows up in search engines and on the browser tab. Themes generally come with a config file, but the variables included vary from theme to theme. The <a href="https://gohugo.io/getting-started/configuration/#all-configuration-settings">config variables</a> are provided by Hugo so they can be added, but themes can also provide custom variables called <a href="https://gohugo.io/content-management/menus/#params">params</a>. Params can be in the config file or in a separate file in the config directory. Configs generally contain a <a href="https://gohugo.io/content-management/menus/#add-non-content-entries-to-a-menu">menu</a> which is how the site menu (i.e.&nbsp;navigation bar) is configured. The menu also has <a href="https://gohugo.io/variables/menus/#menu-entry-variables">variables</a> provided by Hugo and can be broken into a separate file in the config directory. This site is small so I don’t expect the config file to get too big, but for larger sites the <a href="https://gohugo.io/getting-started/configuration/#configuration-directory">config can be broken into several files</a>.<br>
</p>
</section>
<section id="static-files" class="level3">
<h3 class="anchored" data-anchor-id="static-files">Static Files<br>
</h3>
<p><a href="https://gohugo.io/content-management/static-files/">Static files</a> get served as-is on the site root. This is useful for storing resources in the site’s root. The resources can be images, JS, CSS, etc. (e.g.&nbsp;an image on the home page).</p>
</section>
<section id="content" class="level3">
<h3 class="anchored" data-anchor-id="content">Content<br>
</h3>
<p>The content is the substance of the site and Hugo assumes so organizational structure of the site which is explain <a href="https://gohugo.io/content-management/organization/">here</a>. This part seems complicated, but in my experience this is the easiest part to understand when using blogdown.<br>
</p>
</section>
<section id="templating" class="level3">
<h3 class="anchored" data-anchor-id="templating">Templating<br>
</h3>
<p><a href="https://gohugo.io/templates/introduction/">Templating</a> is basically Hugo’s engine. It seems very intimidating when you start using blogdown, but it’s honestly not - we’re just not comfortable enough (or at least I’m not) with all the HTML, CSS, &amp; JS to fully understand how simple Hugo is. Hugo uses templated HTML in combination with other resources in order to dynamically build webpages when the site gets built. Sounds kind of crazy, but if you use <a href="https://glue.tidyverse.org/">glue</a> or <a href="https://jinja.palletsprojects.com/en/3.1.x/">jinja</a> it’s pretty familiar. Template variables and functions are accessed within <code>{{ }}</code>.<br>
</p>
</section>
</section>
</section>
<section id="build-a-site-from-scratch" class="level1">
<h1>Build a site from scratch<br>
</h1>
<p>Alright I’ve laid out a lot of background info that most of you probably skipped over (no judgement) so let’s get right into it. I’m building this site using <a href="https://github.com/yihui/hugo-lithium">hugo-lithium</a> because it’s minimalist and supported by RStudio.<br>
</p>
<section id="project-setup" class="level2">
<h2 class="anchored" data-anchor-id="project-setup">Project setup<br>
</h2>
<p>In Rstudio, go to File -&gt; New Project and there is a simple template. Alternatively, we can use the function <code>blogdown::new_site()</code>. Once the site is built, check that the template is working properly by running <code>blogdown::serve_site()</code>. For more details refer to <a href="https://bookdown.org/yihui/blogdown/a-quick-example.html#create-project">the book</a>.<br>
</p>
<center>
<img src="images/new_project.gif" class="img-fluid" width="800">
</center>
<p>Blogdown will automagically setup a repo structure (create folders and files) for the site, similarly to how <code>devtools::create_package()</code> does for <a href="https://r-pkgs.org/whole-game.html#create_package">R package development</a> if that’s a familiar process. Since blogdown is a wrapper around Hugo, the repo has resources for both blogdown and Hugo. I’ll get into more detail as we customize certain parts of the site, but Alison provided an easy cheat sheet for the folder structure in the below tweet.<br>
</p>
<center>
<div class="cell">
<div class="cell-output-display">
{{% tweet "1078494406301212672" %}}
</div>
</div>
</center>
</section>
<section id="customize-navbar" class="level2">
<h2 class="anchored" data-anchor-id="customize-navbar">Customize Navbar<br>
</h2>
<p>The navbar we start with has a number of components including the home button, page links, and CSS properties. To modify it, we’ll start in the config file - <code>config.yaml</code>.<br>
</p>
<center>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/header_v0.png" class="img-fluid figure-img" width="800"></p>
<p></p><figcaption class="figure-caption">header v.0</figcaption><p></p>
</figure>
</div>
</center>
<section id="page-links" class="level3">
<h3 class="anchored" data-anchor-id="page-links">Page Links<br>
</h3>
<p>We can modify page links by changing the <code>menu</code> object in <code>config.yaml</code>. The <code>name</code> is the text that will show up in the header, the <code>url</code> is the path that will be added to the site’s base url, and the <code>weight</code> dictates the order on the header (lower numbers show up first reading left to right). The urls must be relative to the context root or an absolute url. For example, for the site <a href="www.mark-druffel.com">www.mark-druffel.com</a>, using <code>/about/</code> in the menu would go to <a href="wwww.mark-druffel.com/about">wwww.mark-druffel.com/about</a>. and <code>www.duckduckgo.com</code> would go to that external site. This is very straight forward, but using absolute paths can be useful to forward a user to a resume or link in a shiny app.<br>
</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource default number-lines code-with-copy"><code class="sourceCode default"><span id="cb1-1"><a href="#cb1-1"></a>menu:</span>
<span id="cb1-2"><a href="#cb1-2"></a>  main:</span>
<span id="cb1-3"><a href="#cb1-3"></a>    - name: "About"</span>
<span id="cb1-4"><a href="#cb1-4"></a>      url: /about/</span>
<span id="cb1-5"><a href="#cb1-5"></a>      weight: 1</span>
<span id="cb1-6"><a href="#cb1-6"></a>    - name: "Blog"</span>
<span id="cb1-7"><a href="#cb1-7"></a>      url: /post/</span>
<span id="cb1-8"><a href="#cb1-8"></a>      weight: 2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="home-button" class="level3">
<h3 class="anchored" data-anchor-id="home-button">Home Button<br>
</h3>
<p>The <code>logo</code> object seems to be the home button, but it’s not immediately apparent where the <code>logo.png</code> file comes from. If you poke around the folders you’ll find the image at <code>~/themes/hugo-lithium/static/images/logo.png</code>. You can add another image file there and change the config to update your header, but remember Alison warned us not to touch <code>~/themes</code>. Changing the file in <code>~/themes</code> will technically work, but the safer way to make the change is by adding the new logo to <code>~/static</code>. Blogdown will take files from <code>~/static</code> in replacement of files in <code>~themes/.../static</code>. We’ll use static for a number of modifications so it’s easiest to create a few required folders now.<br>
</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>fs<span class="sc">::</span><span class="fu">dir_create</span>(<span class="st">"static/css"</span>)</span>
<span id="cb2-2"><a href="#cb2-2"></a>fs<span class="sc">::</span><span class="fu">dir_create</span>(<span class="st">"static/fonts"</span>)</span>
<span id="cb2-3"><a href="#cb2-3"></a>fs<span class="sc">::</span><span class="fu">dir_create</span>(<span class="st">"static/images"</span>)</span>
<span id="cb2-4"><a href="#cb2-4"></a>fs<span class="sc">::</span><span class="fu">dir_create</span>(<span class="st">"static/js"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>As you can probably guess, we’ll use the <code>~/static/images</code> folder for the new logo. I added the image file, modified <code>config.yaml</code> to reflect the new file name, and ran <code>blogdown::serve_site()</code> again. The new image loaded, but the logo doesn’t look right. My image is a rectangle and the edges are being shaved off.<br>
</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource default number-lines code-with-copy"><code class="sourceCode default"><span id="cb3-1"><a href="#cb3-1"></a>  logo:</span>
<span id="cb3-2"><a href="#cb3-2"></a>    alt: Logo</span>
<span id="cb3-3"><a href="#cb3-3"></a>    height: 50</span>
<span id="cb3-4"><a href="#cb3-4"></a>    url: home_logo.svg</span>
<span id="cb3-5"><a href="#cb3-5"></a>    width: 50</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<center>
<img src="images/header_v1.png" class="img-fluid" width="600">
</center>
<p>This is just a CSS property. We can use the element inspector see the CSS properties on the logo element. The CSS selector <code>.nav-logo img</code> has a <code>border-radius</code> that looks like a good candidate. We confirm by un-checking the property from that selector.<br>
</p>
<center>
<img src="images/header_v1_browser_dev_tools.gif" class="img-fluid" width="800">
</center>
<p>Now that we know the thing we want to change is coming from CSS, we need to modify the CSS file for the theme. Again, we’ll work from <code>~/static</code> not <code>~/themes</code>. You can simply copy the <code>main.css</code> file to static using the code below, open the css file, and comment out or delete line 69. CSS comments are applied like this - <code>/* border-radius: 100%; */</code>.<br>
</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>fs<span class="sc">::</span><span class="fu">file_copy</span>(<span class="st">"themes/hugo-lithium/static/css/main.css"</span>, <span class="st">"static/css/main.css"</span>, <span class="at">overwrite =</span> F)</span>
<span id="cb4-2"><a href="#cb4-2"></a>usethis<span class="sc">::</span><span class="fu">edit_file</span>(<span class="st">"static/css/main.css"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Now the logo should load without the border radius. However, it’s possible it won’t even though the code is fine. Initially when I ran <code>blogdown::serve_site()</code> it had the border radius on all the browsers I tried. I restarted my R session and still had the issue. When I restarted RStudio and reran <code>blogdown::serve_site()</code> it worked in Brave, but it still didn’t work in Chrome (shown below). I’ve seen this behavior in a few situations using blogdown and I think there are a few reasons this can happen, but since it was working in one browser and not the other it seemed to be due to browser caching. I’d recommend reserving a specific browser for testing and continually clearing browsing data. This <a href="https://www.lifewire.com/how-to-clear-cache-2617980">article</a> explains a bit more about browsing data and instructions on deleting it.<br>
</p>
<center>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/header_v1_chrome_cache.png" class="img-fluid figure-img" width="800"></p>
<p></p><figcaption class="figure-caption">browser caches css</figcaption><p></p>
</figure>
</div>
</center>
<p>Since the navbar is a pretty important part of the experience, it’s important it works everywhere. We can do device testing using LT Browser. My logo is pretty large and for some of the smaller devices it took over the header and moved the buttons. We can fix that for smaller devices specifically in the CSS. CSS has an <code>@media</code> rule that can be used to apply different styles to different devices based on things such as the screen size of the browser session. This CSS file already had an <code>@media</code> section setup, but the code I found on <a href="https://www.w3schools.com/cssref/css3_pr_mediaquery.asp">w3schools</a> worked more consistently when I tested so I updated teh <code>@media</code> rule on line 253 to include <code>only screen and</code>. Additionally, we’ll add a <code>max-height</code> &amp; <code>max-width</code> starting at line 262 to shrink the logo within this <code>@media</code> rule. The change fixed the issue on all devices.<br>
</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb5-1"><a href="#cb5-1"></a><span class="co">/* main.css */</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="im">@media</span> <span class="kw">only</span> <span class="dv">screen</span> <span class="kw">and</span> (<span class="kw">max-width</span>: <span class="dv">600</span><span class="dt">px</span>) {</span>
<span id="cb5-3"><a href="#cb5-3"></a>  <span class="fu">.nav-logo</span> img {</span>
<span id="cb5-4"><a href="#cb5-4"></a>    <span class="kw">max-height</span>: <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>    <span class="kw">max-width</span>: <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb5-6"><a href="#cb5-6"></a>  }</span>
<span id="cb5-7"><a href="#cb5-7"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<center>
<img src="images/header_v1_screen_testing.png" class="img-fluid" width="800">
</center>
</section>
<section id="background-color" class="level3">
<h3 class="anchored" data-anchor-id="background-color">Background Color</h3>
<p>Again, we can use the element inspector to figure out which CSS selector and property to change for the background color. The <code>.header</code> selector has a <code>background</code> property. We can replace that property on line 44 with a new color. Sometimes if I can’t find where a color is coming from in the web page, I use <a href="https://colorslurp.com/">Color Slurp</a> to pluck the color hex from the screen and search in the CSS files.<br>
</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb6-1"><a href="#cb6-1"></a><span class="co">/* main.css */</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="fu">.header</span> {</span>
<span id="cb6-3"><a href="#cb6-3"></a>  <span class="kw">padding</span>: <span class="dv">20</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-4"><a href="#cb6-4"></a>  <span class="kw">position</span>: <span class="dv">relative</span><span class="op">;</span></span>
<span id="cb6-5"><a href="#cb6-5"></a>  <span class="kw">background</span>: <span class="cn">#F6F9FB</span><span class="op">;</span></span>
<span id="cb6-6"><a href="#cb6-6"></a>  <span class="kw">border-bottom</span>: <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#eaeaea</span><span class="op">;</span></span>
<span id="cb6-7"><a href="#cb6-7"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="fonts" class="level3">
<h3 class="anchored" data-anchor-id="fonts">Fonts</h3>
<p>If you want to use different fonts on the navbar (or anywhere else on the site), you’ll need to load new fonts. There are two ways I know of to accomplish this, download font files and import them from a folder or import them a font API in our CSS. I recommend the API route because I think it’s less work, but there are reasons you might want to download the files, namely if you plan to render the site without internet or in an environment with firewalls (that may interfere with API calls).</p>
<section id="download-font-files" class="level4">
<h4 class="anchored" data-anchor-id="download-font-files">Download Font Files</h4>
<p>To download the font files and import them, we need to move the <code>foncts.css</code> to <code>~/static/css</code>. The <code>fonts.css</code> file sets up fonts for the site, which could be done in <code>main.css</code>.<br>
</p>
<p>We also need to move the font files themselves. We can define a font class, but the site still needs a font file to implement that font, similar to installing new fonts on your computer. Blogdown stores font files in <code>~/static/fonts</code>. We can get fonts from a lot of places, but a great resource is <a href="https://fonts.google.com/">Google Fonts</a>. Select a font and download the files. One of the fonts I selected, Rubik, provided a variable font instead of a static font - you can read about the difference <a href="https://www.lambdatest.com/blog/variable-fonts-cross-browser-compatibility/">here</a>. The files included are all .ttf, but we need <a href="https://www.w3schools.com/css/css3_fonts.asp">.woff2</a>. We can use this <a href="https://anyconv.com/ttf-to-woff2-converter/">free conversion tool</a>. Once the files are converted we can add them to our <code>~/static/fonts</code> folder.<br>
</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># Copy &amp; Edit CSS</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>fs<span class="sc">::</span><span class="fu">file_copy</span>(<span class="st">"themes/hugo-lithium/static/css/fonts.css"</span>, <span class="st">"static/css/fonts.css"</span>, <span class="at">overwrite =</span> F)</span>
<span id="cb7-3"><a href="#cb7-3"></a>usethis<span class="sc">::</span><span class="fu">edit_file</span>(<span class="st">"static/css/fonts.css"</span>)</span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="co"># Copy font files</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>fs<span class="sc">::</span><span class="fu">dir_copy</span>(<span class="st">"themes/hugo-lithium/static/fonts"</span>, <span class="st">"static"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<center>
<img src="images/header_v2_fonts_folder.png" class="img-fluid" width="600">
</center>
<p>After adding the fonts to the folder, we need to import the fonts in our CSS. We can use the example from the variable font documentation as-is, but you can read more about the <code>@font-face</code> rule <a href="https://www.w3schools.com/cssref/css3_pr_font-face_rule.asp">here</a>.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb8-1"><a href="#cb8-1"></a><span class="im">@font-face</span> {</span>
<span id="cb8-2"><a href="#cb8-2"></a>    <span class="kw">font-family</span>: <span class="st">'Rubik'</span><span class="op">;</span></span>
<span id="cb8-3"><a href="#cb8-3"></a>    <span class="kw">src</span>: <span class="fu">url(</span><span class="st">'../fonts/Rubik-VariableFont_wght.woff2'</span><span class="fu">)</span> <span class="fu">format(</span><span class="st">'woff2 supports variations'</span><span class="fu">)</span><span class="op">,</span></span>
<span id="cb8-4"><a href="#cb8-4"></a>       <span class="fu">url(</span><span class="st">'../fonts/Rubik-VariableFont_wght.woff2'</span><span class="fu">)</span> <span class="fu">format(</span><span class="st">'woff2-variations'</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb8-5"><a href="#cb8-5"></a>    <span class="kw">font-weight</span>: <span class="dv">100</span> <span class="dv">900</span><span class="op">;</span></span>
<span id="cb8-6"><a href="#cb8-6"></a>    <span class="kw">font-stretch</span>: <span class="dv">25</span><span class="dt">%</span> <span class="dv">151</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb8-7"><a href="#cb8-7"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="use-font-api" class="level4">
<h4 class="anchored" data-anchor-id="use-font-api">Use Font API<br>
</h4>
<p>Alternatively, we can directly import the fonts into our CSS. I recommend this as it’s much easier, but it requires an internet connection when rendering the site. To do this <a href="https://fonts.google.com/">select a font</a>, choose the styles, and copy the style sheet code. Make sure to select all the styles and weights you want available.<br>
</p>
<center>
<img src="images/font_api_import.png" class="img-fluid" width="600">
</center>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb9-1"><a href="#cb9-1"></a><span class="im">@import</span> <span class="fu">url(</span><span class="st">'https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;700;800;900&amp;display=swap'</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="im">@import</span> <span class="fu">url(</span><span class="st">'https://fonts.googleapis.com/css2?family=Overpass:wght@100;500;700;800;900&amp;display=swap'</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="im">@import</span> <span class="fu">url(</span><span class="st">'https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;500;700;900&amp;display=swap'</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="im">@import</span> <span class="fu">url(</span><span class="st">'https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&amp;display=swap'</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="im">@import</span> <span class="fu">url(</span><span class="st">'https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500&amp;display=swap'</span><span class="fu">)</span><span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="apply-new-fonts" class="level4">
<h4 class="anchored" data-anchor-id="apply-new-fonts">Apply New Fonts<br>
</h4>
<p>We can add we can add the font to HTML elements or CSS selectors’ properties. We want to change the font of the navbar buttons so we’ll change the font-family property of the CSS selector <code>.nav-links li</code>. We can also make other changes like increasing font-size, weight, etc. Regarding font-size, you can use <code>rem</code> or <code>em</code> instead of <code>px</code> sizes, which scale to the browser settings, learn more <a href="https://zellwk.com/blog/rem-vs-em/">here</a>. I chose to use <code>rem</code>. Also, I set <a href="https://www.w3schools.com/cssref/css_fonts_fallbacks.asp">fallback fonts</a> as recommended if you read about <a href="https://www.w3schools.com/cssref/css_websafe_fonts.asp">web safe fonts</a>. I don’t think it’s necessary to fall back to <code>serif</code> or <code>monospace</code> unless you want to ensure a specific typeface, the browser will fallback to something automatically.<br>
</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb10-1"><a href="#cb10-1"></a>body {</span>
<span id="cb10-2"><a href="#cb10-2"></a>  <span class="kw">font-family</span>: Roboto<span class="op">,</span> Merriweather<span class="op">;</span></span>
<span id="cb10-3"><a href="#cb10-3"></a>  <span class="kw">font-size</span>: <span class="dv">1</span><span class="dt">rem</span><span class="op">;</span></span>
<span id="cb10-4"><a href="#cb10-4"></a>}</span>
<span id="cb10-5"><a href="#cb10-5"></a><span class="fu">.nav-links</span> li {</span>
<span id="cb10-6"><a href="#cb10-6"></a>  <span class="kw">display</span>: <span class="dv">inline-block</span><span class="op">;</span></span>
<span id="cb10-7"><a href="#cb10-7"></a>  <span class="kw">margin</span>: <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">15</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb10-8"><a href="#cb10-8"></a>  <span class="kw">font-family</span>: Rubik<span class="op">,</span> Overpass<span class="op">;</span></span>
<span id="cb10-9"><a href="#cb10-9"></a>  <span class="kw">font-size</span>: <span class="dv">1.25</span><span class="dt">rem</span><span class="op">;</span></span>
<span id="cb10-10"><a href="#cb10-10"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>That all looks great, but it’d also be nice to have some behavior when the user hovers on the button. We can do that by modifying a CSS selector with <code>:hover</code>. The <a href="https://www.w3schools.com/cssref/sel_hover.asp"><code>:hover</code></a> is a CSS Pseudo-selector applied to elements when you mouse over them. There are many Pseudo-selectors available you can read about <a href="https://www.w3schools.com/css/css_pseudo_classes.asp">here</a>. The main CSS file already has a <code>.nav-links a:hover</code> selector so we can add a <code>font-weight</code> and <code>text-decoration</code> property to that. There’s a lot more we can do with buttons, but this site is very minimalist so I think this style works well. However, you can see several other options and how to implement them <a href="https://www.w3schools.com/csS/css3_buttons.asp">here</a>.&nbsp;</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb11-1"><a href="#cb11-1"></a><span class="fu">.nav-links</span> a<span class="in">:hover</span> {</span>
<span id="cb11-2"><a href="#cb11-2"></a>  <span class="kw">color</span>: <span class="cn">#000</span><span class="op">;</span></span>
<span id="cb11-3"><a href="#cb11-3"></a>  <span class="kw">font-weight</span>: <span class="dv">bold</span><span class="op">;</span></span>
<span id="cb11-4"><a href="#cb11-4"></a>  <span class="kw">text-decoration</span>: <span class="dv">underline</span><span class="op">;</span></span>
<span id="cb11-5"><a href="#cb11-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>I also decided to remove <code>5px</code> worth of padding from the navbar to make it just a tad shorter…<br>
</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">.header</span> {</span>
<span id="cb12-2"><a href="#cb12-2"></a>  <span class="kw">padding</span>: <span class="dv">15</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb12-3"><a href="#cb12-3"></a>  <span class="kw">position</span>: <span class="dv">relative</span><span class="op">;</span></span>
<span id="cb12-4"><a href="#cb12-4"></a>  <span class="kw">background</span>: <span class="cn">#F6F9FB</span><span class="op">;</span></span>
<span id="cb12-5"><a href="#cb12-5"></a>  <span class="kw">border-bottom</span>: <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#eaeaea</span><span class="op">;</span></span>
<span id="cb12-6"><a href="#cb12-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Now we have a simple, but functional navbar!<br>
</p>
<center>
<img src="images/navbar_with_fonts.gif" class="img-fluid" width="450">
</center>
</section>
</section>
</section>
<section id="content-1" class="level2">
<h2 class="anchored" data-anchor-id="content-1">Content<br>
</h2>
<p>The navbar spans across all the pages, but the content is each of the pages under the navbar. Site content goes in, you guessed it, <code>~/content/</code>. The site will have an about page and posts by default, but you can add as many pages directly under <code>~/content/</code> as you’d like. Just don’t forget to add them to the menu in your <code>config.yaml</code> so the user can navigate to them. Beyond pages directly under <code>~/content/</code>, the Hugo theme will generally have some default folders including <code>~/post/</code>, which is the default location for blog posts.<br>
</p>
<section id="new-posts" class="level3">
<h3 class="anchored" data-anchor-id="new-posts">New Posts</h3>
<p>To create posts, I typically copy old posts because I customize my yaml header a bit. However, for a new site you can either copy one of the demo posts included or just use the RStudio add-in (shown below).<br>
</p>
<center>
<img src="images/new_post.png" class="img-fluid" width="550">
</center>
</section>
<section id="permalinks" class="level3">
<h3 class="anchored" data-anchor-id="permalinks">Permalinks<br>
</h3>
<p>Each post’s url is generated by by Hugo using the the <code>config.yaml</code> and the document slug from the post’s yaml header. So if our site was <code>www.mark-druffel.com</code> and we used the configuration below, a post url would be <code>www.mark-druffel.com/2021/10/15/this-posts-title</code>. I personally find that to be overkill because I don’t post multiple times a day and my titles aren’t likely to be the same so I just use <code>post: /:year/:slug/</code> for my blog.<br>
</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource default number-lines code-with-copy"><code class="sourceCode default"><span id="cb13-1"><a href="#cb13-1"></a>permalinks:</span>
<span id="cb13-2"><a href="#cb13-2"></a>  post: /:year/:month/:day/:slug/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="styles" class="level3">
<h3 class="anchored" data-anchor-id="styles">Styles<br>
</h3>
<p>There are a number of changes that can be made to improve the look and feel of all pages under <code>~/content/</code>, but for this site I’m sticking very close to the theme. Just know, you can change any of the CSS styles the same way we did with the navbar to apply CSS properties across all the content on the site! The one thing we will change for this site is fonts.<br>
</p>
<section id="fonts-1" class="level4">
<h4 class="anchored" data-anchor-id="fonts-1">Fonts<br>
</h4>
<p>We already changed fonts in the navbar so I won’t walk back through the entire process, but here’s the CSS code I used to modify fonts throughout my content. I just repeated the some process of finding parts of the page I wanted to modify, finding the CSS selectors, importing the font I wanted, and applying it to the CSS selector.&nbsp;</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">.nav-links</span> li {</span>
<span id="cb14-2"><a href="#cb14-2"></a>  <span class="kw">display</span>: <span class="dv">inline-block</span><span class="op">;</span></span>
<span id="cb14-3"><a href="#cb14-3"></a>  <span class="kw">margin</span>: <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">15</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb14-4"><a href="#cb14-4"></a>  <span class="kw">font-family</span>: Rubik<span class="op">,</span> Overpass<span class="op">;</span></span>
<span id="cb14-5"><a href="#cb14-5"></a>  <span class="kw">font-size</span>: <span class="dv">1.25</span><span class="dt">rem</span><span class="op">;</span></span>
<span id="cb14-6"><a href="#cb14-6"></a>}</span>
<span id="cb14-7"><a href="#cb14-7"></a>h1<span class="op">,</span> h2<span class="op">,</span> <span class="fu">.article-title</span> {</span>
<span id="cb14-8"><a href="#cb14-8"></a>  <span class="kw">font-family</span>: Roboto<span class="op">,</span> Merriweather<span class="op">;</span></span>
<span id="cb14-9"><a href="#cb14-9"></a>  <span class="kw">font-size</span>: <span class="dv">1.5</span><span class="dt">rem</span><span class="op">;</span></span>
<span id="cb14-10"><a href="#cb14-10"></a>  <span class="kw">font-weight</span>: <span class="dv">bold</span><span class="op">;</span></span>
<span id="cb14-11"><a href="#cb14-11"></a>}</span>
<span id="cb14-12"><a href="#cb14-12"></a>h3<span class="op">,</span> h4<span class="op">,</span> <span class="fu">.article-duration</span><span class="op">,</span> <span class="fu">.archive-item-link</span> {</span>
<span id="cb14-13"><a href="#cb14-13"></a>  <span class="kw">font-family</span>: Roboto<span class="op">,</span> Merriweather<span class="op">;</span></span>
<span id="cb14-14"><a href="#cb14-14"></a>  <span class="kw">font-size</span>: <span class="dv">1.3</span><span class="dt">em</span><span class="op">;</span></span>
<span id="cb14-15"><a href="#cb14-15"></a>  <span class="kw">font-weight</span>: <span class="dv">bold</span><span class="op">;</span></span>
<span id="cb14-16"><a href="#cb14-16"></a>}</span>
<span id="cb14-17"><a href="#cb14-17"></a>h5<span class="op">,</span> h6<span class="op">,</span> <span class="fu">.footer</span> {</span>
<span id="cb14-18"><a href="#cb14-18"></a>  <span class="kw">font-family</span>: Roboto<span class="op">,</span> Merriweather<span class="op">;</span></span>
<span id="cb14-19"><a href="#cb14-19"></a>  <span class="kw">font-size</span>: <span class="dv">1</span><span class="dt">rem</span><span class="op">;</span></span>
<span id="cb14-20"><a href="#cb14-20"></a>  <span class="kw">font-weight</span>: <span class="dv">bold</span><span class="op">;</span></span>
<span id="cb14-21"><a href="#cb14-21"></a>}</span>
<span id="cb14-22"><a href="#cb14-22"></a><span class="fu">.article-date</span> {</span>
<span id="cb14-23"><a href="#cb14-23"></a>  <span class="kw">font-family</span>: Roboto<span class="op">,</span> Merriweather<span class="op">;</span></span>
<span id="cb14-24"><a href="#cb14-24"></a>  <span class="kw">font-size</span>: <span class="dv">.9</span><span class="dt">rem</span><span class="op">;</span></span>
<span id="cb14-25"><a href="#cb14-25"></a>}</span>
<span id="cb14-26"><a href="#cb14-26"></a>body {</span>
<span id="cb14-27"><a href="#cb14-27"></a>  <span class="kw">font-family</span>: Roboto<span class="op">,</span> Merriweather<span class="op">;</span></span>
<span id="cb14-28"><a href="#cb14-28"></a>  <span class="kw">font-size</span>: <span class="dv">1</span><span class="dt">rem</span><span class="op">;</span></span>
<span id="cb14-29"><a href="#cb14-29"></a>}</span>
<span id="cb14-30"><a href="#cb14-30"></a>code {</span>
<span id="cb14-31"><a href="#cb14-31"></a>  <span class="kw">font-family</span>: Fira Code<span class="op">,</span> Source Code Pro<span class="op">,</span> <span class="dv">monospace</span><span class="op">;</span></span>
<span id="cb14-32"><a href="#cb14-32"></a>  <span class="kw">font-weight</span>: <span class="dv">300</span><span class="op">;</span></span>
<span id="cb14-33"><a href="#cb14-33"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Now we have a blog with a custom navbar and fonts throughout all of the content. However, you might notice some content doesn’t pick up our CSS configurations.<br>
</p>
<center>
<img src="images/ggplot2_no_font_change.png" class="img-fluid" width="350">
</center>
</section>
<section id="style-raster-graphics" class="level4">
<h4 class="anchored" data-anchor-id="style-raster-graphics">Style Raster Graphics<br>
</h4>
<p>When we publish blog posts we’ll render all sorts of content using R libraries. Unfortunately, the outputs from our R code may not easily integrate to our site and this can be one of the trickier parts of maintaining a nice looking blog, especially if you choose a highly styled theme :grimacing: In this case, the image a <a href="https://www.adobe.com/creativecloud/file-types/image/comparison/raster-vs-vector.html">raster graphic</a>. Raster graphics are image files (pixels), which have no use for CSS code. We need to apply the same properties to our R graphics to match the style of the site. This applies to any plotting using the graphics device including <a href="https://ggplot2.tidyverse.org/">ggplot2</a> :astonished:<br>
</p>
<center>
<img src="images/ggplot2_png_source.png" class="img-fluid" width="400">
</center>
<p>We can resolve this problem a few different ways, but the first and most obvious approach is to <a href="https://ggplot2-book.org/polishing.html">customize the ggplot2 theme</a>. The <a href="https://ggplot2.tidyverse.org/reference/theme.html">theme()</a> function in ggplot2 provides a huge number of settings that can be used to customize the output including color, font, background, etc. This really becomes more of a ggplot2 tutorial, so I’m going to skip a bit of the details but the aforementioned resources should provide more than enough to customize your ggplot2 output for your blog. I try to be DRY (do not repeat yourself) when possible so I created a few themes for my blog for different visual types (e.g.&nbsp;one for standard visuals, one for faceted plots, one for non-grid based plots like network diagrams, etc.). Below is a gist of my standard theme if it’s a helpful starting point. You can choose existing themes and add onto them as show below (i.e.&nbsp;<code>theme_minimal() + theme(...)</code>).<br>
</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>blogdown<span class="sc">::</span><span class="fu">shortcode</span>(<span class="st">"gist"</span>, <span class="st">"mark-druffel"</span>, <span class="st">"83b839abe61d056a2b4cef81d09f7bcc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
{{% gist "mark-druffel" "83b839abe61d056a2b4cef81d09f7bcc" %}}
</div>
</div>
<p>Depending how you style your blog, I think you could also use <a href="https://rstudio.github.io/thematic/">thematic</a> and <a href="https://rstudio.github.io/bslib/">bslib</a>, but since the blog doesn’t use bootstrap by default I personally haven’t tried to do that… Aside from the theme, some other helpful resources when using ggplot2 in blogdown include <a href="https://jrnold.github.io/ggthemes/reference/index.html">ggthemes</a>, <a href="https://ragg.r-lib.org/">ragg</a>, <a href="https://github.com/yixuan/showtext">showtext</a>, and <a href="https://wilkelab.org/ggtext/">ggtext</a>.</p>
<section id="ggthemes" class="level5">
<h5 class="anchored" data-anchor-id="ggthemes">ggthemes<br>
</h5>
<p>Library with complete ggplot2 themes including pre-built color scale functions. I don’t use ggthemes on my blog, but you could adopt a theme from there if any fit the style of your site which would simplify things tremendously.&nbsp;</p>
</section>
<section id="ragg" class="level5">
<h5 class="anchored" data-anchor-id="ragg">ragg<br>
</h5>
<p>The ragg library will simply improve R’s raster graphics rendering performance and quality. It will make ggplot2 output look sharper.</p>
</section>
<section id="showtext" class="level5">
<h5 class="anchored" data-anchor-id="showtext">showtext<br>
</h5>
<p>The showtext library makes it easier to use non-standard fonts with the R graphics device. Again, our site’s CSS <strong>is not</strong> available to ggplot2 when we render plots. Therefore, we’ll have to either install fonts on our machine (similar to adding them to a folder for the site) or load them from an API (similar to importing them in our CSS from the fonts API). Then we need to make them available to the R session. You can see an example in the <a href="https://cran.r-project.org/web/packages/showtext/vignettes/introduction.html">package vignettes</a>. Instructions for installing fonts on a machine will vary by OS, but it’s very simple to do on Linux, Mac, or Windows if you just use a search engine.<br>
</p>
</section>
<section id="ggtext" class="level5">
<h5 class="anchored" data-anchor-id="ggtext">ggtext<br>
</h5>
<p>The ggtext library allows the use of markdown syntax inside ggplot2. This <strong>does not</strong> change your theme, it’s just an easy way to bold titles and things like that on an individual plot.<br>
</p>
<p>Ok let’s look apply this stuff to our aforementioned plot from the demo post. Open <code>~/content/post/&lt;date&gt;-r-markdown/index.Rmd</code>. Load the necessary libraries, load the fonts, run <code>showtext_auto()</code> to make the fonts available, and create a theme function you’ll use on your plot. I used a theme based on <code>theme_void()</code> since the demo is a pie chart.<br>
</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="fu">library</span>(ragg)</span>
<span id="cb16-2"><a href="#cb16-2"></a><span class="fu">library</span>(showtext)</span>
<span id="cb16-3"><a href="#cb16-3"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb16-4"><a href="#cb16-4"></a><span class="fu">library</span>(ggrepel)</span>
<span id="cb16-5"><a href="#cb16-5"></a><span class="co"># Tell knitr to use ragg for graphics</span></span>
<span id="cb16-6"><a href="#cb16-6"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">dev =</span> <span class="st">"ragg_png"</span>)</span>
<span id="cb16-7"><a href="#cb16-7"></a><span class="co"># font_add_google is a function in sysfonts which is loaded by showtext</span></span>
<span id="cb16-8"><a href="#cb16-8"></a><span class="fu">font_add_google</span>(<span class="st">"Rubik"</span>, <span class="st">"rubik"</span>)</span>
<span id="cb16-9"><a href="#cb16-9"></a><span class="fu">font_add_google</span>(<span class="st">"Roboto"</span>, <span class="st">"roboto"</span>)</span>
<span id="cb16-10"><a href="#cb16-10"></a><span class="fu">font_add_google</span>(<span class="st">"Fira Code"</span>, <span class="st">"firaCode"</span>)</span>
<span id="cb16-11"><a href="#cb16-11"></a><span class="co"># Adding a noticeable font just to make sure everything is working</span></span>
<span id="cb16-12"><a href="#cb16-12"></a><span class="fu">font_add_google</span>(<span class="st">"Homemade Apple"</span>, <span class="st">"homemadeApple"</span>)</span>
<span id="cb16-13"><a href="#cb16-13"></a><span class="fu">showtext_auto</span>()</span>
<span id="cb16-14"><a href="#cb16-14"></a>theme_void_blog <span class="ot">&lt;-</span> <span class="cf">function</span>(...){</span>
<span id="cb16-15"><a href="#cb16-15"></a>  ggplot2<span class="sc">::</span><span class="fu">theme_void</span>() <span class="sc">+</span> </span>
<span id="cb16-16"><a href="#cb16-16"></a>    ggplot2<span class="sc">::</span><span class="fu">theme</span>(</span>
<span id="cb16-17"><a href="#cb16-17"></a>      <span class="at">text =</span> ggplot2<span class="sc">::</span><span class="fu">element_text</span>(</span>
<span id="cb16-18"><a href="#cb16-18"></a>        <span class="at">family =</span> <span class="st">"roboto"</span>,</span>
<span id="cb16-19"><a href="#cb16-19"></a>        <span class="at">size =</span> <span class="dv">11</span>, </span>
<span id="cb16-20"><a href="#cb16-20"></a>        <span class="at">inherit.blank =</span> <span class="cn">FALSE</span>),</span>
<span id="cb16-21"><a href="#cb16-21"></a>      <span class="at">title =</span> ggplot2<span class="sc">::</span><span class="fu">element_text</span>(</span>
<span id="cb16-22"><a href="#cb16-22"></a>        <span class="at">family =</span> <span class="st">"homemadeApple"</span>,</span>
<span id="cb16-23"><a href="#cb16-23"></a>        <span class="at">face =</span> <span class="st">"bold"</span>,</span>
<span id="cb16-24"><a href="#cb16-24"></a>        <span class="at">size =</span> <span class="dv">18</span>, </span>
<span id="cb16-25"><a href="#cb16-25"></a>        <span class="at">inherit.blank =</span> <span class="cn">FALSE</span>,</span>
<span id="cb16-26"><a href="#cb16-26"></a>        <span class="at">hjust =</span> .<span class="dv">5</span>),</span>
<span id="cb16-27"><a href="#cb16-27"></a>      <span class="at">plot.subtitle =</span> ggplot2<span class="sc">::</span><span class="fu">element_text</span>(</span>
<span id="cb16-28"><a href="#cb16-28"></a>        <span class="at">family =</span> <span class="st">"homemadeApple"</span>,</span>
<span id="cb16-29"><a href="#cb16-29"></a>        <span class="at">size =</span> <span class="dv">14</span>, </span>
<span id="cb16-30"><a href="#cb16-30"></a>        <span class="at">inherit.blank =</span> <span class="cn">FALSE</span>), </span>
<span id="cb16-31"><a href="#cb16-31"></a>    <span class="at">legend.title =</span> ggplot2<span class="sc">::</span><span class="fu">element_text</span>(</span>
<span id="cb16-32"><a href="#cb16-32"></a>      <span class="at">family =</span> <span class="st">"rubik"</span>, </span>
<span id="cb16-33"><a href="#cb16-33"></a>      <span class="at">size =</span> <span class="dv">12</span>,</span>
<span id="cb16-34"><a href="#cb16-34"></a>      <span class="at">face =</span> <span class="st">"bold"</span>,</span>
<span id="cb16-35"><a href="#cb16-35"></a>      <span class="at">inherit.blank =</span> <span class="cn">FALSE</span>,</span>
<span id="cb16-36"><a href="#cb16-36"></a>      <span class="at">hjust =</span> .<span class="dv">5</span>), </span>
<span id="cb16-37"><a href="#cb16-37"></a>    <span class="at">legend.text =</span> ggplot2<span class="sc">::</span><span class="fu">element_text</span>(</span>
<span id="cb16-38"><a href="#cb16-38"></a>      <span class="at">family =</span> <span class="st">"roboto"</span>, </span>
<span id="cb16-39"><a href="#cb16-39"></a>      <span class="at">color =</span> <span class="st">"#33334D"</span>, </span>
<span id="cb16-40"><a href="#cb16-40"></a>      <span class="at">size =</span> <span class="dv">10</span>, <span class="at">hjust =</span> <span class="dv">0</span>)</span>
<span id="cb16-41"><a href="#cb16-41"></a>    ) <span class="sc">+</span> </span>
<span id="cb16-42"><a href="#cb16-42"></a>    ggplot2<span class="sc">::</span><span class="fu">theme</span>(...)</span>
<span id="cb16-43"><a href="#cb16-43"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>This demo file uses the <code>pie()</code> function from base R. Nothing wrong with the function, but I’m not as familiar with the base R plotting tools so I’m going to use ggplot2 instead. The labels actually aren’t as simple with ggplot, but I just used <a href="https://ggrepel.slowkow.com/">ggrepel</a> to make the labeling simpler. The new fonts should load and mostly the same visualization should render with your new fonts.&nbsp;</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>tibble<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb17-2"><a href="#cb17-2"></a>  <span class="co">#value = c(280, 60, 20),</span></span>
<span id="cb17-3"><a href="#cb17-3"></a>  <span class="at">value =</span> <span class="fu">c</span>(<span class="dv">280</span>, <span class="dv">60</span>, <span class="dv">20</span>),</span>
<span id="cb17-4"><a href="#cb17-4"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">'Sky'</span>, <span class="st">'Shady side of pyramid'</span>, <span class="st">'Sunny side of pyramid'</span>),</span>
<span id="cb17-5"><a href="#cb17-5"></a>  <span class="at">color =</span> <span class="fu">c</span>(<span class="st">'#0292D8'</span>, <span class="st">'#F7EA39'</span>, <span class="st">'#C4B632'</span>)</span>
<span id="cb17-6"><a href="#cb17-6"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb17-7"><a href="#cb17-7"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> value, <span class="at">label =</span> name, <span class="at">fill =</span> color)) <span class="sc">+</span> </span>
<span id="cb17-8"><a href="#cb17-8"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span> </span>
<span id="cb17-9"><a href="#cb17-9"></a>  <span class="fu">coord_polar</span>(<span class="at">theta =</span> <span class="st">"y"</span>, <span class="at">start =</span> pi <span class="sc">/</span> <span class="fl">1.275</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb17-10"><a href="#cb17-10"></a>  <span class="fu">scale_fill_identity</span>() <span class="sc">+</span></span>
<span id="cb17-11"><a href="#cb17-11"></a>  <span class="fu">geom_text_repel</span>(<span class="at">family =</span> <span class="st">"roboto"</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">nudge_x =</span> .<span class="dv">6</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>, <span class="at">segment.color =</span> <span class="st">"transparent"</span>) <span class="sc">+</span></span>
<span id="cb17-12"><a href="#cb17-12"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"To make sure showtext is working"</span>) <span class="sc">+</span></span>
<span id="cb17-13"><a href="#cb17-13"></a>  <span class="fu">theme_void_blog</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
</section>
<section id="style-vector-graphics" class="level3">
<h3 class="anchored" data-anchor-id="style-vector-graphics">Style Vector Graphics<br>
</h3>
<p>R libraries don’t just produce raster graphics like plots from ggplot2, many libraries use the <a href="https://www.htmlwidgets.org/">htmlwidgets</a> framework which uses HTML, CSS, and JavaScript to produce interactive visualizations / widgets. Depending on exactly how the widget is set up, it will inherit CSS properties from your site. However, you may want to create new CSS properties or apply existing properties to specific parts of the widget.<br>
</p>
<p>If you add the code below to a new block inside <code>~/content/post/&lt;date&gt;-r-markdown/index.Rmd</code> and run you’ll create a d3.js scatter plot from the <a href="https://hrbrmstr.github.io/metricsgraphics/">metricsgraphics</a> library.<br>
</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="fu">library</span>(metricsgraphics)</span>
<span id="cb18-2"><a href="#cb18-2"></a>mtcars <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3"></a>  <span class="fu">mjs_plot</span>(<span class="at">x=</span>wt, <span class="at">y=</span>mpg, <span class="at">width=</span><span class="dv">600</span>, <span class="at">height=</span><span class="dv">500</span>) <span class="sc">%&gt;%</span></span>
<span id="cb18-4"><a href="#cb18-4"></a>  <span class="fu">mjs_point</span>(<span class="at">color_accessor=</span>carb, <span class="at">size_accessor=</span>carb) <span class="sc">%&gt;%</span></span>
<span id="cb18-5"><a href="#cb18-5"></a>  <span class="fu">mjs_labs</span>(<span class="at">x=</span><span class="st">"Weight of Car"</span>, <span class="at">y=</span><span class="st">"Miles per Gallon"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="mjs-0b33acf4cb414fc9277b0f4be829b3" class="metricsgraphics html-widget " style="width:100%;height:541px;"></div>
<div id="mjs-0b33acf4cb414fc9277b0f4be829b3-legend" class="metricsgraphics html-widget -legend"></div>
<script type="application/json" data-for="mjs-0b33acf4cb414fc9277b0f4be829b3">{"x":{"forCSS":null,"regions":null,"orig_posix":false,"data":{"mpg":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"cyl":[6,6,4,6,8,6,8,4,4,6,6,8,8,8,8,8,8,4,4,4,4,8,8,8,8,4,4,4,8,6,8,4],"disp":[160,160,108,258,360,225,360,146.7,140.8,167.6,167.6,275.8,275.8,275.8,472,460,440,78.7,75.7,71.1,120.1,318,304,350,400,79,120.3,95.1,351,145,301,121],"hp":[110,110,93,110,175,105,245,62,95,123,123,180,180,180,205,215,230,66,52,65,97,150,150,245,175,66,91,113,264,175,335,109],"drat":[3.9,3.9,3.85,3.08,3.15,2.76,3.21,3.69,3.92,3.92,3.92,3.07,3.07,3.07,2.93,3,3.23,4.08,4.93,4.22,3.7,2.76,3.15,3.73,3.08,4.08,4.43,3.77,4.22,3.62,3.54,4.11],"wt":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"qsec":[16.46,17.02,18.61,19.44,17.02,20.22,15.84,20,22.9,18.3,18.9,17.4,17.6,18,17.98,17.82,17.42,19.47,18.52,19.9,20.01,16.87,17.3,15.41,17.05,18.9,16.7,16.9,14.5,15.5,14.6,18.6],"vs":[0,0,1,1,0,1,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,0,1,0,0,0,1],"am":[1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1],"gear":[4,4,4,3,3,3,3,4,4,4,4,3,3,3,3,3,3,4,4,4,3,3,3,3,3,4,5,5,5,5,5,4],"carb":[4,4,1,1,2,1,4,2,2,4,4,3,3,3,4,4,4,1,2,1,1,2,2,4,2,1,2,2,4,6,8,2]},"x_axis":true,"y_axis":true,"baseline_accessor":null,"predictor_accessor":null,"show_confidence_band":null,"show_secondary_x_label":null,"chart_type":"point","xax_format":"plain","x_label":"Weight of Car","y_label":"Miles per Gallon","markers":null,"baselines":null,"linked":false,"title":null,"description":null,"left":80,"right":10,"bottom":60,"buffer":8,"format":"count","y_scale_type":"linear","yax_count":5,"xax_count":6,"x_rug":false,"y_rug":false,"area":false,"missing_is_hidden":false,"size_accessor":"carb","color_accessor":"carb","color_type":"number","color_range":["blue","red"],"size_range":[1,5],"bar_height":20,"min_x":null,"max_x":null,"min_y":null,"max_y":null,"bar_margin":1,"binned":false,"bins":null,"least_squares":false,"interpolate":"cardinal","decimals":2,"show_rollover_text":true,"x_accessor":"wt","y_accessor":"mpg","multi_line":null,"geom":"point","yax_units":"","legend":null,"legend_target":null,"y_extended_ticks":false,"x_extended_ticks":false,"target":"#mjs-0b33acf4cb414fc9277b0f4be829b3"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>If you inspect the CSS carefully you can see the CSS properties we added in the <a href="####apply-new-fonts">apply new fonts section</a>.</p>
<center>
<img src="images/d3_axis_font_before.png" class="img-fluid" width="600">
</center>
<p>That’s likely the behavior we’d want. That said, if we wanted to modify the font of the axises, for instance, we could add CSS properties to the classes of the htmlwidget like so. Many htmlwidget libraries provide tools to do this directly, for instance <code>metricsgraphics::mjs_add_css_rule()</code>, but it’s good to know how to do it directly in the Rmarkdown document as well because sometimes that’s necessary or easier.<br>
</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb19-1"><a href="#cb19-1"></a><span class="fu">.mg-x-axis</span> {</span>
<span id="cb19-2"><a href="#cb19-2"></a>  <span class="kw">font-family</span>: Homemade Apple<span class="op">;</span></span>
<span id="cb19-3"><a href="#cb19-3"></a>}</span>
<span id="cb19-4"><a href="#cb19-4"></a><span class="fu">.mg-y-axis</span> {</span>
<span id="cb19-5"><a href="#cb19-5"></a>  <span class="kw">font-family</span>: Homemade Apple<span class="op">;</span></span>
<span id="cb19-6"><a href="#cb19-6"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<center>
<img src="images/d3_axis_font_after.png" class="img-fluid" width="600">
</center>
<section id="css-conflicts" class="level4">
<h4 class="anchored" data-anchor-id="css-conflicts">CSS Conflicts</h4>
<p>Some htmlwidgets have generic CSS selectors that are in <code>main.css</code>, but no way to modify them through the library. An example I’ve bumped into in the past was the library <a href="">skimr</a>. These selectors were probably chosen intentionally to try to easily match site styles, but sometimes it doesn’t look great. To avoid those conflicts, throughout your entire <code>main.css</code> file you can use a prefix for the site. For example, you could change <code>.header</code> to <code>.site-header</code>.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="co"># Find and replace ".header {"  to ".site-header {"</span></span>
<span id="cb20-2"><a href="#cb20-2"></a>usethis<span class="sc">::</span><span class="fu">edit_file</span>(main_css)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>If you do that, you’ll have to find references of that class in your html partials. First, move the partial from the theme as we’ve mentioned before. <strong>WARNING, WE MODIFY THIS FILE SEVERAL PLACES. DO NOT RUN THIS CODE IF YOU ALREADY MOVED THIS FILE INTO YOUR PARTIALS FOLDER, IT WILL ERASE YOUR WORK!</strong></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>fs<span class="sc">::</span><span class="fu">file_copy</span>(<span class="fu">paste0</span>(here<span class="sc">::</span><span class="fu">here</span>(),<span class="st">'/themes/hugo-lithium/layouts/partials/header.html'</span>), <span class="fu">paste0</span>(here<span class="sc">::</span><span class="fu">here</span>(), <span class="st">'/layouts/partials/header.html'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>You’d need to modify <code>header.html</code> to the code below by changing the <code>&lt;header class="header"&gt;</code> to <code>&lt;header class="site-header"&gt;</code>.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode numberSource default number-lines code-with-copy"><code class="sourceCode default"><span id="cb22-1"><a href="#cb22-1"></a>&lt;!DOCTYPE html&gt;</span>
<span id="cb22-2"><a href="#cb22-2"></a>&lt;html lang="{{ .Site.LanguageCode }}"&gt;</span>
<span id="cb22-3"><a href="#cb22-3"></a>  &lt;head&gt;</span>
<span id="cb22-4"><a href="#cb22-4"></a>    {{ partial "head.html" . }}</span>
<span id="cb22-5"><a href="#cb22-5"></a>  &lt;/head&gt;</span>
<span id="cb22-6"><a href="#cb22-6"></a>  &lt;body&gt;</span>
<span id="cb22-7"><a href="#cb22-7"></a>    &lt;div class="wrapper"&gt;</span>
<span id="cb22-8"><a href="#cb22-8"></a>      &lt;header class="site-header"&gt;</span>
<span id="cb22-9"><a href="#cb22-9"></a>        {{ partial "nav.html" . }}</span>
<span id="cb22-10"><a href="#cb22-10"></a>      &lt;/header&gt;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="add-multimedia" class="level3">
<h3 class="anchored" data-anchor-id="add-multimedia">Add Multimedia<br>
</h3>
<p>Now, let’s move onto the really hard hitting content like emojis! :joy: As you’ve seen throughout this post there’s a lot of multimedia you can use on a page. Hugo provides support for a number of things that blogdown wraps directly like emojis, tweets, youtube, etc. Beyond Hugo and blogdown, there are several R libraries that can provide additional content such as <a href="https://rstudio.github.io/fontawesome/">fontawesome</a>.<br>
</p>
<p>I’m going to modify the about page to demonstrate a few of these tools, <code>content/about.md</code>. Notice the about page is a <code>.md</code> file not an <code>.Rmd</code> file. Vanilla <code>.md</code> files can be used for simple pages with just text, images, emojis, but they will not have access to R. I generally use <code>.Rmd</code> files for everything, but <code>.md</code> are less complex and render much more quickly so keep that in mind.<br>
</p>
<p>To demonstrate all the multimedia functionality that comes to mind, I’ll need an <code>.Rmd</code> file so delete the <code>.md</code> version (optional) and create <code>about.Rmd</code>. In <code>about.Rmd</code>, first we setup our yaml header. There are a number of options that can be set in the yaml header, refer to the <a href="https://bookdown.org/yihui/rmarkdown-cookbook/rmarkdown-anatomy.html">rmarkdown cookbook</a> for more details - these yaml headers provide a lot of customization features out of the box.<br>
</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode numberSource default number-lines code-with-copy"><code class="sourceCode default"><span id="cb23-1"><a href="#cb23-1"></a>---</span>
<span id="cb23-2"><a href="#cb23-2"></a>title: "About"</span>
<span id="cb23-3"><a href="#cb23-3"></a>---</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Under our header we can start to create our about page. We can use Hugo’s built in <a href="https://www.webfx.com/tools/emoji-cheat-sheet/">emojis</a> in our sentences to insert emojis that are words wrapped in colons anywhere in the document. For these to work, we need to add a line to <code>config.yaml</code>.<br>
</p>
<center>
<img src="images/enable_emojis.png" class="img-fluid" width="400">
</center>
<p>The list of emojis supported by Hugo is small, but we can use the <a href="https://rstudio.github.io/fontawesome/">fontawesome package</a> to insert <a href="https://fontawesome.com/">fontawesome</a> emojis. To find new fontawesome icons search <a href="https://fontawesome.com/icons">here</a> or use <code>fontawesome::fa_metadata()</code>. Note the heart in the code below is an emoji in the Hugo supported syntax, since blogdown parses the entire document it will add emojis in code blocks as well.<br>
</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>This is a blog I have created to share analytics with my team members. Although we have and <span class="sc">:</span>heart<span class="sc">:</span> Apache Superset <span class="sc">&amp;</span> shiny, sometimes I just want to quickly share analysis I perform <span class="cf">in</span> <span class="st">`</span><span class="at">fontawesome::fa("r-project", fill = "steelblue")</span><span class="st">`</span>.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Hugo has a <a href="https://gohugo.io/content-management/shortcodes/">shortcode</a> feature that allows users to pull in content from a number of platforms. The <code>blogdown::shortcode()</code> function is a wrapper to use it. It can be used to embed tweets, figures, youtube videos, gists, etc.<br>
</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>blogdown<span class="sc">::</span><span class="fu">shortcode</span>(<span class="st">"youtube"</span>, <span class="st">"2xkNJL4gJ9E"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="quarto-video ratio ratio-16x9"><iframe src="https://www.youtube.com/embed/2xkNJL4gJ9E" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<p>It can also be used for syntax highlighting languages which may not be supported by knitr.<br>
</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>blogdown<span class="sc">::</span><span class="fu">shortcode</span>(<span class="st">"highlight"</span>, <span class="st">"bash"</span>, <span class="at">.content =</span> <span class="st">"echo Thanks for visiting our new site!;"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><code>bash echo "Thanks for visiting our new site!"</code></p>
<p>You might be thinking, shortcode doesn’t support GIFs!?!@ Agreed, but don’t worrying GIFs are simple to add without using shortcode. They are an image and therefore work exactly like image files do. Add, <code>![&lt;my alt text&gt;](&lt;link to giph&gt;){&lt;add CSS properties}</code>, to a new line in your document - <strong>not in a code block</strong>. In the CSS properties you can add anything you want, but I typically use it to specify width like <code>{width=500px}</code>. If you want to center the image, one simple way is to just wrap the line in <code>&lt;center&gt; &lt;/center&gt;</code> tags. You can save the giph in a folder in the post folder, or just link to a direct url. Giphy provides <em>GIF Links</em> if you hit the share button.</p>
<center>
<img src="https://media.giphy.com/media/3o7ZeQBhbVGnELP4bK/giphy.gif" class="img-fluid" width="500">
</center>
</section>
<section id="markdown-formatting" class="level3">
<h3 class="anchored" data-anchor-id="markdown-formatting">Markdown Formatting</h3>
<p>There are so many guides on markdown formatting and I’m guessing most users will already know a little so I’m going to cut this section short. If you’re new to markdown, checkout this <a href="https://www.markdownguide.org/basic-syntax">guide</a>. If you’re like me, you probably know markdown pretty well but always bump into weird pesky things. I’m going to cover a few little tricks I’ve picked up that I find myself looking up a lot.<br>
</p>
<section id="section-links" class="level4">
<h4 class="anchored" data-anchor-id="section-links">Section Links</h4>
<p>Sometimes you want to refer a user to a prior section. Do this the same way you add a hyperlink, but replace spaces in the section name with hyphens. For example, to refer someone back to the beginning of this entire section I would use <code>[this](#build-a-site-from-scratch)</code>. which does <a href="#build-a-site-from-scratch">this</a>.<br>
</p>
</section>
<section id="bullets" class="level4">
<h4 class="anchored" data-anchor-id="bullets">Bullets<br>
</h4>
<p>I often add bullets and the style looks terrible because markdown isn’t actually recognizing them as bullets. This is caused by two mistakes I commonly make:&nbsp;</p>
<ul>
<li>Keep one line between the paragraph above the bullets and the bullets themselves.<br>
</li>
<li>Make sure you end the above paragraph and each bullet with a <a href="####linebreaks">linebreak</a>.<br>
</li>
</ul>
</section>
<section id="linebreaks" class="level4">
<h4 class="anchored" data-anchor-id="linebreaks">Linebreaks</h4>
<p>According the markdown documentation:<br>
</p>
<blockquote class="blockquote">
<p>CommonMark and a few other lightweight markup languages let you type a backslash () at the end of the line, but not all Markdown applications support this, so it isn’t a great option from a compatibility perspective. The markdown docs instead recommend using two spaces (which is impossible to see in the IDE) or <br> at the end of a line. I’ve gotten into the habit of using backslash, but <br> seems like a good option as well.</p>
</blockquote>
</section>
</section>
</section>
<section id="other-styling-components" class="level2">
<h2 class="anchored" data-anchor-id="other-styling-components">Other Styling &amp; Components<br>
</h2>
<section id="browser-tab-title-image" class="level3">
<h3 class="anchored" data-anchor-id="browser-tab-title-image">Browser Tab Title &amp; Image<br>
</h3>
<p>You may notice when you preview the site there’s a little <code>Li</code> logo and a title <code>A Hugo Website</code>.<br>
</p>
<center>
<img src="images/browser_title_and_icon.png" class="img-fluid" width="200">
</center>
<p>We can change the logo by creating a favicon logo and adding it. <a href="https://convertio.co/svg-ico/">This site</a> can convert images to icon files. Save the image in <code>/static</code> and add the appropriate reference to the config file. Also, change the text in the config file <code>title</code>.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode numberSource default number-lines code-with-copy"><code class="sourceCode default"><span id="cb27-1"><a href="#cb27-1"></a>title: DocStation Analytics</span>
<span id="cb27-2"><a href="#cb27-2"></a>params:</span>
<span id="cb27-3"><a href="#cb27-3"></a>  favicon: images/favicon.ico</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="code-folding" class="level3">
<h3 class="anchored" data-anchor-id="code-folding">Code Folding<br>
</h3>
<p>This section modifies the Hugo theme substantially more so than the other sections up to this point. It seems like a lot more work, but it’s very simple. Just make sure to follow along and do <strong>all</strong> of the steps unless I specifically say they’re optional because, if you miss any, the code show/hide button might not show up at all which makes it harder to troubleshoot. I never would have figured out how to do this without <a href="https://statnmap.com/2017-11-13-enable-code-folding-in-bookdown-and-blogdown/">Sebastien Rochette’s work he published on his blog</a>, so thanks so much to him! I also want to thank James Pustejovsky who also used Sebastian’s post and did his own incredibly helpful <a href="https://www.jepusto.com/code-folding-update/#comment-5234356899">post</a>.</p>
<section id="high-level-overview" class="level4">
<h4 class="anchored" data-anchor-id="high-level-overview">High Level Overview</h4>
<p>The codefoling is made possible by a JS function, we’ll call it <code>codefolding.js</code>, which searches each page for code based on the HTML classes assigned by blogdown. When it finds code, it wraps it in an HTML div and adds a button. The JS function collapses the div when the button is clicked. That JavaScript function needs to be available to the pages, which means it needs to be in the header or footer of each HTML page. Further, that function relies on other code from bootstrap and custom CSS which need to be loaded first.</p>
</section>
<section id="add-dependencies" class="level4">
<h4 class="anchored" data-anchor-id="add-dependencies">Add Dependencies</h4>
<p>Sebastian wrote his codefolding blog post using Bootstrap 3 relying on <code>collapse.js</code>, <code>dropdown.js</code>, and <code>transition.js</code>, the last of which was deprecated in Bootstrap 4. I’m not enough of a Bootstrap guru to know where that functionality lives in Bootstrap 4 and frankly didn’t want to bother working through that for this one feature on my site - so I just stuck with Bootstrap 3, it works just fine. Those bootstrap functions rely on jquery so you need to download that as well. Finally, we’ll need <a href="https://popper.js.org/">popper.js</a> to allow scrolling within our code boxes, but James’ post provided an API so we’ll just add it in our partials. For posterity, you can just download the <a href="https://github.com/twbs/bootstrap/blob/v3.4.0/dist/js/bootstrap.min.js">bootstrap.min.js</a> file, but I stuck with the three functions only since that’s all I needed.</p>
<ul>
<li><a href="https://github.com/twbs/bootstrap/tree/v3.4.1/js">Bootstrap 3 Latest Version</a></li>
<li><a href="http://code.jquery.com">Jquery</a> - I used 3.6.1</li>
</ul>
<p>Add the JS files to the <code>static/js</code> folder. As we learned when changing the <a href="###home-button">home button</a>, the <code>static/js</code> files will override the files inside <code>~/themes/hugo-lithium/static</code>. I this case, those files aren’t in <code>~/themes/hugo-lithium/static/images/logo.png</code> so they’re simply additive. Again, you only need the three specific files or <code>bootstrap.bundle.min.js</code>, not all four as shown below.<br>
</p>
<center>
<img src="images/static_js_with_bs.png" class="img-fluid" width="350">
</center>
<p>Aside from JS, we’ll also need some CSS to format the div around the code block and the button that controls it. Ideally, we’d just use a recent Bootstrap distribution like <a href="https://github.com/twbs/bootstrap/blob/v5.1.0/dist/css/bootstrap.css">this</a> <strong>which does work</strong>, but it conflicts with other parts of the theme - for me it knocked things out of place in the navbar. We’d need to modify our <code>main.css</code> to manage the conflicts between that file and the boostrap file which could be a lot more work than just creating a custom CSS file for the code folding, which is what I decided to do. Copy the code below and save it at <code>~/static/css/codefolding.css</code>. If you want to make your button look different (e.g.&nbsp;different color, hovering behavior, etc.), this is the place to do that.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb28-1"><a href="#cb28-1"></a><span class="pp">#code-folding-buttons</span> {<span class="kw">float</span>: <span class="dv">right</span><span class="op">;</span>}</span>
<span id="cb28-2"><a href="#cb28-2"></a><span class="pp">#code-folding-buttons</span> <span class="fu">.pull-right</span> <span class="op">&gt;</span> <span class="fu">.dropdown-menu</span> {</span>
<span id="cb28-3"><a href="#cb28-3"></a>    <span class="kw">right</span>: <span class="dv">0</span><span class="op">;</span></span>
<span id="cb28-4"><a href="#cb28-4"></a>    <span class="kw">left</span>: <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb28-5"><a href="#cb28-5"></a>}</span>
<span id="cb28-6"><a href="#cb28-6"></a><span class="pp">#code-folding-buttons</span> <span class="fu">.btn.btn-default.btn-xs.dropdown-toggle</span> {</span>
<span id="cb28-7"><a href="#cb28-7"></a>    <span class="kw">float</span>: <span class="dv">right</span><span class="op">;</span></span>
<span id="cb28-8"><a href="#cb28-8"></a>}</span>
<span id="cb28-9"><a href="#cb28-9"></a><span class="pp">#code-folding-buttons</span><span class="fu">.open</span> <span class="op">&gt;</span> <span class="fu">.dropdown-menu</span> {</span>
<span id="cb28-10"><a href="#cb28-10"></a>    <span class="kw">display</span>: <span class="dv">block</span><span class="op">;</span></span>
<span id="cb28-11"><a href="#cb28-11"></a>}</span>
<span id="cb28-12"><a href="#cb28-12"></a><span class="pp">#code-folding-buttons</span> <span class="fu">.dropdown-menu</span> li {</span>
<span id="cb28-13"><a href="#cb28-13"></a>    <span class="kw">padding</span>: <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-14"><a href="#cb28-14"></a>}</span>
<span id="cb28-15"><a href="#cb28-15"></a><span class="co">/* Each code block button */</span></span>
<span id="cb28-16"><a href="#cb28-16"></a><span class="fu">.code-folding-btn</span> { </span>
<span id="cb28-17"><a href="#cb28-17"></a>  <span class="kw">margin-right</span>: <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-18"><a href="#cb28-18"></a>  <span class="kw">margin-bottom</span>: <span class="dv">4</span><span class="dt">px</span><span class="op">;</span> </span>
<span id="cb28-19"><a href="#cb28-19"></a>  <span class="kw">width</span>: <span class="dv">125</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb28-20"><a href="#cb28-20"></a>  <span class="kw">background</span>: <span class="cn">#fff</span><span class="op">;</span></span>
<span id="cb28-21"><a href="#cb28-21"></a>  <span class="kw">border-top</span>: <span class="cn">#252525</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span><span class="op">;</span></span>
<span id="cb28-22"><a href="#cb28-22"></a>  <span class="kw">border-bottom</span>: <span class="cn">#252525</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span><span class="op">;</span></span>
<span id="cb28-23"><a href="#cb28-23"></a>  <span class="kw">border-left</span>: <span class="cn">#252525</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span><span class="op">;</span></span>
<span id="cb28-24"><a href="#cb28-24"></a>  <span class="kw">border-right</span>: <span class="cn">#252525</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span><span class="op">;</span></span>
<span id="cb28-25"><a href="#cb28-25"></a>  <span class="kw">border-radius</span>: <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-26"><a href="#cb28-26"></a>  <span class="kw">text-align</span>: <span class="dv">center</span><span class="op">;</span></span>
<span id="cb28-27"><a href="#cb28-27"></a>  <span class="kw">color</span>: <span class="cn">black</span><span class="op">;</span></span>
<span id="cb28-28"><a href="#cb28-28"></a>  <span class="kw">padding</span>: <span class="dv">6</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-29"><a href="#cb28-29"></a>  <span class="kw">float</span>: <span class="dv">right</span><span class="op">;</span></span>
<span id="cb28-30"><a href="#cb28-30"></a>  <span class="kw">font-family</span>: Rubik<span class="op">;</span></span>
<span id="cb28-31"><a href="#cb28-31"></a>  <span class="kw">font-size</span>: <span class="dv">.75</span><span class="dt">rem</span><span class="op">;</span></span>
<span id="cb28-32"><a href="#cb28-32"></a>  <span class="kw">font-weight</span>: <span class="dv">400</span><span class="op">;</span></span>
<span id="cb28-33"><a href="#cb28-33"></a>}</span>
<span id="cb28-34"><a href="#cb28-34"></a><span class="fu">.code-folding-btn</span><span class="in">:hover</span> { </span>
<span id="cb28-35"><a href="#cb28-35"></a>  <span class="kw">background</span>: <span class="cn">#252525</span><span class="op">;</span></span>
<span id="cb28-36"><a href="#cb28-36"></a>  <span class="kw">border-top</span>: <span class="cn">#fff</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span><span class="op">;</span></span>
<span id="cb28-37"><a href="#cb28-37"></a>  <span class="kw">border-bottom</span>: <span class="cn">#fff</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span><span class="op">;</span></span>
<span id="cb28-38"><a href="#cb28-38"></a>  <span class="kw">border-left</span>: <span class="cn">#fff</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span><span class="op">;</span></span>
<span id="cb28-39"><a href="#cb28-39"></a>  <span class="kw">border-right</span>: <span class="cn">#fff</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span><span class="op">;</span></span>
<span id="cb28-40"><a href="#cb28-40"></a>  <span class="kw">color</span>: <span class="cn">white</span><span class="op">;</span></span>
<span id="cb28-41"><a href="#cb28-41"></a>  <span class="kw">font-family</span>: Rubik<span class="op">;</span></span>
<span id="cb28-42"><a href="#cb28-42"></a>  <span class="kw">font-size</span>: <span class="dv">.75</span><span class="dt">rem</span><span class="op">;</span></span>
<span id="cb28-43"><a href="#cb28-43"></a>  <span class="kw">font-weight</span>: <span class="dv">600</span><span class="op">;</span></span>
<span id="cb28-44"><a href="#cb28-44"></a>}</span>
<span id="cb28-45"><a href="#cb28-45"></a><span class="fu">.row</span> { </span>
<span id="cb28-46"><a href="#cb28-46"></a>    <span class="kw">display</span>: <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb28-47"><a href="#cb28-47"></a>    <span class="kw">border-bottom</span>: <span class="dv">solid</span> <span class="dv">1</span><span class="dt">px</span> <span class="cn">#d7d7d7</span><span class="op">;</span></span>
<span id="cb28-48"><a href="#cb28-48"></a>}</span>
<span id="cb28-49"><a href="#cb28-49"></a><span class="fu">.col-md-12</span> {</span>
<span id="cb28-50"><a href="#cb28-50"></a>    <span class="kw">margin</span>: <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb28-51"><a href="#cb28-51"></a>}</span>
<span id="cb28-52"><a href="#cb28-52"></a><span class="fu">.collapse</span> {</span>
<span id="cb28-53"><a href="#cb28-53"></a>    <span class="kw">display</span>: <span class="dv">none</span><span class="op">;</span> </span>
<span id="cb28-54"><a href="#cb28-54"></a>}</span>
<span id="cb28-55"><a href="#cb28-55"></a><span class="fu">.in</span> { </span>
<span id="cb28-56"><a href="#cb28-56"></a>    <span class="kw">display</span>: <span class="dv">block</span> <span class="op">;</span></span>
<span id="cb28-57"><a href="#cb28-57"></a>    <span class="kw">border</span>: <span class="dv">solid</span> <span class="dv">1</span><span class="dt">px</span> <span class="cn">#d7d7d7</span><span class="op">;</span></span>
<span id="cb28-58"><a href="#cb28-58"></a>    <span class="kw">border-radius</span>: <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-59"><a href="#cb28-59"></a>}</span>
<span id="cb28-60"><a href="#cb28-60"></a><span class="co">/* Main show/hide button */</span></span>
<span id="cb28-61"><a href="#cb28-61"></a><span class="pp">#code-folding-buttons</span> {<span class="kw">float</span>: <span class="dv">right</span><span class="op">;</span>}</span>
<span id="cb28-62"><a href="#cb28-62"></a><span class="pp">#code-folding-buttons</span> <span class="fu">.dropdown-menu</span> {</span>
<span id="cb28-63"><a href="#cb28-63"></a>    <span class="kw">min-width</span>: <span class="dv">80</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-64"><a href="#cb28-64"></a>    <span class="kw">padding</span>: <span class="dv">5</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb28-65"><a href="#cb28-65"></a>    <span class="kw">margin</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb28-66"><a href="#cb28-66"></a>    <span class="kw">font-size</span>: <span class="dv">14</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-67"><a href="#cb28-67"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="add-modify-partials" class="level4">
<h4 class="anchored" data-anchor-id="add-modify-partials">Add Modify Partials</h4>
<p>Now that we have dependencies in place, we need to add the necessary HTML partials so that the dependencies are added when the site is rendered by Hugo. You can structure your partials however you want, but each theme generally has things structured a certain way that might be easy to piggy back off of. Below is some R code to copy files from the existing theme (hugo-lithium specific) and create new files we need.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a>fs<span class="sc">::</span><span class="fu">file_touch</span>(<span class="fu">paste0</span>(here<span class="sc">::</span><span class="fu">here</span>(), <span class="st">'/layouts/partials/header_maincodefolding.html'</span>))</span>
<span id="cb29-2"><a href="#cb29-2"></a>fs<span class="sc">::</span><span class="fu">file_copy</span>(<span class="fu">paste0</span>(here<span class="sc">::</span><span class="fu">here</span>(),<span class="st">'/themes/hugo-lithium/layouts/partials/head_custom.html'</span>), <span class="fu">paste0</span>(here<span class="sc">::</span><span class="fu">here</span>(), <span class="st">'/layouts/partials/head_custom.html'</span>))</span>
<span id="cb29-3"><a href="#cb29-3"></a>fs<span class="sc">::</span><span class="fu">file_copy</span>(<span class="fu">paste0</span>(here<span class="sc">::</span><span class="fu">here</span>(),<span class="st">'/themes/hugo-lithium/layouts/partials/header.html'</span>), <span class="fu">paste0</span>(here<span class="sc">::</span><span class="fu">here</span>(), <span class="st">'/layouts/partials/header.html'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Notice partials have if statements in them, such as <code>{{ if eq .RelPermalink "/" }} ... {{ else }}{{ if .Description }} ... {{ end }}{{ end }}</code>. These if statements reference variables in <code>config.yaml</code>, it’s how the <code>config.yaml</code> is able to parameterize a Hugo site. When the site is rendered, Hugo reads the yaml and includes HTML partials based on the if statements. I actually don’t use parameters for my codefolding, but Sebastien set them up in his post and I left them in here for people who may want them - and to just better illustrate how Hugo works. You can completely remove all the if statements in the partials we create and leave the parameters off of the config file if you like.&nbsp;</p>
<section id="header_alldoc_codefolding_button.html" class="level5">
<h5 class="anchored" data-anchor-id="header_alldoc_codefolding_button.html">header_alldoc_codefolding_button.html</h5>
<p><strong>Optionally</strong>, Sebastien added a code folding button at the top of all posts which can show or hide code throughout the document. It looks like the screenshot below:<br>
</p>
<center>
<img src="images/alldoc_codefolding_button_seb_site.png" class="img-fluid" width="550">
</center>
<p>I decided to leave this off of my site because I don’t like putting it in the navbar and it just felt clunky at the top of the doc. I would want to modify the navbar and use an icon in the top right, but didn’t seem worth the work. This is the html partial to do that though which I called <code>header_alldoc_codefolding_button.html</code>. You can copy it either way if you like, it won’t be rendered unless it’s added to another partial file.<br>
</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode numberSource default number-lines code-with-copy"><code class="sourceCode default"><span id="cb30-1"><a href="#cb30-1"></a>{{ if and (not .Site.Params.disable_codefolding) (not .Params.disable_codefolding) (in (string .Content) "&lt;/pre&gt;") }}</span>
<span id="cb30-2"><a href="#cb30-2"></a>&lt;div id="code-folding-buttons" class="btn-group pull-right"&gt;</span>
<span id="cb30-3"><a href="#cb30-3"></a>  &lt;button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" data-_extension-text-contrast=""&gt;</span>
<span id="cb30-4"><a href="#cb30-4"></a>    &lt;span&gt;Show/Hide all code&lt;/span&gt; </span>
<span id="cb30-5"><a href="#cb30-5"></a>    &lt;span class="caret"&gt;&lt;/span&gt;</span>
<span id="cb30-6"><a href="#cb30-6"></a>  &lt;/button&gt;</span>
<span id="cb30-7"><a href="#cb30-7"></a>  &lt;ul class="dropdown-menu" style="min-width: 50px;"&gt;</span>
<span id="cb30-8"><a href="#cb30-8"></a>  &lt;li&gt;&lt;a id="rmd-show-all-code" href="#"&gt;Show All Code&lt;/a&gt;</span>
<span id="cb30-9"><a href="#cb30-9"></a>  &lt;/li&gt;&lt;li&gt;&lt;a id="rmd-hide-all-code" href="#"&gt;Hide All Code&lt;/a&gt;&lt;/li&gt;</span>
<span id="cb30-10"><a href="#cb30-10"></a>  &lt;/ul&gt;</span>
<span id="cb30-11"><a href="#cb30-11"></a>&lt;/div&gt;</span>
<span id="cb30-12"><a href="#cb30-12"></a>{{ end }}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="head_custom.html" class="level5">
<h5 class="anchored" data-anchor-id="head_custom.html">head_custom.html</h5>
<p>The lithium template has a <code>head_custom.html</code> file by default, which is empty. It’s already loaded into the site so we don’t have to modify / create as many partials to implement our code folding by using it. We can use this to load dependencies into the site’s header. First, we’ll load the jquery, bootrap, and popper.js dependencies. Next, we load <code>codefolding.js</code> and <code>codefolding.css</code>. Finally, we can run <code>codefolding.js</code> (i.e.&nbsp;within <code>$(document).ready</code>). If you don’t plan to use <code>config.yaml</code> to disable code folding on certain posts you can omit the if statements.<br>
</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode numberSource default number-lines code-with-copy"><code class="sourceCode default"><span id="cb31-1"><a href="#cb31-1"></a>{{ if not .Site.Params.disable_codefolding }}</span>
<span id="cb31-2"><a href="#cb31-2"></a>&lt;script src="{{ "js/jquery-3.6.0.min.js" | relURL }}"&gt;&lt;/script&gt;</span>
<span id="cb31-3"><a href="#cb31-3"></a>&lt;script src="{{ "js/transition.js" | relURL }}"&gt;&lt;/script&gt;</span>
<span id="cb31-4"><a href="#cb31-4"></a>&lt;script src="{{ "js/collapse.js" | relURL }}"&gt;&lt;/script&gt;</span>
<span id="cb31-5"><a href="#cb31-5"></a>&lt;script src="{{ "js/dropdown.js" | relURL }}"&gt;&lt;/script&gt;</span>
<span id="cb31-6"><a href="#cb31-6"></a>  &lt;script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"&gt;&lt;/script&gt;</span>
<span id="cb31-7"><a href="#cb31-7"></a>{{ end }}</span>
<span id="cb31-8"><a href="#cb31-8"></a>{{ if and (not .Site.Params.disable_codefolding) (not .Params.disable_codefolding) (in (string .Content) "&lt;/pre&gt;") }} </span>
<span id="cb31-9"><a href="#cb31-9"></a>&lt;script src="{{ "js/codefolding.js" | relURL }}"&gt;&lt;/script&gt;</span>
<span id="cb31-10"><a href="#cb31-10"></a>&lt;link rel="stylesheet" href="{{ "css/codefolding.css" | relURL }}" /&gt;</span>
<span id="cb31-11"><a href="#cb31-11"></a>&lt;script&gt;</span>
<span id="cb31-12"><a href="#cb31-12"></a>$(document).ready(function () {</span>
<span id="cb31-13"><a href="#cb31-13"></a>  window.initializeCodeFolding("show" === {{ if isset .Params "codefolding_show" }}{{ .Params.codefolding_show }}{{ else }}{{ default ("hide") .Site.Params.codefolding_show }}{{ end }});</span>
<span id="cb31-14"><a href="#cb31-14"></a>});</span>
<span id="cb31-15"><a href="#cb31-15"></a>&lt;/script&gt;</span>
<span id="cb31-16"><a href="#cb31-16"></a>{{ end }}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>head_custom.html</code> partial is pulled into the <code>~/themes/hugo-lithium/layouts/partials/head.html</code> partial, which we don’t need to modify or move out of themes. It’s loaded on the last line below with no if statement (i.e.&nbsp;it’s always loaded).<br>
</p>
<center>
<img src="images/head_load_head_custom.png" class="img-fluid" width="550">
</center>
</section>
<section id="header.html" class="level5">
<h5 class="anchored" data-anchor-id="header.html">header.html<br>
</h5>
<p>The aforementioned <code>head.html</code>, and by extension <code>head_custom.html</code>, are loaded into <code>header.html</code> (these names are a bit tough to keep straight). There’s no need to make changes to <code>header.html</code> unless you wanted to add the <a href="#####header_alldoc_codefolding_button.html">button to collapse and show all code</a>, which is included below.<br>
</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode numberSource default number-lines code-with-copy"><code class="sourceCode default"><span id="cb32-1"><a href="#cb32-1"></a>&lt;!DOCTYPE html&gt;</span>
<span id="cb32-2"><a href="#cb32-2"></a>&lt;html lang="{{ .Site.LanguageCode }}"&gt;</span>
<span id="cb32-3"><a href="#cb32-3"></a>  &lt;head&gt;</span>
<span id="cb32-4"><a href="#cb32-4"></a>    {{ partial "head.html" . }}</span>
<span id="cb32-5"><a href="#cb32-5"></a>  &lt;/head&gt;</span>
<span id="cb32-6"><a href="#cb32-6"></a>  &lt;body&gt;</span>
<span id="cb32-7"><a href="#cb32-7"></a>    &lt;div class="wrapper"&gt;</span>
<span id="cb32-8"><a href="#cb32-8"></a>      &lt;header class="header"&gt;</span>
<span id="cb32-9"><a href="#cb32-9"></a>        &lt;!-- Add this if you want the butto to callapse and show all code on a page --&gt; </span>
<span id="cb32-10"><a href="#cb32-10"></a>        {{ partial "header_alldoc_codefolding_button.html" . }}</span>
<span id="cb32-11"><a href="#cb32-11"></a>        {{ partial "nav.html" . }}</span>
<span id="cb32-12"><a href="#cb32-12"></a>      &lt;/header&gt;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="setup-config" class="level4">
<h4 class="anchored" data-anchor-id="setup-config">Setup Config</h4>
<p>If you included the if statements in the partials, add these parameters to <code>config.yaml</code> at level 1 (i.e.&nbsp;not nested underneath anything in the file).<br>
</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode numberSource default number-lines code-with-copy"><code class="sourceCode default"><span id="cb33-1"><a href="#cb33-1"></a># Set to true to disable code folding</span>
<span id="cb33-2"><a href="#cb33-2"></a>disable_codefolding: false</span>
<span id="cb33-3"><a href="#cb33-3"></a># Set to "hide" or "show" all codes by default</span>
<span id="cb33-4"><a href="#cb33-4"></a>codefolding_show: hide</span>
<span id="cb33-5"><a href="#cb33-5"></a>codefolding_nobutton: true</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>And voila, you have code folding!<br>
</p>
<center>
<img src="https://media.giphy.com/media/1BFEEIo4h1BuTH8eqP/giphy.gif" class="img-fluid" width="400">
</center>
<p><br>
Pages with code should now have a button beside the code which will expand and collapse the code.<br>
</p>
<center>
<img src="images/code_folding.gif" class="img-fluid" width="500">
</center>
</section>
</section>
<section id="add-links-to-footer" class="level3">
<h3 class="anchored" data-anchor-id="add-links-to-footer">Add Links to Footer</h3>
<p>The lithium template comes with a standard footer on every page. The footer is added into the bottom of every page from the HTML partial <code>footer.html</code>. We can modify the footer to include personal info that shows up at the bottom of all pages on our site.<br>
</p>
<center>
<img src="images/theme_footer.png" class="img-fluid" width="500">
</center>
<p>Move the footer file from the theme into our partials folder.<br>
</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a>fs<span class="sc">::</span><span class="fu">file_copy</span>(<span class="fu">paste0</span>(here<span class="sc">::</span><span class="fu">here</span>(),<span class="st">'/themes/hugo-lithium/layouts/partials/footer.html'</span>), <span class="fu">paste0</span>(here<span class="sc">::</span><span class="fu">here</span>(), <span class="st">'/layouts/partials/footer.html'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="footer.html" class="level4">
<h4 class="anchored" data-anchor-id="footer.html">footer.html<br>
</h4>
<p>I don’t use RSS feed at the moment, so I removed that. I might add it back at some point if I can get into a better groove with posting. I added an email, github, twitter, linkedin, and a credit to the blogdown repo.&nbsp;</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode numberSource default number-lines code-with-copy"><code class="sourceCode default"><span id="cb35-1"><a href="#cb35-1"></a>      &lt;footer class="footer"&gt;</span>
<span id="cb35-2"><a href="#cb35-2"></a>        &lt;ul class="footer-links"&gt;</span>
<span id="cb35-3"><a href="#cb35-3"></a>          {{ with .Site.Params.social }}</span>
<span id="cb35-4"><a href="#cb35-4"></a>          &lt;li&gt;</span>
<span id="cb35-5"><a href="#cb35-5"></a>            &lt;a href="mailto: mark.druffel@gmail.com" class="fa fa-envelope " aria-hidden="true" title="Email"&gt;&lt;/i&gt;&lt;span class="sr-only"&gt;Github&lt;/span&gt;&lt;/a&gt;</span>
<span id="cb35-6"><a href="#cb35-6"></a>          &lt;/li&gt;</span>
<span id="cb35-7"><a href="#cb35-7"></a>          &lt;li&gt;</span>
<span id="cb35-8"><a href="#cb35-8"></a>            &lt;a href="https://github.com/{{ .github }}"&gt;&lt;i class="fa fa-github" aria-hidden="true" title="Github"&gt;&lt;/i&gt;&lt;span class="sr-only"&gt;Github&lt;/span&gt;&lt;/a&gt;</span>
<span id="cb35-9"><a href="#cb35-9"></a>          &lt;/li&gt;</span>
<span id="cb35-10"><a href="#cb35-10"></a>          &lt;li&gt;</span>
<span id="cb35-11"><a href="#cb35-11"></a>            &lt;a href="https://twitter.com/{{ .twitter }}"&gt;&lt;i class="fa fa-twitter" aria-hidden="true" title="Twitter"&gt;&lt;/i&gt;&lt;span class="sr-only"&gt;Twitter&lt;/span&gt;&lt;/a&gt;</span>
<span id="cb35-12"><a href="#cb35-12"></a>          &lt;/li&gt;</span>
<span id="cb35-13"><a href="#cb35-13"></a>          &lt;li&gt;</span>
<span id="cb35-14"><a href="#cb35-14"></a>            &lt;a href="https://www.linkedin.com/in/{{ .linkedin }}"&gt;&lt;i class="fa fa-linkedin" aria-hidden="true" title="LinkedIn"&gt;&lt;/i&gt;&lt;span class="sr-only"&gt;LinkedIn&lt;/span&gt;&lt;/a&gt;</span>
<span id="cb35-15"><a href="#cb35-15"></a>          &lt;/li&gt;</span>
<span id="cb35-16"><a href="#cb35-16"></a>          {{ end }}</span>
<span id="cb35-17"><a href="#cb35-17"></a>          &lt;li&gt;</span>
<span id="cb35-18"><a href="#cb35-18"></a>            &lt;a href="https://gohugo.io/" class="footer-links-kudos"&gt;Made with &lt;img src="{{ "images/hugo-logo.png" | relURL }}" alt="Img link to Hugo website" width="22" height="22"&gt;&lt;/a&gt;</span>
<span id="cb35-19"><a href="#cb35-19"></a>          &lt;/li&gt;</span>
<span id="cb35-20"><a href="#cb35-20"></a>          &lt;li&gt;</span>
<span id="cb35-21"><a href="#cb35-21"></a>            &lt;a href="https://bookdown.org/yihui/blogdown/" class="footer-links-kudos"&gt;Via &lt;img src="{{ "images/blogdown-logo.png" | relURL }}" width="22" height="22"&gt;&lt;/a&gt;</span>
<span id="cb35-22"><a href="#cb35-22"></a>          &lt;/li&gt;</span>
<span id="cb35-23"><a href="#cb35-23"></a>        &lt;/ul&gt;</span>
<span id="cb35-24"><a href="#cb35-24"></a>      &lt;/footer&gt;</span>
<span id="cb35-25"><a href="#cb35-25"></a>    &lt;/div&gt;</span>
<span id="cb35-26"><a href="#cb35-26"></a>    {{ partial "footer_highlightjs" . }}</span>
<span id="cb35-27"><a href="#cb35-27"></a>    {{ partial "footer_mathjax" . }}</span>
<span id="cb35-28"><a href="#cb35-28"></a>    {{ template "_internal/google_analytics.html" . }}</span>
<span id="cb35-29"><a href="#cb35-29"></a>  &lt;/body&gt;</span>
<span id="cb35-30"><a href="#cb35-30"></a>&lt;/html&gt;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If you render the site with this partial you’ll end up with this footer, which is really ugly. The reason is we referenced <a href="https://fontawesome.com/">font awesome</a> logos in the <code>footer.html</code> partial so we need font awesome to render the logos. We need to add a font awesome dependency in the site header or footer to do that.<br>
</p>
<center>
<img src="images/footer_without_fa.png" class="img-fluid" width="500">
</center>
</section>
<section id="head_custom.html-1" class="level4">
<h4 class="anchored" data-anchor-id="head_custom.html-1">head_custom.html<br>
</h4>
<p><strong>WARNING, WE MODIFY THIS FILE SEVERAL PLACES. DO NOT RUN THIS CODE IF YOU ALREADY MOVED THIS FILE INTO YOUR PARTIALS FOLDER, IT WILL ERASE YOUR WORK!</strong> The lithium template has a <code>head_custom.html</code> file by default, which is empty. It’s already loaded into the site so we don’t have to modify / create as many partials to implement our code folding by using it. We can use this to load dependencies into the site’s header.<br>
</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a>fs<span class="sc">::</span><span class="fu">file_copy</span>(<span class="fu">paste0</span>(here<span class="sc">::</span><span class="fu">here</span>(),<span class="st">'/themes/hugo-lithium/layouts/partials/head_custom.html'</span>), <span class="fu">paste0</span>(here<span class="sc">::</span><span class="fu">here</span>(), <span class="st">'/layouts/partials/head_custom.html'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>At the top of <code>head_custom.html</code>, add this line. The <a href="https://www.w3schools.com/tags/att_script_async.asp">async</a> part of the code keeps the site from loading slowly when font awesome doesn’t respond instantaneously.<br>
</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode numberSource default number-lines code-with-copy"><code class="sourceCode default"><span id="cb37-1"><a href="#cb37-1"></a>&lt;script async src="https://use.fontawesome.com/32c3d13def.js"&gt;&lt;/script&gt;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now the footer looks better, but it’s still missing the image at the end. That’s the blogdown package logo which I added manually since it’s not in font awesome. Add the required <a href="https://github.com/rstudio/blogdown/blob/main/pkgdown/favicon">image</a> to <code>~/static/images</code> and make sure the name matches the filename in the HTML partial <code>footer.html</code>.<br>
</p>
<center>
<img src="images/footer_with_fa.png" class="img-fluid" width="500">
</center>
<p>Once you add the blogdown logo file, the footer should look like this.&nbsp;</p>
<center>
<img src="images/footer_with_all.png" class="img-fluid" width="500">
</center>
</section>
</section>
<section id="misc-configs" class="level3">
<h3 class="anchored" data-anchor-id="misc-configs">Misc Configs<br>
</h3>
<p>There are so many configurations you can use in the lithium theme and even more throughout Hugo.<br>
</p>
<section id="disqusshortname" class="level5">
<h5 class="anchored" data-anchor-id="disqusshortname">disqusShortname<br>
</h5>
<p>Disqus is a simple way to add a comments box on your site. Disqus has helped me engage with other data scientists through their sites which is a super simple way to connect with other people in the profession. It’s so simple, I highly recommend it. To use Disqus on your site, you need to create an account and then <a href="https://disqus.com/admin/create/">create a new site</a> on that account. When you create a site, you give it a shortname which you can then add to the <code>config.yaml</code>.<br>
</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode numberSource default number-lines code-with-copy"><code class="sourceCode default"><span id="cb38-1"><a href="#cb38-1"></a>baseurl: /</span>
<span id="cb38-2"><a href="#cb38-2"></a>languageCode: en-us</span>
<span id="cb38-3"><a href="#cb38-3"></a>title: DocStation Analytics</span>
<span id="cb38-4"><a href="#cb38-4"></a>theme: hugo-lithium</span>
<span id="cb38-5"><a href="#cb38-5"></a>googleAnalytics: ''</span>
<span id="cb38-6"><a href="#cb38-6"></a>disqusShortname: 'add the name here'</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="canonifyurls" class="level5">
<h5 class="anchored" data-anchor-id="canonifyurls">canonifyURLs<br>
</h5>
<p>Tells Hugo to use <a href="https://gohugo.io/content-management/urls/#canonicalization">canonical urls</a>.<br>
</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode numberSource default number-lines code-with-copy"><code class="sourceCode default"><span id="cb39-1"><a href="#cb39-1"></a>baseurl: /</span>
<span id="cb39-2"><a href="#cb39-2"></a>languageCode: en-us</span>
<span id="cb39-3"><a href="#cb39-3"></a>title: DocStation Analytics</span>
<span id="cb39-4"><a href="#cb39-4"></a>theme: hugo-lithium</span>
<span id="cb39-5"><a href="#cb39-5"></a>googleAnalytics: ''</span>
<span id="cb39-6"><a href="#cb39-6"></a>canonifyURLs: true</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="enablerobotstxt" class="level5">
<h5 class="anchored" data-anchor-id="enablerobotstxt">enableRobotsTXT<br>
</h5>
<p>Tells Hugo to use a <a href="https://gohugo.io/templates/robots/">custom robots.txt file</a>, which tells bots how to interact with your site. Learn more <a href="https://www.cloudflare.com/learning/bots/what-is-robots.txt/">here</a>. To modify the robots.txt file, add the below code to the <code>config.yaml</code>.<br>
</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode numberSource default number-lines code-with-copy"><code class="sourceCode default"><span id="cb40-1"><a href="#cb40-1"></a>baseurl: /</span>
<span id="cb40-2"><a href="#cb40-2"></a>languageCode: en-us</span>
<span id="cb40-3"><a href="#cb40-3"></a>title: DocStation Analytics</span>
<span id="cb40-4"><a href="#cb40-4"></a>theme: hugo-lithium</span>
<span id="cb40-5"><a href="#cb40-5"></a>googleAnalytics: ''</span>
<span id="cb40-6"><a href="#cb40-6"></a>enableRobotsTXT: true</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Then create a new robots.txt file at <code>~/layouts/robots.txt</code>.<br>
</p>
</section>
</section>
</section>
<section id="deploy-w-hosting-service" class="level2">
<h2 class="anchored" data-anchor-id="deploy-w-hosting-service">Deploy w/ Hosting Service<br>
</h2>
<p>You can deploy a blogdown site to an endless number of services including Netlify, Github Pages, Cloudflare, AWS S3, etc. I’m not going to document deployment because it’s so well documented elsewhere, but explain the first two options below.&nbsp;</p>
<section id="netlify" class="level3">
<h3 class="anchored" data-anchor-id="netlify">Netlify<br>
</h3>
<p>I get the impression that Netlify is the most popular place to host a blogdown. It’s to setup CI/CD with Github and Netlify has domain services so you can register your own custom domain in the same place. It’s what I use for my personal site. That said, if you want to set your site up with Netlify I’m going to hand you off to Alison because her <a href="https://apreshill.netlify.app/blog/2020-12-new-year-new-blogdown/#step-1-create-repo">up &amp; running with blogdown in 2021 post</a> provides a flawless step-by-step. There’s simply no reason to replicate here.&nbsp;</p>
</section>
<section id="github-pages" class="level3">
<h3 class="anchored" data-anchor-id="github-pages">Github Pages<br>
</h3>
<p>Github pages seems to be a close second in popularity from what I’ve seen. It’s even simpler than netlify, but you cannot use a <a href="https://docs.github.com/en/enterprise-cloud@latest/pages/configuring-a-custom-domain-for-your-github-pages-site">custom domain without a premium account</a>. Again, I’m going to outsource the guide on this approach because it’s so simple and already well documented in the <a href="https://bookdown.org/yihui/blogdown/github-pages.html">blogdown book</a>.<br>
</p>
</section>
</section>
<section id="deploy-internally-w-docker" class="level2">
<h2 class="anchored" data-anchor-id="deploy-internally-w-docker">Deploy Internally w/ Docker&nbsp;</h2>
<p>As I mentioned, I host my personal site on Netlify - it’s been very cheap and easy to use. However, I want to publish an internal blog at work that needs to be secured. Netlify requires an enterprise account to use oauth, and their <a href="https://answers.netlify.com/t/pricing-change-questions-what-are-team-members/">new pricing model</a> would be cost prohibitive for a small startup. Further, because we work with health data we use a service called <a href="https://www.aptible.com/">Aptible</a> that makes HIPPA compliance and auditing much simpler. Given that, I need to host my blogdown site in a Docker container. Given the length of this post I’m going ot save that for another later post (if / when time allows).</p>


<!-- -->

</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp(/https:\/\/www\.mark-druffel\.com/);
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
          // default icon
          link.classList.add("external");
      }
    }
});
</script>
<script src="https://giscus.app/client.js" data-repo="mark-druffel/www.mark-druffel.com" data-repo-id="R_kgDOIlYeNg" data-category="Blog" data-category-id="" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" data-loading="lazy" async="">
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb41" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb41-1"><a href="#cb41-1"></a><span class="co">---</span></span>
<span id="cb41-2"><a href="#cb41-2"></a><span class="an">title:</span><span class="co"> "Building a blogdown site"</span></span>
<span id="cb41-3"><a href="#cb41-3"></a><span class="an">subtitle:</span><span class="co"> "Build a blogdown site from scratch with code-folding, a custom footer, &amp; other hugo theme hacks"</span></span>
<span id="cb41-4"><a href="#cb41-4"></a><span class="an">author:</span><span class="co"> "Mark Druffel"</span></span>
<span id="cb41-5"><a href="#cb41-5"></a><span class="an">date:</span><span class="co"> "2022-01-05"</span></span>
<span id="cb41-6"><a href="#cb41-6"></a><span class="an">categories:</span><span class="co"> ["walkthrough"] </span></span>
<span id="cb41-7"><a href="#cb41-7"></a><span class="an">keywords:</span><span class="co"> []</span></span>
<span id="cb41-8"><a href="#cb41-8"></a><span class="an">image:</span><span class="co"> images/blogdown_plus_hugo.png </span></span>
<span id="cb41-9"><a href="#cb41-9"></a><span class="an">link-external-newwindow:</span><span class="co"> true</span></span>
<span id="cb41-10"><a href="#cb41-10"></a><span class="an">link-external-icon:</span><span class="co"> true</span></span>
<span id="cb41-11"><a href="#cb41-11"></a><span class="an">code-fold:</span><span class="co"> true</span></span>
<span id="cb41-12"><a href="#cb41-12"></a><span class="an">code-overflow:</span><span class="co"> scroll</span></span>
<span id="cb41-13"><a href="#cb41-13"></a><span class="an">code-line-numbers:</span><span class="co"> true</span></span>
<span id="cb41-14"><a href="#cb41-14"></a><span class="an">code-tools:</span><span class="co"> true</span></span>
<span id="cb41-15"><a href="#cb41-15"></a><span class="an">execute:</span></span>
<span id="cb41-16"><a href="#cb41-16"></a><span class="co">  eval: true</span></span>
<span id="cb41-17"><a href="#cb41-17"></a><span class="co">  echo: true</span></span>
<span id="cb41-18"><a href="#cb41-18"></a><span class="co">  warning: false</span></span>
<span id="cb41-19"><a href="#cb41-19"></a><span class="co">  error: false</span></span>
<span id="cb41-20"><a href="#cb41-20"></a><span class="co">  freeze: auto</span></span>
<span id="cb41-21"><a href="#cb41-21"></a><span class="co">---</span> </span>
<span id="cb41-22"><a href="#cb41-22"></a></span>
<span id="cb41-23"><a href="#cb41-23"></a></span>
<span id="cb41-24"><a href="#cb41-24"></a><span class="fu"># Background</span></span>
<span id="cb41-25"><a href="#cb41-25"></a>I've created a few different versions of my blog using blogdown. Creating new blog with blogdown is so simple, but customizing can be finicky. I started a guide when I upgrade my site to blogdown 1.0, but was still sitting in a stack of posts that never made their way to the web when I started writing this :flushed: Now a year later I'm hoping to use blogdown internally at my new job to disseminate analysis more easily and I could really use that post as a guide :scream: So, for posterity I'm going to document the process as I go through it. If you'd like to learn how to create blogdown site or learn how to customize on your existing blogdown site, read on.\</span>
<span id="cb41-26"><a href="#cb41-26"></a></span>
<span id="cb41-27"><a href="#cb41-27"></a><span class="fu">## What is blogdown?  </span></span>
<span id="cb41-28"><a href="#cb41-28"></a><span class="co">[</span><span class="ot">blogdown</span><span class="co">](https://pkgs.rstudio.com/blogdown/)</span> is an R package witten by <span class="co">[</span><span class="ot">Yihui Xie</span><span class="co">](https://en.wikipedia.org/wiki/Yihui_Xie)</span>  that wraps the <span class="co">[</span><span class="ot">Hugo web development framework</span><span class="co">](https://gohugo.io/)</span>. Blogdown provides a tool for R developers to build their own blogs and portfolio sites from Hugo templates. There are several other R libraries to consider for publishing including <span class="co">[</span><span class="ot">distill</span><span class="co">](https://pkgs.rstudio.com/blogdown/)</span>, <span class="co">[</span><span class="ot">bookdown</span><span class="co">](https://pkgs.rstudio.com/bookdown/)</span>, and <span class="co">[</span><span class="ot">hugodown</span><span class="co">](https://hugodown.r-lib.org/)</span>. We'll cover blogdown only in this post.</span>
<span id="cb41-29"><a href="#cb41-29"></a></span>
<span id="cb41-30"><a href="#cb41-30"></a><span class="fu">### Learning blogdown</span></span>
<span id="cb41-31"><a href="#cb41-31"></a>If you're new to blogdown I recommend this article from <span class="co">[</span><span class="ot">Alison Presmanes Hill Hill</span><span class="co">](https://www.apreshill.com/blog/2020-12-new-year-new-blogdown/)</span>. Alison spent a few years working on the RStudio team and her blog is loaded with blogdown walk-throughs and gotcha's. I highly recommend looking through her blog for other content. Additionally, Yihui wrote a <span class="co">[</span><span class="ot">blogdown book</span><span class="co">](https://bookdown.org/yihui/blogdown/)</span> that I always keep handy. Finally, I occasionally look through Yihui's <span class="co">[</span><span class="ot">stack overflow answers</span><span class="co">](https://stackoverflow.com/users/559676/yihui-xie)</span> just to find tidbits of info about how rmarkdown, knitr, blogdown, etc. really work because they are so complicated and black-box like... It's not specifically a resource for blogdown, but blogdown relies on the knitr and rmarkdown infrastructure so it helps to understand those packages behind the package. Aside from that, blogdown relies on rmarkdown. If you've not used rmarkdown before I recommend at least going through a bit of this <span class="co">[</span><span class="ot">guide</span><span class="co">](https://rmarkdown.rstudio.com/articles_intro.html)</span> from RStudio.\</span>
<span id="cb41-32"><a href="#cb41-32"></a></span>
<span id="cb41-33"><a href="#cb41-33"></a><span class="fu">## What is Hugo?  </span></span>
<span id="cb41-34"><a href="#cb41-34"></a><span class="co">[</span><span class="ot">Hugo</span><span class="co">](https://gohugo.io/about/what-is-hugo/)</span> is a web development framework used to build <span class="co">[</span><span class="ot">static websites</span><span class="co">](https://www.geeksforgeeks.org/static-vs-dynamic-website/)</span>. It's is one of the <span class="co">[</span><span class="ot">most popular static site generators</span><span class="co">](https://jamstack.org/generators/)</span> available at this time. If you're looking to use blogdown, you do not necessarily need to know almost anything about Hugo to succeed. However, the more you understand Hugo the easier it becomes to customize your site, debug, etc.\</span>
<span id="cb41-35"><a href="#cb41-35"></a></span>
<span id="cb41-36"><a href="#cb41-36"></a><span class="fu">### Learning Hugo</span></span>
<span id="cb41-37"><a href="#cb41-37"></a>I'll cover some of the basics in the next section, but I'll barely scratch the surface on Hugo. If you want to learn more, the <span class="co">[</span><span class="ot">Hugo documentation</span><span class="co">](https://gohugo.io/getting-started/quick-start/)</span> and a <span class="co">[</span><span class="ot">youtube playlist</span><span class="co">](https://www.youtube.com/watch?v=qtIqKaDlqXo&amp;list=PLLAZ4kZ9dFpOnyRlyS-liKL5ReHDcj4G3)</span> Hugo provides are both good resources. I also found this <span class="co">[</span><span class="ot">tutorial</span><span class="co">](https://webdesign.tutsplus.com/courses/getting-started-with-hugo-free-static-website-framework)</span> by Adi Purdila useful. I haven't gone through and built my own Hugo site outside blogdown, but just watching the tutorial helped me understand how Hugo works for customization. This is probably a great starting point if you want to learn how to build your own template, but I'm not going there just yet...\</span>
<span id="cb41-38"><a href="#cb41-38"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-39"><a href="#cb41-39"></a><span class="al">![](https://media.giphy.com/media/Uq3wLkZ2yzpkjvjOvi/giphy.gif)</span>{width=500px}</span>
<span id="cb41-40"><a href="#cb41-40"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-41"><a href="#cb41-41"></a></span>
<span id="cb41-42"><a href="#cb41-42"></a><span class="fu"># Prerequisites</span></span>
<span id="cb41-43"><a href="#cb41-43"></a>If you've never done web development at all there are some basic concepts and tools that are important to understand, but given that most of us have been on the internet for a few decades the learning curve isn't too bad. I am not a web developer and have no business teaching web development so please take all this with a grain of salt. The reason I decided to spend time on it is simply that building and customizing a blogdown site requires very basic knowledge of web development. As I was writing the walk through I kept coming back to these concepts and it felt disingenous to write the post without making some attempt to cover them - knowing and acknowledging that my attempt will probably be clumsy at best :grimacing: \</span>
<span id="cb41-44"><a href="#cb41-44"></a></span>
<span id="cb41-45"><a href="#cb41-45"></a><span class="fu">## HTML (HyperText Markup Language)</span></span>
<span id="cb41-46"><a href="#cb41-46"></a><span class="co">[</span><span class="ot">HTML</span><span class="co">](https://simple.wikipedia.org/wiki/HTML)</span> is the primary building block of web pages. There's a ton to learn about HTML. I recommend <span class="co">[</span><span class="ot">w3school's HTML tutorial</span><span class="co">](https://www.w3schools.com/html/default.asp)</span> if you want to get a broad understanding. The two things I'd definitely recommend reviewing are <span class="co">[</span><span class="ot">HTML elements</span><span class="co">](https://www.w3schools.com/html/html_elements.asp)</span> (aka HTML tags) and <span class="co">[</span><span class="ot">HTML attributes</span><span class="co">](https://www.w3schools.com/html/html_attributes.asp)</span>. I always keep these lists of <span class="co">[</span><span class="ot">HTML elements</span><span class="co">](https://www.w3schools.com/tags/default.asp)</span> and <span class="co">[</span><span class="ot">HTML attributes</span><span class="co">](https://www.w3schools.com/tags/ref_attributes.asp)</span> handy.\</span>
<span id="cb41-47"><a href="#cb41-47"></a></span>
<span id="cb41-48"><a href="#cb41-48"></a><span class="fu">## CSS (Cascading Style Sheets)</span></span>
<span id="cb41-49"><a href="#cb41-49"></a><span class="co">[</span><span class="ot">CSS</span><span class="co">](https://www.w3schools.com/whatis/whatis_css.asp)</span> is code used to describe how html elements are to be displayed on a webpage, CSS "styles" a webpage. I borrowed the below image from a <span class="co">[</span><span class="ot">css-tricks post</span><span class="co">](https://css-tricks.com/that-time-i-tried-browsing-the-web-without-css/)</span>, but the image on the right shows what Wikipedia's homepage would look like without CSS.\ </span>
<span id="cb41-50"><a href="#cb41-50"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-51"><a href="#cb41-51"></a><span class="al">![](images/web_without_css.jpeg)</span>{width=800px}</span>
<span id="cb41-52"><a href="#cb41-52"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-53"><a href="#cb41-53"></a></span>
<span id="cb41-54"><a href="#cb41-54"></a>Again, I recommend <span class="co">[</span><span class="ot">w3school's CSS tutorial</span><span class="co">](https://www.w3schools.com/Css/)</span> to get a broad understanding of CSS. If you want to do something to style your site search it and don't be afraid to post on stackoverflow. I find a lot of really specific CSS implementations on there that I've tried to jam into my personal site over time. Time more you do it the easier it gets. What you need to know in CSS can be especially specific to your goal, but I'd recommend reviewing <span class="co">[</span><span class="ot">CSS syntax</span><span class="co">](https://www.w3schools.com/Css/css_syntax.asp)</span> and <span class="co">[</span><span class="ot">CSS selectors</span><span class="co">](https://www.w3schools.com/Css/css_selectors.asp)</span> regardless because they're very useful and fundamental.\</span>
<span id="cb41-55"><a href="#cb41-55"></a></span>
<span id="cb41-56"><a href="#cb41-56"></a><span class="fu">## Browser Developer Tools</span></span>
<span id="cb41-57"><a href="#cb41-57"></a>The <span class="co">[</span><span class="ot">browser web developer tools</span><span class="co">](https://en.wikipedia.org/wiki/Web_development_tools)</span> that come in your standard issue web browser are critical to working on web development. The most commonly used tool within the set is the element inspector which usually is represented by a little square with an arrow in the corner. This video shows a few ways you can use the element inspector.\</span>
<span id="cb41-58"><a href="#cb41-58"></a></span>
<span id="cb41-59"><a href="#cb41-59"></a>{{&lt; video https://www.youtube.com/embed/vi1mUy-nXFo &gt;}}</span>
<span id="cb41-60"><a href="#cb41-60"></a></span>
<span id="cb41-61"><a href="#cb41-61"></a>Using the element inspector allows you to find code related to an element so you can understand the code and make changes. We can try it on David Robinson's <span class="co">[</span><span class="ot">website</span><span class="co">](http://varianceexplained.org/)</span> by  <span class="co">[</span><span class="ot">opening web developer tools</span><span class="co">](https://www.lifewire.com/how-to-clear-cache-2617980)</span>, selecting the image of David, and changing the image link to another image on the web.\</span>
<span id="cb41-62"><a href="#cb41-62"></a></span>
<span id="cb41-63"><a href="#cb41-63"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-64"><a href="#cb41-64"></a><span class="al">![](images/drob_v1.gif)</span>{width=800px}</span>
<span id="cb41-65"><a href="#cb41-65"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-66"><a href="#cb41-66"></a></span>
<span id="cb41-67"><a href="#cb41-67"></a>Changing the content can be useful for obvious reasons, but we can also modify the CSS around objects. We might not want the radial border around the image. We can find that CSS property if we select the image and look in the styles tab. Finding the right CSS property can require some knowledge, but it's usually not too hard to figure looking at the different names and tinkering. David's picture is inside an html <span class="in">`img`</span> tag which contains a class <span class="in">`class="bio-photo`</span>. The styles tab has a CSS selector called <span class="in">`.article-author-side .bio-photo`</span>. That CSS selector has a property called <span class="in">`border-radius`</span>. Un-check that property and see what the site would look like without it. A note, many of the bigger sites use system generated class names and things of that nature which can make this approach break down quickly.\</span>
<span id="cb41-68"><a href="#cb41-68"></a></span>
<span id="cb41-69"><a href="#cb41-69"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-70"><a href="#cb41-70"></a><span class="al">![](images/drob_v2.gif)</span>{width=800px}</span>
<span id="cb41-71"><a href="#cb41-71"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-72"><a href="#cb41-72"></a></span>
<span id="cb41-73"><a href="#cb41-73"></a>We can also add new properties to see what a change might look like. Knowing all the styling options you can use is overwhelming, but just search by the html tag name, in this case <span class="in">`img`</span>, and "CSS properties" (i.e. <span class="co">[</span><span class="ot">search img CSS properties</span><span class="co">](https://duckduckgo.com/?q=img+css+properties&amp;atb=v314-1&amp;ia=web)</span>) and you'll usually get useful results. On this one I ended up back at  <span class="co">[</span><span class="ot">w3schools CSS tutorial</span><span class="co">](https://www.w3schools.com/css/css3_images.asp)</span>.\</span>
<span id="cb41-74"><a href="#cb41-74"></a></span>
<span id="cb41-75"><a href="#cb41-75"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-76"><a href="#cb41-76"></a><span class="al">![](images/drob_v3.gif)</span>{width=800px}</span>
<span id="cb41-77"><a href="#cb41-77"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-78"><a href="#cb41-78"></a></span>
<span id="cb41-79"><a href="#cb41-79"></a>We could probably take this pretty far, but I'll cover one more CSS change. We can change the fonts of text in the site using the same basic approach. Fonts have several CSS properties, but the property that is similar to "font" inside of a word processing software is <span class="co">[</span><span class="ot">font family</span><span class="co">](https://www.w3schools.com/Css/css_font.asp)</span>. Just like most areas in technology, fonts can get very "deep." To my understanding, no fonts are perfectly web safe, meaning they may not work as intended in some browsers or contexts. <span class="co">[</span><span class="ot">These fonts</span><span class="co">](https://www.w3schools.com/Css/css_font_websafe.asp)</span> are considered the safest, but they're also a bit bland which might not be the best choice for all sites. Regardless of what font you choose, always have a few <span class="co">[</span><span class="ot">fallback fonts</span><span class="co">](https://www.w3schools.com/Css/css_font_fallbacks.asp)</span>. Meaning, instead of deleting the font family listed, we can just add our new font to the front. There are obvious style considerations like this new font looking way different than the fallback, but that's a different discussion. When setting fonts in the CSS, include a fallback that you intend to be the fallback rather than relying on the browser's default. If you want to find reasonably web safe fonts, <span class="co">[</span><span class="ot">Google fonts</span><span class="co">](https://fonts.google.com/)</span> has a lot of options.\</span>
<span id="cb41-80"><a href="#cb41-80"></a></span>
<span id="cb41-81"><a href="#cb41-81"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-82"><a href="#cb41-82"></a><span class="al">![](images/drob_v4.gif)</span>{width=800px}</span>
<span id="cb41-83"><a href="#cb41-83"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-84"><a href="#cb41-84"></a></span>
<span id="cb41-85"><a href="#cb41-85"></a><span class="fu">## Testing\  </span></span>
<span id="cb41-86"><a href="#cb41-86"></a>While we're building our site we'll want to test that it works. RStudio has a viewer pane that's closest to development, which I love. However, there are always little differences that can pop up between what we see in RStudio and what shows up in the browser when it gets there. I recommend testing in a browser often. I use <span class="co">[</span><span class="ot">Brave</span><span class="co">](https://brave.com/)</span> as my primary web browser, but I also use Chrome and Safari to test my pages during web development because most users will likely be in one of the two.\  </span>
<span id="cb41-87"><a href="#cb41-87"></a></span>
<span id="cb41-88"><a href="#cb41-88"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-89"><a href="#cb41-89"></a><span class="al">![](images/most_popular_browsers.png)</span>{width=600px} </span>
<span id="cb41-90"><a href="#cb41-90"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-91"><a href="#cb41-91"></a></span>
<span id="cb41-92"><a href="#cb41-92"></a>Beyond that, I also like to do a little bit of device testing. I don't expect I have a ton of mobile users, but I still don't want to have an awful mobile experience if I can help it. I use a tool called <span class="co">[</span><span class="ot">LT Browser</span><span class="co">](https://www.lambdatest.com/lt-browser)</span> to quickly see how the site will look on various devices.\ </span>
<span id="cb41-93"><a href="#cb41-93"></a></span>
<span id="cb41-94"><a href="#cb41-94"></a><span class="fu">## Hugo Basics\</span></span>
<span id="cb41-95"><a href="#cb41-95"></a>As noted, I've never built a Hugo site without blogdown so take all my Hugo advice and instruction with a block of salt. That said, there are a few Hugo concepts that you do have to understand if you want to build a site with blogdown and / or customize the site. I'd recommend reading Alison's article <span class="co">[</span><span class="ot">How much hugo do I need to know?</span><span class="co">](https://www.apreshill.com/blog/2020-12-how-much-hugo/#you-want-to-make-a-website-with-blogdown)</span>. This will help you decide what parts you want to spend time trying to understand. I'll be referencing parts of this article later as well, so it provides helpful context. Aside from that, here's my high-level understanding of these concepts gives you more than enough context for the walk-through.\</span>
<span id="cb41-96"><a href="#cb41-96"></a></span>
<span id="cb41-97"><a href="#cb41-97"></a><span class="fu">### Themes\</span></span>
<span id="cb41-98"><a href="#cb41-98"></a>Hugo sites are built off of themes, which I think of as a website template. Hugo provides mechanics to use a single template for many purposes by changing parameters before rendering the site. Hugo provides a <span class="co">[</span><span class="ot">list of themes</span><span class="co">](https://themes.gohugo.io/)</span> or you can build your own. When selecting a theme to use, I recommend going to the github page and looking at the commit history, the contributors, and the documentation to assess how much you can rely on the theme. It's obviously just a guess regardless, but I think it's a good idea. Regardless, once you select a theme, test it with blogdown before you do anything else. Many themes don't work with blogdown out of the box. I honestly don't know exactly why, but I'd guess reasons vary from theme to theme.\</span>
<span id="cb41-99"><a href="#cb41-99"></a></span>
<span id="cb41-100"><a href="#cb41-100"></a><span class="fu">### Config file\</span></span>
<span id="cb41-101"><a href="#cb41-101"></a>Hugo uses a <span class="co">[</span><span class="ot">config file</span><span class="co">](https://gohugo.io/getting-started/configuration/)</span> with a list of variables that allow users to easily customize their site. For example, the variable <span class="in">`title`</span> is used to set the title of your site that shows up in search engines and on the browser tab. Themes generally come with a config file, but the variables included vary from theme to theme. The <span class="co">[</span><span class="ot">config variables</span><span class="co">](https://gohugo.io/getting-started/configuration/#all-configuration-settings)</span> are provided by Hugo so they can be added, but themes can also provide custom variables called <span class="co">[</span><span class="ot">params</span><span class="co">](https://gohugo.io/content-management/menus/#params)</span>. Params can be in the config file or in a separate file in the config directory. Configs generally contain a <span class="co">[</span><span class="ot">menu</span><span class="co">](https://gohugo.io/content-management/menus/#add-non-content-entries-to-a-menu)</span> which is how the site menu (i.e. navigation bar) is configured. The menu also has <span class="co">[</span><span class="ot">variables</span><span class="co">](https://gohugo.io/variables/menus/#menu-entry-variables)</span> provided by Hugo and can be broken into a separate file in the config directory. This site is small so I don't expect the config file to get too big, but for larger sites the <span class="co">[</span><span class="ot">config can be broken into several files</span><span class="co">](https://gohugo.io/getting-started/configuration/#configuration-directory)</span>.\</span>
<span id="cb41-102"><a href="#cb41-102"></a></span>
<span id="cb41-103"><a href="#cb41-103"></a><span class="fu">### Static Files\</span></span>
<span id="cb41-104"><a href="#cb41-104"></a><span class="co">[</span><span class="ot">Static files</span><span class="co">](https://gohugo.io/content-management/static-files/)</span> get served as-is on the site root. This is useful for storing resources in the site's root. The resources can be images, JS, CSS, etc. (e.g. an image on the home page). </span>
<span id="cb41-105"><a href="#cb41-105"></a></span>
<span id="cb41-106"><a href="#cb41-106"></a><span class="fu">### Content\</span></span>
<span id="cb41-107"><a href="#cb41-107"></a>The content is the substance of the site and Hugo assumes so organizational structure of the site which is explain <span class="co">[</span><span class="ot">here</span><span class="co">](https://gohugo.io/content-management/organization/)</span>. This part seems complicated, but in my experience this is the easiest part to understand when using blogdown.\</span>
<span id="cb41-108"><a href="#cb41-108"></a></span>
<span id="cb41-109"><a href="#cb41-109"></a><span class="fu">### Templating\</span></span>
<span id="cb41-110"><a href="#cb41-110"></a><span class="co">[</span><span class="ot">Templating</span><span class="co">](https://gohugo.io/templates/introduction/)</span> is basically Hugo's engine. It seems very intimidating when you start using blogdown, but it's honestly not - we're just not comfortable enough (or at least I'm not) with all the HTML, CSS, &amp; JS to fully understand how simple Hugo is. Hugo uses templated HTML in combination with other resources in order to dynamically build webpages when the site gets built. Sounds kind of crazy, but if you use <span class="co">[</span><span class="ot">glue</span><span class="co">](https://glue.tidyverse.org/)</span> or <span class="co">[</span><span class="ot">jinja</span><span class="co">](https://jinja.palletsprojects.com/en/3.1.x/)</span> it's pretty familiar. Template variables and functions are accessed within <span class="in">`{{ }}`</span>.\</span>
<span id="cb41-111"><a href="#cb41-111"></a></span>
<span id="cb41-112"><a href="#cb41-112"></a><span class="fu"># Build a site from scratch\</span></span>
<span id="cb41-113"><a href="#cb41-113"></a>Alright I've laid out a lot of background info that most of you probably skipped over (no judgement) so let's get right into it. I'm building this site using <span class="co">[</span><span class="ot">hugo-lithium</span><span class="co">](https://github.com/yihui/hugo-lithium)</span> because it's minimalist and supported by RStudio.\</span>
<span id="cb41-114"><a href="#cb41-114"></a></span>
<span id="cb41-115"><a href="#cb41-115"></a><span class="fu">## Project setup\</span></span>
<span id="cb41-116"><a href="#cb41-116"></a>In Rstudio, go to File -&gt; New Project and there is a simple template. Alternatively, we can use the function <span class="in">`blogdown::new_site()`</span>. Once the site is built, check that the template is working properly by running <span class="in">`blogdown::serve_site()`</span>. For more details refer to <span class="co">[</span><span class="ot">the book</span><span class="co">](https://bookdown.org/yihui/blogdown/a-quick-example.html#create-project)</span>.\</span>
<span id="cb41-117"><a href="#cb41-117"></a></span>
<span id="cb41-118"><a href="#cb41-118"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-119"><a href="#cb41-119"></a><span class="al">![](images/new_project.gif)</span>{width=800px}  </span>
<span id="cb41-120"><a href="#cb41-120"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-121"><a href="#cb41-121"></a></span>
<span id="cb41-122"><a href="#cb41-122"></a>Blogdown will automagically setup a repo structure (create folders and files) for the site, similarly to how <span class="in">`devtools::create_package()`</span> does for <span class="co">[</span><span class="ot">R package development</span><span class="co">](https://r-pkgs.org/whole-game.html#create_package)</span> if that's a familiar process. Since blogdown is a wrapper around Hugo, the repo has resources for both blogdown and Hugo. I'll get into more detail as we customize certain parts of the site, but Alison provided an easy cheat sheet for the folder structure in the below tweet.\</span>
<span id="cb41-123"><a href="#cb41-123"></a></span>
<span id="cb41-124"><a href="#cb41-124"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-125"><a href="#cb41-125"></a><span class="in">```{r, echo=F}</span></span>
<span id="cb41-126"><a href="#cb41-126"></a>blogdown<span class="sc">::</span><span class="fu">shortcode</span>(<span class="st">"tweet"</span>, <span class="st">"1078494406301212672"</span>)</span>
<span id="cb41-127"><a href="#cb41-127"></a><span class="in">```</span></span>
<span id="cb41-128"><a href="#cb41-128"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-129"><a href="#cb41-129"></a></span>
<span id="cb41-130"><a href="#cb41-130"></a><span class="fu">## Customize Navbar\</span></span>
<span id="cb41-131"><a href="#cb41-131"></a>The navbar we start with has a number of components including the home button, page links, and CSS properties. To modify it, we'll start in the config file - <span class="in">`config.yaml`</span>.\</span>
<span id="cb41-132"><a href="#cb41-132"></a></span>
<span id="cb41-133"><a href="#cb41-133"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-134"><a href="#cb41-134"></a><span class="al">![header v.0](images/header_v0.png)</span>{width=800px}</span>
<span id="cb41-135"><a href="#cb41-135"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-136"><a href="#cb41-136"></a></span>
<span id="cb41-137"><a href="#cb41-137"></a><span class="fu">### Page Links\</span></span>
<span id="cb41-138"><a href="#cb41-138"></a>We can modify page links by changing the <span class="in">`menu`</span> object in <span class="in">`config.yaml`</span>. The <span class="in">`name`</span> is the text that will show up in the header, the <span class="in">`url`</span> is the path that will be added to the site's base url, and the <span class="in">`weight`</span> dictates the order on the header (lower numbers show up first reading left to right). The urls must be relative to the context root or an absolute url. For example, for the site <span class="co">[</span><span class="ot">www.mark-druffel.com</span><span class="co">](www.mark-druffel.com)</span>, using <span class="in">`/about/`</span> in the menu would go to <span class="co">[</span><span class="ot">wwww.mark-druffel.com/about</span><span class="co">](wwww.mark-druffel.com/about)</span>. and <span class="in">`www.duckduckgo.com`</span> would go to that external site. This is very straight forward, but using absolute paths can be useful to forward a user to a resume or link in a shiny app.\</span>
<span id="cb41-139"><a href="#cb41-139"></a></span>
<span id="cb41-140"><a href="#cb41-140"></a><span class="in">```{verbatim, echo=T, eval = F}</span></span>
<span id="cb41-141"><a href="#cb41-141"></a><span class="in">menu:</span></span>
<span id="cb41-142"><a href="#cb41-142"></a><span class="in">  main:</span></span>
<span id="cb41-143"><a href="#cb41-143"></a><span class="in">    - name: "About"</span></span>
<span id="cb41-144"><a href="#cb41-144"></a><span class="in">      url: /about/</span></span>
<span id="cb41-145"><a href="#cb41-145"></a><span class="in">      weight: 1</span></span>
<span id="cb41-146"><a href="#cb41-146"></a><span class="in">    - name: "Blog"</span></span>
<span id="cb41-147"><a href="#cb41-147"></a><span class="in">      url: /post/</span></span>
<span id="cb41-148"><a href="#cb41-148"></a><span class="in">      weight: 2</span></span>
<span id="cb41-149"><a href="#cb41-149"></a><span class="in">```</span></span>
<span id="cb41-150"><a href="#cb41-150"></a></span>
<span id="cb41-151"><a href="#cb41-151"></a><span class="fu">### Home Button\</span></span>
<span id="cb41-152"><a href="#cb41-152"></a>The <span class="in">`logo`</span> object seems to be the home button, but it's not immediately apparent where the <span class="in">`logo.png`</span> file comes from. If you poke around the folders you'll find the image at <span class="in">`~/themes/hugo-lithium/static/images/logo.png`</span>. You can add another image file there and change the config to update your header, but remember Alison warned us not to touch <span class="in">`~/themes`</span>. Changing the file in <span class="in">`~/themes`</span> will technically work, but the safer way to make the change is by adding the new logo to <span class="in">`~/static`</span>. Blogdown will take files from <span class="in">`~/static`</span> in replacement of files in <span class="in">`~themes/.../static`</span>. We'll use static for a number of modifications so it's easiest to create a few required folders now.\</span>
<span id="cb41-153"><a href="#cb41-153"></a><span class="in">```{r, echo=T, eval=F}</span></span>
<span id="cb41-154"><a href="#cb41-154"></a>fs<span class="sc">::</span><span class="fu">dir_create</span>(<span class="st">"static/css"</span>)</span>
<span id="cb41-155"><a href="#cb41-155"></a>fs<span class="sc">::</span><span class="fu">dir_create</span>(<span class="st">"static/fonts"</span>)</span>
<span id="cb41-156"><a href="#cb41-156"></a>fs<span class="sc">::</span><span class="fu">dir_create</span>(<span class="st">"static/images"</span>)</span>
<span id="cb41-157"><a href="#cb41-157"></a>fs<span class="sc">::</span><span class="fu">dir_create</span>(<span class="st">"static/js"</span>)</span>
<span id="cb41-158"><a href="#cb41-158"></a><span class="in">```</span></span>
<span id="cb41-159"><a href="#cb41-159"></a></span>
<span id="cb41-160"><a href="#cb41-160"></a>As you can probably guess, we'll use the <span class="in">`~/static/images`</span> folder for the new logo. I added the image file, modified <span class="in">`config.yaml`</span> to reflect the new file name, </span>
<span id="cb41-161"><a href="#cb41-161"></a>and ran <span class="in">`blogdown::serve_site()`</span> again. The new image loaded, but the logo doesn't look right. My image is a rectangle and the edges are being shaved off.\</span>
<span id="cb41-162"><a href="#cb41-162"></a><span class="in">```{verbatim, echo = T, eval = F}</span></span>
<span id="cb41-163"><a href="#cb41-163"></a><span class="in">  logo:</span></span>
<span id="cb41-164"><a href="#cb41-164"></a><span class="in">    alt: Logo</span></span>
<span id="cb41-165"><a href="#cb41-165"></a><span class="in">    height: 50</span></span>
<span id="cb41-166"><a href="#cb41-166"></a><span class="in">    url: home_logo.svg</span></span>
<span id="cb41-167"><a href="#cb41-167"></a><span class="in">    width: 50</span></span>
<span id="cb41-168"><a href="#cb41-168"></a><span class="in">```</span></span>
<span id="cb41-169"><a href="#cb41-169"></a></span>
<span id="cb41-170"><a href="#cb41-170"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-171"><a href="#cb41-171"></a><span class="al">![](images/header_v1.png)</span>{width=600px}</span>
<span id="cb41-172"><a href="#cb41-172"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-173"><a href="#cb41-173"></a></span>
<span id="cb41-174"><a href="#cb41-174"></a>This is just a CSS property. We can use the element inspector see the CSS properties on the logo element. The CSS selector <span class="in">`.nav-logo img`</span> has a <span class="in">`border-radius`</span> that looks like a good candidate. We confirm by un-checking the property from that selector.\</span>
<span id="cb41-175"><a href="#cb41-175"></a></span>
<span id="cb41-176"><a href="#cb41-176"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-177"><a href="#cb41-177"></a><span class="al">![](images/header_v1_browser_dev_tools.gif)</span>{width=800px}</span>
<span id="cb41-178"><a href="#cb41-178"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-179"><a href="#cb41-179"></a></span>
<span id="cb41-180"><a href="#cb41-180"></a>Now that we know the thing we want to change is coming from CSS, we need to modify the CSS file for the theme. Again, we'll work from <span class="in">`~/static`</span> not <span class="in">`~/themes`</span>. You can simply copy the <span class="in">`main.css`</span> file to static using the code below, open the css file, and comment out or delete line 69. CSS comments are applied like this - <span class="in">`/* border-radius: 100%; */`</span>.\</span>
<span id="cb41-181"><a href="#cb41-181"></a><span class="in">```{r, echo=T, eval=F}</span></span>
<span id="cb41-182"><a href="#cb41-182"></a>fs<span class="sc">::</span><span class="fu">file_copy</span>(<span class="st">"themes/hugo-lithium/static/css/main.css"</span>, <span class="st">"static/css/main.css"</span>, <span class="at">overwrite =</span> F)</span>
<span id="cb41-183"><a href="#cb41-183"></a>usethis<span class="sc">::</span><span class="fu">edit_file</span>(<span class="st">"static/css/main.css"</span>)</span>
<span id="cb41-184"><a href="#cb41-184"></a><span class="in">```</span></span>
<span id="cb41-185"><a href="#cb41-185"></a></span>
<span id="cb41-186"><a href="#cb41-186"></a>Now the logo should load without the border radius. However, it's possible it won't even though the code is fine. Initially when I ran <span class="in">`blogdown::serve_site()`</span> it had the border radius on all the browsers I tried. I restarted my R session and still had the issue. When I restarted RStudio and reran <span class="in">`blogdown::serve_site()`</span> it worked in Brave, but it still didn't work in Chrome (shown below). I've seen this behavior in a few situations using blogdown and I think there are a few reasons this can happen, but since it was working in one browser and not the other it seemed to be due to browser caching. I'd recommend reserving a specific browser for testing and continually clearing browsing data. This <span class="co">[</span><span class="ot">article</span><span class="co">](https://www.lifewire.com/how-to-clear-cache-2617980)</span> explains a bit more about browsing data and instructions on deleting it.\</span>
<span id="cb41-187"><a href="#cb41-187"></a></span>
<span id="cb41-188"><a href="#cb41-188"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-189"><a href="#cb41-189"></a><span class="al">![browser caches css](images/header_v1_chrome_cache.png)</span>{width=800px}</span>
<span id="cb41-190"><a href="#cb41-190"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-191"><a href="#cb41-191"></a></span>
<span id="cb41-192"><a href="#cb41-192"></a>Since the navbar is a pretty important part of the experience, it's important it works everywhere. We can do device testing using LT Browser. My logo is pretty large and for some of the smaller devices it took over the header and moved the buttons. We can fix that for smaller devices specifically in the CSS. CSS has an <span class="in">`@media`</span> rule that can be used to apply different styles to different devices based on things such as the screen size of the browser session. This CSS file already had an <span class="in">`@media`</span> section setup, but the code I found on <span class="co">[</span><span class="ot">w3schools</span><span class="co">](https://www.w3schools.com/cssref/css3_pr_mediaquery.asp)</span> worked more consistently when I tested so I updated teh <span class="in">`@media`</span> rule on line 253 to include <span class="in">`only screen and`</span>. Additionally, we'll add a <span class="in">`max-height`</span> &amp; <span class="in">`max-width`</span> starting at line 262 to shrink the logo within this <span class="in">`@media`</span> rule. The change fixed the issue on all devices.\</span>
<span id="cb41-193"><a href="#cb41-193"></a><span class="in">```{css, echo = T, eval = F}</span></span>
<span id="cb41-194"><a href="#cb41-194"></a><span class="co">/* main.css */</span></span>
<span id="cb41-195"><a href="#cb41-195"></a>@media only screen <span class="fu">and</span> <span class="op">(</span>max<span class="op">-</span>width<span class="op">:</span> 600px<span class="op">)</span> <span class="op">{</span></span>
<span id="cb41-196"><a href="#cb41-196"></a>  <span class="op">.</span><span class="fu">nav</span><span class="op">-</span>logo img <span class="op">{</span></span>
<span id="cb41-197"><a href="#cb41-197"></a>    max<span class="op">-</span>height<span class="op">:</span> auto<span class="op">;</span></span>
<span id="cb41-198"><a href="#cb41-198"></a>    max<span class="op">-</span>width<span class="op">:</span> 150px<span class="op">;</span></span>
<span id="cb41-199"><a href="#cb41-199"></a>  <span class="op">}</span></span>
<span id="cb41-200"><a href="#cb41-200"></a><span class="op">}</span></span>
<span id="cb41-201"><a href="#cb41-201"></a><span class="in">```</span></span>
<span id="cb41-202"><a href="#cb41-202"></a></span>
<span id="cb41-203"><a href="#cb41-203"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-204"><a href="#cb41-204"></a><span class="al">![](images/header_v1_screen_testing.png)</span>{width=800px}</span>
<span id="cb41-205"><a href="#cb41-205"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-206"><a href="#cb41-206"></a></span>
<span id="cb41-207"><a href="#cb41-207"></a><span class="fu">### Background Color  </span></span>
<span id="cb41-208"><a href="#cb41-208"></a>Again, we can use the element inspector to figure out which CSS selector and property to change for the background color. The <span class="in">`.header`</span> selector has a <span class="in">`background`</span> property. We can replace that property on line 44 with a new color. Sometimes if I can't find where a color is coming from in the web page, I use <span class="co">[</span><span class="ot">Color Slurp</span><span class="co">](https://colorslurp.com/)</span> to pluck the color hex from the screen and search in the CSS files.\</span>
<span id="cb41-209"><a href="#cb41-209"></a></span>
<span id="cb41-210"><a href="#cb41-210"></a><span class="in">```{css, echo = T, eval = F}</span></span>
<span id="cb41-211"><a href="#cb41-211"></a><span class="co">/* main.css */</span></span>
<span id="cb41-212"><a href="#cb41-212"></a><span class="op">.</span><span class="fu">header</span> <span class="op">{</span></span>
<span id="cb41-213"><a href="#cb41-213"></a>  padding<span class="op">:</span> 20px <span class="dv">0</span><span class="op">;</span></span>
<span id="cb41-214"><a href="#cb41-214"></a>  position<span class="op">:</span> relative<span class="op">;</span></span>
<span id="cb41-215"><a href="#cb41-215"></a>  background<span class="op">:</span> #F6F9FB<span class="op">;</span></span>
<span id="cb41-216"><a href="#cb41-216"></a>  border<span class="op">-</span>bottom<span class="op">:</span> 1px solid #eaeaea<span class="op">;</span></span>
<span id="cb41-217"><a href="#cb41-217"></a><span class="op">}</span></span>
<span id="cb41-218"><a href="#cb41-218"></a><span class="in">```</span></span>
<span id="cb41-219"><a href="#cb41-219"></a></span>
<span id="cb41-220"><a href="#cb41-220"></a><span class="fu">### Fonts  </span></span>
<span id="cb41-221"><a href="#cb41-221"></a>If you want to use different fonts on the navbar (or anywhere else on the site), you'll need to load new fonts. There are two ways I know of to accomplish this, download font files and import them from a folder or import them a font API in our CSS. I recommend the API route because I think it's less work, but there are reasons you might want to download the files, namely if you plan to render the site without internet or in an environment with firewalls (that may interfere with API calls).</span>
<span id="cb41-222"><a href="#cb41-222"></a></span>
<span id="cb41-223"><a href="#cb41-223"></a><span class="fu">#### Download Font Files  </span></span>
<span id="cb41-224"><a href="#cb41-224"></a>To download the font files and import them, we need to move the <span class="in">`foncts.css`</span> to <span class="in">`~/static/css`</span>. The <span class="in">`fonts.css`</span> file sets up fonts for the site, which could be done in <span class="in">`main.css`</span>.\</span>
<span id="cb41-225"><a href="#cb41-225"></a></span>
<span id="cb41-226"><a href="#cb41-226"></a>We also need to move the font files themselves. We can define a font class, but the site still needs a font file to implement that font, similar to installing new fonts on your computer. Blogdown stores font files in <span class="in">`~/static/fonts`</span>. We can get fonts from a lot of places, but a great resource is <span class="co">[</span><span class="ot">Google Fonts</span><span class="co">](https://fonts.google.com/)</span>. Select a font and download the files. One of the fonts I selected, Rubik, provided a variable font instead of a static font - you can read about the difference <span class="co">[</span><span class="ot">here</span><span class="co">](https://www.lambdatest.com/blog/variable-fonts-cross-browser-compatibility/)</span>. The files included are all .ttf, but we need <span class="co">[</span><span class="ot">.woff2</span><span class="co">](https://www.w3schools.com/css/css3_fonts.asp)</span>. We can use this <span class="co">[</span><span class="ot">free conversion tool</span><span class="co">](https://anyconv.com/ttf-to-woff2-converter/)</span>. Once the files are converted we can add them to our <span class="in">`~/static/fonts`</span> folder.\</span>
<span id="cb41-227"><a href="#cb41-227"></a><span class="in">```{r, echo=T, eval=F}</span></span>
<span id="cb41-228"><a href="#cb41-228"></a><span class="co"># Copy &amp; Edit CSS</span></span>
<span id="cb41-229"><a href="#cb41-229"></a>fs<span class="sc">::</span><span class="fu">file_copy</span>(<span class="st">"themes/hugo-lithium/static/css/fonts.css"</span>, <span class="st">"static/css/fonts.css"</span>, <span class="at">overwrite =</span> F)</span>
<span id="cb41-230"><a href="#cb41-230"></a>usethis<span class="sc">::</span><span class="fu">edit_file</span>(<span class="st">"static/css/fonts.css"</span>)</span>
<span id="cb41-231"><a href="#cb41-231"></a><span class="co"># Copy font files</span></span>
<span id="cb41-232"><a href="#cb41-232"></a>fs<span class="sc">::</span><span class="fu">dir_copy</span>(<span class="st">"themes/hugo-lithium/static/fonts"</span>, <span class="st">"static"</span>)</span>
<span id="cb41-233"><a href="#cb41-233"></a><span class="in">```</span></span>
<span id="cb41-234"><a href="#cb41-234"></a></span>
<span id="cb41-235"><a href="#cb41-235"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-236"><a href="#cb41-236"></a><span class="al">![](images/header_v2_fonts_folder.png)</span>{width=600px}</span>
<span id="cb41-237"><a href="#cb41-237"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-238"><a href="#cb41-238"></a></span>
<span id="cb41-239"><a href="#cb41-239"></a>After adding the fonts to the folder, we need to import the fonts in our CSS. We can use the example from the variable font documentation as-is, but you can read more about the <span class="in">`@font-face`</span> rule <span class="co">[</span><span class="ot">here</span><span class="co">](https://www.w3schools.com/cssref/css3_pr_font-face_rule.asp)</span>. </span>
<span id="cb41-240"><a href="#cb41-240"></a><span class="in">```{css, echo = T, eval = F}</span></span>
<span id="cb41-241"><a href="#cb41-241"></a>@font<span class="op">-</span>face <span class="op">{</span></span>
<span id="cb41-242"><a href="#cb41-242"></a>    font<span class="op">-</span>family<span class="op">:</span> 'Rubik'<span class="op">;</span></span>
<span id="cb41-243"><a href="#cb41-243"></a>    src<span class="op">:</span> <span class="fu">url</span><span class="op">(</span>'<span class="op">../</span>fonts<span class="op">/</span>Rubik<span class="op">-</span>VariableFont_wght<span class="op">.</span><span class="fu">woff2</span>'<span class="op">)</span> <span class="fu">format</span><span class="op">(</span>'woff2 supports variations'<span class="op">),</span></span>
<span id="cb41-244"><a href="#cb41-244"></a>       <span class="fu">url</span><span class="op">(</span>'<span class="op">../</span>fonts<span class="op">/</span>Rubik<span class="op">-</span>VariableFont_wght<span class="op">.</span><span class="fu">woff2</span>'<span class="op">)</span> <span class="fu">format</span><span class="op">(</span>'woff2<span class="op">-</span>variations'<span class="op">);</span></span>
<span id="cb41-245"><a href="#cb41-245"></a>    font<span class="op">-</span>weight<span class="op">:</span> <span class="dv">100</span> <span class="dv">900</span><span class="op">;</span></span>
<span id="cb41-246"><a href="#cb41-246"></a>    font<span class="op">-</span>stretch<span class="op">:</span> <span class="dv">25</span><span class="op">%</span> <span class="dv">151</span><span class="op">%;</span></span>
<span id="cb41-247"><a href="#cb41-247"></a><span class="op">}</span></span>
<span id="cb41-248"><a href="#cb41-248"></a><span class="in">```</span></span>
<span id="cb41-249"><a href="#cb41-249"></a></span>
<span id="cb41-250"><a href="#cb41-250"></a><span class="fu">#### Use Font API\</span></span>
<span id="cb41-251"><a href="#cb41-251"></a>Alternatively, we can directly import the fonts into our CSS. I recommend this as it's much easier, but it requires an internet connection when rendering the site. To do this <span class="co">[</span><span class="ot">select a font</span><span class="co">](https://fonts.google.com/)</span>, choose the styles, and copy the style sheet code. Make sure to select all the styles and weights you want available.\</span>
<span id="cb41-252"><a href="#cb41-252"></a></span>
<span id="cb41-253"><a href="#cb41-253"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-254"><a href="#cb41-254"></a><span class="al">![](images/font_api_import.png)</span>{width=600px} </span>
<span id="cb41-255"><a href="#cb41-255"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-256"><a href="#cb41-256"></a></span>
<span id="cb41-257"><a href="#cb41-257"></a><span class="in">```{css, echo = T, eval = F}</span></span>
<span id="cb41-258"><a href="#cb41-258"></a>@import <span class="fu">url</span><span class="op">(</span>'https<span class="op">:</span><span class="co">//fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;700;800;900&amp;display=swap');</span></span>
<span id="cb41-259"><a href="#cb41-259"></a>@import <span class="fu">url</span><span class="op">(</span>'https<span class="op">:</span><span class="co">//fonts.googleapis.com/css2?family=Overpass:wght@100;500;700;800;900&amp;display=swap');</span></span>
<span id="cb41-260"><a href="#cb41-260"></a>@import <span class="fu">url</span><span class="op">(</span>'https<span class="op">:</span><span class="co">//fonts.googleapis.com/css2?family=Roboto:wght@100;300;500;700;900&amp;display=swap');</span></span>
<span id="cb41-261"><a href="#cb41-261"></a>@import <span class="fu">url</span><span class="op">(</span>'https<span class="op">:</span><span class="co">//fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&amp;display=swap');</span></span>
<span id="cb41-262"><a href="#cb41-262"></a>@import <span class="fu">url</span><span class="op">(</span>'https<span class="op">:</span><span class="co">//fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500&amp;display=swap');</span></span>
<span id="cb41-263"><a href="#cb41-263"></a><span class="in">```</span></span>
<span id="cb41-264"><a href="#cb41-264"></a></span>
<span id="cb41-265"><a href="#cb41-265"></a></span>
<span id="cb41-266"><a href="#cb41-266"></a><span class="fu">#### Apply New Fonts\</span></span>
<span id="cb41-267"><a href="#cb41-267"></a>We can add we can add the font to HTML elements or CSS selectors' properties.  We want to change the font of the navbar buttons so we'll change the font-family property of the CSS selector <span class="in">`.nav-links li`</span>. We can also make other changes like increasing font-size, weight, etc. Regarding font-size, you can use <span class="in">`rem`</span> or <span class="in">`em`</span> instead of <span class="in">`px`</span> sizes, which scale to the browser settings, learn more <span class="co">[</span><span class="ot">here</span><span class="co">](https://zellwk.com/blog/rem-vs-em/)</span>. I chose to use <span class="in">`rem`</span>. Also, I set <span class="co">[</span><span class="ot">fallback fonts</span><span class="co">](https://www.w3schools.com/cssref/css_fonts_fallbacks.asp)</span> as recommended if you read about <span class="co">[</span><span class="ot">web safe fonts</span><span class="co">](https://www.w3schools.com/cssref/css_websafe_fonts.asp)</span>. I don't think it's necessary to fall back to <span class="in">`serif`</span> or <span class="in">`monospace`</span> unless you want to ensure a specific typeface, the browser will fallback to something automatically.\</span>
<span id="cb41-268"><a href="#cb41-268"></a></span>
<span id="cb41-269"><a href="#cb41-269"></a><span class="in">```{css, echo = T, eval = F}</span></span>
<span id="cb41-270"><a href="#cb41-270"></a>body <span class="op">{</span></span>
<span id="cb41-271"><a href="#cb41-271"></a>  font<span class="op">-</span>family<span class="op">:</span> Roboto<span class="op">,</span> Merriweather<span class="op">;</span></span>
<span id="cb41-272"><a href="#cb41-272"></a>  font<span class="op">-</span>size<span class="op">:</span> 1rem<span class="op">;</span></span>
<span id="cb41-273"><a href="#cb41-273"></a><span class="op">}</span></span>
<span id="cb41-274"><a href="#cb41-274"></a><span class="op">.</span><span class="fu">nav</span><span class="op">-</span>links li <span class="op">{</span></span>
<span id="cb41-275"><a href="#cb41-275"></a>  display<span class="op">:</span> inline<span class="op">-</span>block<span class="op">;</span></span>
<span id="cb41-276"><a href="#cb41-276"></a>  margin<span class="op">:</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> 15px<span class="op">;</span></span>
<span id="cb41-277"><a href="#cb41-277"></a>  font<span class="op">-</span>family<span class="op">:</span> Rubik<span class="op">,</span> Overpass<span class="op">;</span></span>
<span id="cb41-278"><a href="#cb41-278"></a>  font<span class="op">-</span>size<span class="op">:</span> <span class="fl">1.25</span>rem<span class="op">;</span></span>
<span id="cb41-279"><a href="#cb41-279"></a><span class="op">}</span></span>
<span id="cb41-280"><a href="#cb41-280"></a><span class="in">```</span></span>
<span id="cb41-281"><a href="#cb41-281"></a></span>
<span id="cb41-282"><a href="#cb41-282"></a>That all looks great, but it'd also be nice to have some behavior when the user hovers on the button. We can do that by modifying a CSS selector with <span class="in">`:hover`</span>. The <span class="co">[</span><span class="ot">`:hover`</span><span class="co">](https://www.w3schools.com/cssref/sel_hover.asp)</span> is a CSS Pseudo-selector applied to elements when you mouse over them. There are many Pseudo-selectors available you can read about <span class="co">[</span><span class="ot">here</span><span class="co">](https://www.w3schools.com/css/css_pseudo_classes.asp)</span>. The main CSS file already has a <span class="in">`.nav-links a:hover`</span> selector so we can add a <span class="in">`font-weight`</span> and <span class="in">`text-decoration`</span> property to that. There's a lot more we can do with buttons, but this site is very minimalist so I think this style works well. However, you can see several other options and how to implement them <span class="co">[</span><span class="ot">here</span><span class="co">](https://www.w3schools.com/csS/css3_buttons.asp)</span>.\ </span>
<span id="cb41-283"><a href="#cb41-283"></a></span>
<span id="cb41-284"><a href="#cb41-284"></a><span class="in">```{css, echo = T, eval = F}</span></span>
<span id="cb41-285"><a href="#cb41-285"></a><span class="op">.</span><span class="fu">nav</span><span class="op">-</span>links a<span class="op">:</span>hover <span class="op">{</span></span>
<span id="cb41-286"><a href="#cb41-286"></a>  color<span class="op">:</span> #<span class="dv">000</span><span class="op">;</span></span>
<span id="cb41-287"><a href="#cb41-287"></a>  font<span class="op">-</span>weight<span class="op">:</span> bold<span class="op">;</span></span>
<span id="cb41-288"><a href="#cb41-288"></a>  text<span class="op">-</span>decoration<span class="op">:</span> underline<span class="op">;</span></span>
<span id="cb41-289"><a href="#cb41-289"></a><span class="op">}</span></span>
<span id="cb41-290"><a href="#cb41-290"></a><span class="in">```</span></span>
<span id="cb41-291"><a href="#cb41-291"></a></span>
<span id="cb41-292"><a href="#cb41-292"></a>I also decided to remove <span class="in">`5px`</span> worth of padding from the navbar to make it just a tad shorter...\</span>
<span id="cb41-293"><a href="#cb41-293"></a><span class="in">```{css, echo = T, eval = F}</span></span>
<span id="cb41-294"><a href="#cb41-294"></a><span class="op">.</span><span class="fu">header</span> <span class="op">{</span></span>
<span id="cb41-295"><a href="#cb41-295"></a>  padding<span class="op">:</span> 15px <span class="dv">0</span><span class="op">;</span></span>
<span id="cb41-296"><a href="#cb41-296"></a>  position<span class="op">:</span> relative<span class="op">;</span></span>
<span id="cb41-297"><a href="#cb41-297"></a>  background<span class="op">:</span> #F6F9FB<span class="op">;</span></span>
<span id="cb41-298"><a href="#cb41-298"></a>  border<span class="op">-</span>bottom<span class="op">:</span> 1px solid #eaeaea<span class="op">;</span></span>
<span id="cb41-299"><a href="#cb41-299"></a><span class="op">}</span></span>
<span id="cb41-300"><a href="#cb41-300"></a><span class="in">```</span></span>
<span id="cb41-301"><a href="#cb41-301"></a></span>
<span id="cb41-302"><a href="#cb41-302"></a>Now we have a simple, but functional navbar!\</span>
<span id="cb41-303"><a href="#cb41-303"></a></span>
<span id="cb41-304"><a href="#cb41-304"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-305"><a href="#cb41-305"></a><span class="al">![](images/navbar_with_fonts.gif)</span>{width=450px}</span>
<span id="cb41-306"><a href="#cb41-306"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-307"><a href="#cb41-307"></a></span>
<span id="cb41-308"><a href="#cb41-308"></a><span class="fu">## Content \</span></span>
<span id="cb41-309"><a href="#cb41-309"></a>The navbar spans across all the pages, but the content is each of the pages under the navbar. Site content goes in, you guessed it, <span class="in">`~/content/`</span>. The site will have an about page and posts by default, but you can add as many pages directly under <span class="in">`~/content/`</span> as you'd like. Just don't forget to add them to the menu in your <span class="in">`config.yaml`</span> so the user can navigate to them. Beyond pages directly under <span class="in">`~/content/`</span>, the Hugo theme will generally have some default folders including <span class="in">`~/post/`</span>, which is the default location for blog posts.\</span>
<span id="cb41-310"><a href="#cb41-310"></a></span>
<span id="cb41-311"><a href="#cb41-311"></a><span class="fu">### New Posts</span></span>
<span id="cb41-312"><a href="#cb41-312"></a>To create posts, I typically copy old posts because I customize my yaml header a bit. However, for a new site you can either copy one of the demo posts included or just use the RStudio add-in (shown below).\</span>
<span id="cb41-313"><a href="#cb41-313"></a></span>
<span id="cb41-314"><a href="#cb41-314"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-315"><a href="#cb41-315"></a><span class="al">![](images/new_post.png)</span>{width=550px}</span>
<span id="cb41-316"><a href="#cb41-316"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-317"><a href="#cb41-317"></a></span>
<span id="cb41-318"><a href="#cb41-318"></a><span class="fu">### Permalinks\</span></span>
<span id="cb41-319"><a href="#cb41-319"></a>Each post's url is generated by by Hugo using the the <span class="in">`config.yaml`</span> and the document slug from the post's yaml header. So if our site was <span class="in">`www.mark-druffel.com`</span> and we used the configuration below, a post url would be <span class="in">`www.mark-druffel.com/2021/10/15/this-posts-title`</span>. I personally find that to be overkill because I don't post multiple times a day and my titles aren't likely to be the same so I just use <span class="in">`post: /:year/:slug/`</span> for my blog.\</span>
<span id="cb41-320"><a href="#cb41-320"></a></span>
<span id="cb41-321"><a href="#cb41-321"></a><span class="in">```{verbatim, echo = T, eval = F}</span></span>
<span id="cb41-322"><a href="#cb41-322"></a><span class="in">permalinks:</span></span>
<span id="cb41-323"><a href="#cb41-323"></a><span class="in">  post: /:year/:month/:day/:slug/</span></span>
<span id="cb41-324"><a href="#cb41-324"></a><span class="in">```</span></span>
<span id="cb41-325"><a href="#cb41-325"></a></span>
<span id="cb41-326"><a href="#cb41-326"></a><span class="fu">### Styles\</span></span>
<span id="cb41-327"><a href="#cb41-327"></a>There are a number of changes that can be made to improve the look and feel of all pages under <span class="in">`~/content/`</span>, but for this site I'm sticking very close to the theme. Just know, you can change any of the CSS styles the same way we did with the navbar to apply CSS properties across all the content on the site! The one thing we will change for this site is fonts.\</span>
<span id="cb41-328"><a href="#cb41-328"></a></span>
<span id="cb41-329"><a href="#cb41-329"></a><span class="fu">#### Fonts\</span></span>
<span id="cb41-330"><a href="#cb41-330"></a>We already changed fonts in the navbar so I won't walk back through the entire process, but here's the CSS code I used to modify fonts throughout my content. I just repeated the some process of finding parts of the page I wanted to modify, finding the CSS selectors, importing the font I wanted, and applying it to the CSS selector.\ </span>
<span id="cb41-331"><a href="#cb41-331"></a><span class="in">```{css, echo = T, eval = F}</span></span>
<span id="cb41-332"><a href="#cb41-332"></a><span class="op">.</span><span class="fu">nav</span><span class="op">-</span>links li <span class="op">{</span></span>
<span id="cb41-333"><a href="#cb41-333"></a>  display<span class="op">:</span> inline<span class="op">-</span>block<span class="op">;</span></span>
<span id="cb41-334"><a href="#cb41-334"></a>  margin<span class="op">:</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> 15px<span class="op">;</span></span>
<span id="cb41-335"><a href="#cb41-335"></a>  font<span class="op">-</span>family<span class="op">:</span> Rubik<span class="op">,</span> Overpass<span class="op">;</span></span>
<span id="cb41-336"><a href="#cb41-336"></a>  font<span class="op">-</span>size<span class="op">:</span> <span class="fl">1.25</span>rem<span class="op">;</span></span>
<span id="cb41-337"><a href="#cb41-337"></a><span class="op">}</span></span>
<span id="cb41-338"><a href="#cb41-338"></a>h1<span class="op">,</span> h2<span class="op">,</span> <span class="op">.</span><span class="fu">article</span><span class="op">-</span>title <span class="op">{</span></span>
<span id="cb41-339"><a href="#cb41-339"></a>  font<span class="op">-</span>family<span class="op">:</span> Roboto<span class="op">,</span> Merriweather<span class="op">;</span></span>
<span id="cb41-340"><a href="#cb41-340"></a>  font<span class="op">-</span>size<span class="op">:</span> <span class="fl">1.5</span>rem<span class="op">;</span></span>
<span id="cb41-341"><a href="#cb41-341"></a>  font<span class="op">-</span>weight<span class="op">:</span> bold<span class="op">;</span></span>
<span id="cb41-342"><a href="#cb41-342"></a><span class="op">}</span></span>
<span id="cb41-343"><a href="#cb41-343"></a>h3<span class="op">,</span> h4<span class="op">,</span> <span class="op">.</span><span class="fu">article</span><span class="op">-</span>duration<span class="op">,</span> <span class="op">.</span><span class="fu">archive</span><span class="op">-</span>item<span class="op">-</span>link <span class="op">{</span></span>
<span id="cb41-344"><a href="#cb41-344"></a>  font<span class="op">-</span>family<span class="op">:</span> Roboto<span class="op">,</span> Merriweather<span class="op">;</span></span>
<span id="cb41-345"><a href="#cb41-345"></a>  font<span class="op">-</span>size<span class="op">:</span> <span class="fl">1.3</span>em<span class="op">;</span></span>
<span id="cb41-346"><a href="#cb41-346"></a>  font<span class="op">-</span>weight<span class="op">:</span> bold<span class="op">;</span></span>
<span id="cb41-347"><a href="#cb41-347"></a><span class="op">}</span></span>
<span id="cb41-348"><a href="#cb41-348"></a>h5<span class="op">,</span> h6<span class="op">,</span> <span class="op">.</span><span class="fu">footer</span> <span class="op">{</span></span>
<span id="cb41-349"><a href="#cb41-349"></a>  font<span class="op">-</span>family<span class="op">:</span> Roboto<span class="op">,</span> Merriweather<span class="op">;</span></span>
<span id="cb41-350"><a href="#cb41-350"></a>  font<span class="op">-</span>size<span class="op">:</span> 1rem<span class="op">;</span></span>
<span id="cb41-351"><a href="#cb41-351"></a>  font<span class="op">-</span>weight<span class="op">:</span> bold<span class="op">;</span></span>
<span id="cb41-352"><a href="#cb41-352"></a><span class="op">}</span></span>
<span id="cb41-353"><a href="#cb41-353"></a><span class="op">.</span><span class="fu">article</span><span class="op">-</span>date <span class="op">{</span></span>
<span id="cb41-354"><a href="#cb41-354"></a>  font<span class="op">-</span>family<span class="op">:</span> Roboto<span class="op">,</span> Merriweather<span class="op">;</span></span>
<span id="cb41-355"><a href="#cb41-355"></a>  font<span class="op">-</span>size<span class="op">:</span> <span class="op">.</span><span class="fu">9rem</span><span class="op">;</span></span>
<span id="cb41-356"><a href="#cb41-356"></a><span class="op">}</span></span>
<span id="cb41-357"><a href="#cb41-357"></a>body <span class="op">{</span></span>
<span id="cb41-358"><a href="#cb41-358"></a>  font<span class="op">-</span>family<span class="op">:</span> Roboto<span class="op">,</span> Merriweather<span class="op">;</span></span>
<span id="cb41-359"><a href="#cb41-359"></a>  font<span class="op">-</span>size<span class="op">:</span> 1rem<span class="op">;</span></span>
<span id="cb41-360"><a href="#cb41-360"></a><span class="op">}</span></span>
<span id="cb41-361"><a href="#cb41-361"></a>code <span class="op">{</span></span>
<span id="cb41-362"><a href="#cb41-362"></a>  font<span class="op">-</span>family<span class="op">:</span> Fira Code<span class="op">,</span> Source Code Pro<span class="op">,</span> monospace<span class="op">;</span></span>
<span id="cb41-363"><a href="#cb41-363"></a>  font<span class="op">-</span>weight<span class="op">:</span> <span class="dv">300</span><span class="op">;</span></span>
<span id="cb41-364"><a href="#cb41-364"></a><span class="op">}</span></span>
<span id="cb41-365"><a href="#cb41-365"></a><span class="in">```</span></span>
<span id="cb41-366"><a href="#cb41-366"></a></span>
<span id="cb41-367"><a href="#cb41-367"></a>Now we have a blog with a custom navbar and fonts throughout all of the content. However, you might notice some content doesn't pick up our CSS configurations.\</span>
<span id="cb41-368"><a href="#cb41-368"></a></span>
<span id="cb41-369"><a href="#cb41-369"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-370"><a href="#cb41-370"></a><span class="al">![](images/ggplot2_no_font_change.png)</span>{width=350px}</span>
<span id="cb41-371"><a href="#cb41-371"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-372"><a href="#cb41-372"></a></span>
<span id="cb41-373"><a href="#cb41-373"></a><span class="fu">#### Style Raster Graphics\</span></span>
<span id="cb41-374"><a href="#cb41-374"></a>When we publish blog posts we'll render all sorts of content using R libraries. Unfortunately, the outputs from our R code may not easily integrate to our site and this can be one of the trickier parts of maintaining a nice looking blog, especially if you choose a highly styled theme :grimacing: In this case, the image a <span class="co">[</span><span class="ot">raster graphic</span><span class="co">](https://www.adobe.com/creativecloud/file-types/image/comparison/raster-vs-vector.html)</span>. Raster graphics are image files (pixels), which have no use for CSS code. We need to apply the same properties to our R graphics to match the style of the site. This applies to any plotting using the graphics device including <span class="co">[</span><span class="ot">ggplot2</span><span class="co">](https://ggplot2.tidyverse.org/)</span> :astonished:\</span>
<span id="cb41-375"><a href="#cb41-375"></a></span>
<span id="cb41-376"><a href="#cb41-376"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-377"><a href="#cb41-377"></a><span class="al">![](images/ggplot2_png_source.png)</span>{width=400px}</span>
<span id="cb41-378"><a href="#cb41-378"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-379"><a href="#cb41-379"></a></span>
<span id="cb41-380"><a href="#cb41-380"></a>We can resolve this problem a few different ways, but the first and most obvious approach is to <span class="co">[</span><span class="ot">customize the ggplot2 theme</span><span class="co">](https://ggplot2-book.org/polishing.html)</span>. The <span class="co">[</span><span class="ot">theme()</span><span class="co">](https://ggplot2.tidyverse.org/reference/theme.html)</span> function in ggplot2 provides a huge number of settings that can be used to customize the output including color, font, background, etc. This really becomes more of a ggplot2 tutorial, so I'm going to skip a bit of the details but the aforementioned resources should provide more than enough to customize your ggplot2 output for your blog.  I try to be DRY (do not repeat yourself) when possible so I created a few themes for my blog for different visual types (e.g. one for standard visuals, one for faceted plots, one for non-grid based plots like network diagrams, etc.). Below is a gist of my standard theme if it's a helpful starting point. You can choose existing themes and add onto them as show below (i.e. <span class="in">`theme_minimal() + theme(...)`</span>).\</span>
<span id="cb41-381"><a href="#cb41-381"></a><span class="in">```{r, echo = T, eval = T}</span></span>
<span id="cb41-382"><a href="#cb41-382"></a>blogdown<span class="sc">::</span><span class="fu">shortcode</span>(<span class="st">"gist"</span>, <span class="st">"mark-druffel"</span>, <span class="st">"83b839abe61d056a2b4cef81d09f7bcc"</span>)</span>
<span id="cb41-383"><a href="#cb41-383"></a><span class="in">```</span></span>
<span id="cb41-384"><a href="#cb41-384"></a></span>
<span id="cb41-385"><a href="#cb41-385"></a>Depending how you style your blog, I think you could also use <span class="co">[</span><span class="ot">thematic</span><span class="co">](https://rstudio.github.io/thematic/)</span> and <span class="co">[</span><span class="ot">bslib</span><span class="co">](https://rstudio.github.io/bslib/)</span>, but since the blog doesn't use bootstrap by default I personally haven't tried to do that... Aside from the theme, some other helpful resources when using ggplot2 in blogdown include <span class="co">[</span><span class="ot">ggthemes</span><span class="co">](https://jrnold.github.io/ggthemes/reference/index.html)</span>, <span class="co">[</span><span class="ot">ragg</span><span class="co">](https://ragg.r-lib.org/)</span>, <span class="co">[</span><span class="ot">showtext</span><span class="co">](https://github.com/yixuan/showtext)</span>, and <span class="co">[</span><span class="ot">ggtext</span><span class="co">](https://wilkelab.org/ggtext/)</span>. </span>
<span id="cb41-386"><a href="#cb41-386"></a></span>
<span id="cb41-387"><a href="#cb41-387"></a><span class="fu">##### ggthemes\</span></span>
<span id="cb41-388"><a href="#cb41-388"></a>Library with complete ggplot2 themes including pre-built color scale functions. I don't use ggthemes on my blog, but you could adopt a theme from there if any fit the style of your site which would simplify things tremendously.\ </span>
<span id="cb41-389"><a href="#cb41-389"></a></span>
<span id="cb41-390"><a href="#cb41-390"></a><span class="fu">##### ragg\</span></span>
<span id="cb41-391"><a href="#cb41-391"></a>The ragg library will simply improve R's raster graphics rendering performance and quality. It will make ggplot2 output look sharper. </span>
<span id="cb41-392"><a href="#cb41-392"></a></span>
<span id="cb41-393"><a href="#cb41-393"></a><span class="fu">##### showtext\</span></span>
<span id="cb41-394"><a href="#cb41-394"></a>The showtext library makes it easier to use non-standard fonts with the R graphics device. Again, our site's CSS **is not** available to ggplot2 when we render plots. Therefore, we'll have to either install fonts on our machine (similar to adding them to a folder for the site) or load them from an API (similar to importing them in our CSS from the fonts API). Then we need to make them available to the R session. You can see an example in the <span class="co">[</span><span class="ot">package vignettes</span><span class="co">](https://cran.r-project.org/web/packages/showtext/vignettes/introduction.html)</span>. Instructions for installing fonts on a machine will vary by OS, but it's very simple to do on Linux, Mac, or Windows if you just use a search engine.\</span>
<span id="cb41-395"><a href="#cb41-395"></a></span>
<span id="cb41-396"><a href="#cb41-396"></a><span class="fu">##### ggtext\</span></span>
<span id="cb41-397"><a href="#cb41-397"></a>The ggtext library allows the use of markdown syntax inside ggplot2. This **does not** change your theme, it's just an easy way to bold titles and things like that on an individual plot.\</span>
<span id="cb41-398"><a href="#cb41-398"></a></span>
<span id="cb41-399"><a href="#cb41-399"></a>Ok let's look apply this stuff to our aforementioned plot from the demo post. Open  <span class="in">`~/content/post/&lt;date&gt;-r-markdown/index.Rmd`</span>. Load the necessary libraries, load the fonts, run <span class="in">`showtext_auto()`</span> to make the fonts available, and create a theme function you'll use on your plot. I used a theme based on <span class="in">`theme_void()`</span> since the demo is a pie chart.\</span>
<span id="cb41-400"><a href="#cb41-400"></a><span class="in">```{r echo = T, eval = T, warning=F, message = F}</span></span>
<span id="cb41-401"><a href="#cb41-401"></a><span class="fu">library</span>(ragg)</span>
<span id="cb41-402"><a href="#cb41-402"></a><span class="fu">library</span>(showtext)</span>
<span id="cb41-403"><a href="#cb41-403"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb41-404"><a href="#cb41-404"></a><span class="fu">library</span>(ggrepel)</span>
<span id="cb41-405"><a href="#cb41-405"></a><span class="co"># Tell knitr to use ragg for graphics</span></span>
<span id="cb41-406"><a href="#cb41-406"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">dev =</span> <span class="st">"ragg_png"</span>)</span>
<span id="cb41-407"><a href="#cb41-407"></a><span class="co"># font_add_google is a function in sysfonts which is loaded by showtext</span></span>
<span id="cb41-408"><a href="#cb41-408"></a><span class="fu">font_add_google</span>(<span class="st">"Rubik"</span>, <span class="st">"rubik"</span>)</span>
<span id="cb41-409"><a href="#cb41-409"></a><span class="fu">font_add_google</span>(<span class="st">"Roboto"</span>, <span class="st">"roboto"</span>)</span>
<span id="cb41-410"><a href="#cb41-410"></a><span class="fu">font_add_google</span>(<span class="st">"Fira Code"</span>, <span class="st">"firaCode"</span>)</span>
<span id="cb41-411"><a href="#cb41-411"></a><span class="co"># Adding a noticeable font just to make sure everything is working</span></span>
<span id="cb41-412"><a href="#cb41-412"></a><span class="fu">font_add_google</span>(<span class="st">"Homemade Apple"</span>, <span class="st">"homemadeApple"</span>)</span>
<span id="cb41-413"><a href="#cb41-413"></a><span class="fu">showtext_auto</span>()</span>
<span id="cb41-414"><a href="#cb41-414"></a>theme_void_blog <span class="ot">&lt;-</span> <span class="cf">function</span>(...){</span>
<span id="cb41-415"><a href="#cb41-415"></a>  ggplot2<span class="sc">::</span><span class="fu">theme_void</span>() <span class="sc">+</span> </span>
<span id="cb41-416"><a href="#cb41-416"></a>    ggplot2<span class="sc">::</span><span class="fu">theme</span>(</span>
<span id="cb41-417"><a href="#cb41-417"></a>      <span class="at">text =</span> ggplot2<span class="sc">::</span><span class="fu">element_text</span>(</span>
<span id="cb41-418"><a href="#cb41-418"></a>        <span class="at">family =</span> <span class="st">"roboto"</span>,</span>
<span id="cb41-419"><a href="#cb41-419"></a>        <span class="at">size =</span> <span class="dv">11</span>, </span>
<span id="cb41-420"><a href="#cb41-420"></a>        <span class="at">inherit.blank =</span> <span class="cn">FALSE</span>),</span>
<span id="cb41-421"><a href="#cb41-421"></a>      <span class="at">title =</span> ggplot2<span class="sc">::</span><span class="fu">element_text</span>(</span>
<span id="cb41-422"><a href="#cb41-422"></a>        <span class="at">family =</span> <span class="st">"homemadeApple"</span>,</span>
<span id="cb41-423"><a href="#cb41-423"></a>        <span class="at">face =</span> <span class="st">"bold"</span>,</span>
<span id="cb41-424"><a href="#cb41-424"></a>        <span class="at">size =</span> <span class="dv">18</span>, </span>
<span id="cb41-425"><a href="#cb41-425"></a>        <span class="at">inherit.blank =</span> <span class="cn">FALSE</span>,</span>
<span id="cb41-426"><a href="#cb41-426"></a>        <span class="at">hjust =</span> .<span class="dv">5</span>),</span>
<span id="cb41-427"><a href="#cb41-427"></a>      <span class="at">plot.subtitle =</span> ggplot2<span class="sc">::</span><span class="fu">element_text</span>(</span>
<span id="cb41-428"><a href="#cb41-428"></a>        <span class="at">family =</span> <span class="st">"homemadeApple"</span>,</span>
<span id="cb41-429"><a href="#cb41-429"></a>        <span class="at">size =</span> <span class="dv">14</span>, </span>
<span id="cb41-430"><a href="#cb41-430"></a>        <span class="at">inherit.blank =</span> <span class="cn">FALSE</span>), </span>
<span id="cb41-431"><a href="#cb41-431"></a>    <span class="at">legend.title =</span> ggplot2<span class="sc">::</span><span class="fu">element_text</span>(</span>
<span id="cb41-432"><a href="#cb41-432"></a>      <span class="at">family =</span> <span class="st">"rubik"</span>, </span>
<span id="cb41-433"><a href="#cb41-433"></a>      <span class="at">size =</span> <span class="dv">12</span>,</span>
<span id="cb41-434"><a href="#cb41-434"></a>      <span class="at">face =</span> <span class="st">"bold"</span>,</span>
<span id="cb41-435"><a href="#cb41-435"></a>      <span class="at">inherit.blank =</span> <span class="cn">FALSE</span>,</span>
<span id="cb41-436"><a href="#cb41-436"></a>      <span class="at">hjust =</span> .<span class="dv">5</span>), </span>
<span id="cb41-437"><a href="#cb41-437"></a>    <span class="at">legend.text =</span> ggplot2<span class="sc">::</span><span class="fu">element_text</span>(</span>
<span id="cb41-438"><a href="#cb41-438"></a>      <span class="at">family =</span> <span class="st">"roboto"</span>, </span>
<span id="cb41-439"><a href="#cb41-439"></a>      <span class="at">color =</span> <span class="st">"#33334D"</span>, </span>
<span id="cb41-440"><a href="#cb41-440"></a>      <span class="at">size =</span> <span class="dv">10</span>, <span class="at">hjust =</span> <span class="dv">0</span>)</span>
<span id="cb41-441"><a href="#cb41-441"></a>    ) <span class="sc">+</span> </span>
<span id="cb41-442"><a href="#cb41-442"></a>    ggplot2<span class="sc">::</span><span class="fu">theme</span>(...)</span>
<span id="cb41-443"><a href="#cb41-443"></a>}</span>
<span id="cb41-444"><a href="#cb41-444"></a><span class="in">```</span></span>
<span id="cb41-445"><a href="#cb41-445"></a></span>
<span id="cb41-446"><a href="#cb41-446"></a>This demo file uses the <span class="in">`pie()`</span> function from base R. Nothing wrong with the function, but I'm not as familiar with the base R plotting tools so I'm going to use ggplot2 instead. The labels actually aren't as simple with ggplot, but I just used <span class="co">[</span><span class="ot">ggrepel</span><span class="co">](https://ggrepel.slowkow.com/)</span> to make the labeling simpler. The new fonts should load and mostly the same visualization should render with your new fonts.\ </span>
<span id="cb41-447"><a href="#cb41-447"></a><span class="in">```{r echo = T, eval = T}</span></span>
<span id="cb41-448"><a href="#cb41-448"></a>tibble<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb41-449"><a href="#cb41-449"></a>  <span class="co">#value = c(280, 60, 20),</span></span>
<span id="cb41-450"><a href="#cb41-450"></a>  <span class="at">value =</span> <span class="fu">c</span>(<span class="dv">280</span>, <span class="dv">60</span>, <span class="dv">20</span>),</span>
<span id="cb41-451"><a href="#cb41-451"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">'Sky'</span>, <span class="st">'Shady side of pyramid'</span>, <span class="st">'Sunny side of pyramid'</span>),</span>
<span id="cb41-452"><a href="#cb41-452"></a>  <span class="at">color =</span> <span class="fu">c</span>(<span class="st">'#0292D8'</span>, <span class="st">'#F7EA39'</span>, <span class="st">'#C4B632'</span>)</span>
<span id="cb41-453"><a href="#cb41-453"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb41-454"><a href="#cb41-454"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> value, <span class="at">label =</span> name, <span class="at">fill =</span> color)) <span class="sc">+</span> </span>
<span id="cb41-455"><a href="#cb41-455"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span> </span>
<span id="cb41-456"><a href="#cb41-456"></a>  <span class="fu">coord_polar</span>(<span class="at">theta =</span> <span class="st">"y"</span>, <span class="at">start =</span> pi <span class="sc">/</span> <span class="fl">1.275</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb41-457"><a href="#cb41-457"></a>  <span class="fu">scale_fill_identity</span>() <span class="sc">+</span></span>
<span id="cb41-458"><a href="#cb41-458"></a>  <span class="fu">geom_text_repel</span>(<span class="at">family =</span> <span class="st">"roboto"</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">nudge_x =</span> .<span class="dv">6</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>, <span class="at">segment.color =</span> <span class="st">"transparent"</span>) <span class="sc">+</span></span>
<span id="cb41-459"><a href="#cb41-459"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"To make sure showtext is working"</span>) <span class="sc">+</span></span>
<span id="cb41-460"><a href="#cb41-460"></a>  <span class="fu">theme_void_blog</span>() </span>
<span id="cb41-461"><a href="#cb41-461"></a><span class="in">```</span></span>
<span id="cb41-462"><a href="#cb41-462"></a></span>
<span id="cb41-463"><a href="#cb41-463"></a><span class="fu">### Style Vector Graphics\</span></span>
<span id="cb41-464"><a href="#cb41-464"></a>R libraries don't just produce raster graphics like plots from ggplot2, many libraries use the <span class="co">[</span><span class="ot">htmlwidgets</span><span class="co">](https://www.htmlwidgets.org/)</span> framework which uses HTML, CSS, and JavaScript to produce interactive visualizations / widgets. Depending on exactly how the widget is set up, it will inherit CSS properties from your site. However, you may want to create new CSS properties or apply existing properties to specific parts of the widget.\</span>
<span id="cb41-465"><a href="#cb41-465"></a></span>
<span id="cb41-466"><a href="#cb41-466"></a>If you add the code below to a new block inside <span class="in">`~/content/post/&lt;date&gt;-r-markdown/index.Rmd`</span> and run you'll create a d3.js scatter plot from the <span class="co">[</span><span class="ot">metricsgraphics</span><span class="co">](https://hrbrmstr.github.io/metricsgraphics/)</span> library.\</span>
<span id="cb41-467"><a href="#cb41-467"></a><span class="in">```{r, warning = F, message=F}</span></span>
<span id="cb41-468"><a href="#cb41-468"></a><span class="fu">library</span>(metricsgraphics)</span>
<span id="cb41-469"><a href="#cb41-469"></a>mtcars <span class="sc">%&gt;%</span></span>
<span id="cb41-470"><a href="#cb41-470"></a>  <span class="fu">mjs_plot</span>(<span class="at">x=</span>wt, <span class="at">y=</span>mpg, <span class="at">width=</span><span class="dv">600</span>, <span class="at">height=</span><span class="dv">500</span>) <span class="sc">%&gt;%</span></span>
<span id="cb41-471"><a href="#cb41-471"></a>  <span class="fu">mjs_point</span>(<span class="at">color_accessor=</span>carb, <span class="at">size_accessor=</span>carb) <span class="sc">%&gt;%</span></span>
<span id="cb41-472"><a href="#cb41-472"></a>  <span class="fu">mjs_labs</span>(<span class="at">x=</span><span class="st">"Weight of Car"</span>, <span class="at">y=</span><span class="st">"Miles per Gallon"</span>) </span>
<span id="cb41-473"><a href="#cb41-473"></a><span class="in">```</span></span>
<span id="cb41-474"><a href="#cb41-474"></a></span>
<span id="cb41-475"><a href="#cb41-475"></a>If you inspect the CSS carefully you can see the CSS properties we added in the <span class="co">[</span><span class="ot">apply new fonts section</span><span class="co">](####apply-new-fonts)</span>. </span>
<span id="cb41-476"><a href="#cb41-476"></a></span>
<span id="cb41-477"><a href="#cb41-477"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-478"><a href="#cb41-478"></a><span class="al">![](images/d3_axis_font_before.png)</span>{width=600px}</span>
<span id="cb41-479"><a href="#cb41-479"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-480"><a href="#cb41-480"></a></span>
<span id="cb41-481"><a href="#cb41-481"></a>That's likely the behavior we'd want. That said, if we wanted to modify the font of the axises, for instance, we could add CSS properties to the classes of the htmlwidget like so. Many htmlwidget libraries provide tools to do this directly, for instance <span class="in">`metricsgraphics::mjs_add_css_rule()`</span>, but it's good to know how to do it directly in the Rmarkdown document as well because sometimes that's necessary or easier.\</span>
<span id="cb41-482"><a href="#cb41-482"></a><span class="in">```{css, eval = F, echo = T}</span></span>
<span id="cb41-483"><a href="#cb41-483"></a><span class="op">.</span><span class="fu">mg</span><span class="op">-</span>x<span class="op">-</span>axis <span class="op">{</span></span>
<span id="cb41-484"><a href="#cb41-484"></a>  font<span class="op">-</span>family<span class="op">:</span> Homemade Apple<span class="op">;</span></span>
<span id="cb41-485"><a href="#cb41-485"></a><span class="op">}</span></span>
<span id="cb41-486"><a href="#cb41-486"></a><span class="op">.</span><span class="fu">mg</span><span class="op">-</span>y<span class="op">-</span>axis <span class="op">{</span></span>
<span id="cb41-487"><a href="#cb41-487"></a>  font<span class="op">-</span>family<span class="op">:</span> Homemade Apple<span class="op">;</span></span>
<span id="cb41-488"><a href="#cb41-488"></a><span class="op">}</span></span>
<span id="cb41-489"><a href="#cb41-489"></a><span class="in">```</span></span>
<span id="cb41-490"><a href="#cb41-490"></a></span>
<span id="cb41-491"><a href="#cb41-491"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-492"><a href="#cb41-492"></a><span class="al">![](images/d3_axis_font_after.png)</span>{width=600px}</span>
<span id="cb41-493"><a href="#cb41-493"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-494"><a href="#cb41-494"></a></span>
<span id="cb41-495"><a href="#cb41-495"></a><span class="fu">#### CSS Conflicts</span></span>
<span id="cb41-496"><a href="#cb41-496"></a>Some htmlwidgets have generic CSS selectors that are in <span class="in">`main.css`</span>, but no way to modify them through the library. An example I've bumped into in the past was the library <span class="co">[</span><span class="ot">skimr</span><span class="co">]()</span>. These selectors were probably chosen intentionally to try to easily match site styles, but sometimes it doesn't look great. To avoid those conflicts, throughout your entire <span class="in">`main.css`</span> file you can use a prefix for the site. For example, you could change <span class="in">`.header`</span> to <span class="in">`.site-header`</span>.</span>
<span id="cb41-497"><a href="#cb41-497"></a><span class="in">```{r echo = T, eval = F}</span></span>
<span id="cb41-498"><a href="#cb41-498"></a><span class="co"># Find and replace ".header {"  to ".site-header {"</span></span>
<span id="cb41-499"><a href="#cb41-499"></a>usethis<span class="sc">::</span><span class="fu">edit_file</span>(main_css)</span>
<span id="cb41-500"><a href="#cb41-500"></a><span class="in">```</span></span>
<span id="cb41-501"><a href="#cb41-501"></a></span>
<span id="cb41-502"><a href="#cb41-502"></a>If you do that, you'll have to find references of that class in your html partials. First, move the partial from the theme as we've mentioned before. **WARNING, WE MODIFY THIS FILE SEVERAL PLACES. DO NOT RUN THIS CODE IF YOU ALREADY MOVED THIS FILE INTO YOUR PARTIALS FOLDER, IT WILL ERASE YOUR WORK!**</span>
<span id="cb41-503"><a href="#cb41-503"></a><span class="in">```{r echo = T, eval = F}</span></span>
<span id="cb41-504"><a href="#cb41-504"></a>fs<span class="sc">::</span><span class="fu">file_copy</span>(<span class="fu">paste0</span>(here<span class="sc">::</span><span class="fu">here</span>(),<span class="st">'/themes/hugo-lithium/layouts/partials/header.html'</span>), <span class="fu">paste0</span>(here<span class="sc">::</span><span class="fu">here</span>(), <span class="st">'/layouts/partials/header.html'</span>))</span>
<span id="cb41-505"><a href="#cb41-505"></a><span class="in">```</span></span>
<span id="cb41-506"><a href="#cb41-506"></a></span>
<span id="cb41-507"><a href="#cb41-507"></a>You'd need to modify <span class="in">`header.html`</span> to the code below by changing the <span class="in">`&lt;header class="header"&gt;`</span> to <span class="in">`&lt;header class="site-header"&gt;`</span>.</span>
<span id="cb41-508"><a href="#cb41-508"></a><span class="in">```{verbatim echo = T, eval = F}</span></span>
<span id="cb41-509"><a href="#cb41-509"></a><span class="in">&lt;!DOCTYPE html&gt;</span></span>
<span id="cb41-510"><a href="#cb41-510"></a><span class="in">&lt;html lang="{{ .Site.LanguageCode }}"&gt;</span></span>
<span id="cb41-511"><a href="#cb41-511"></a><span class="in">  &lt;head&gt;</span></span>
<span id="cb41-512"><a href="#cb41-512"></a><span class="in">    {{ partial "head.html" . }}</span></span>
<span id="cb41-513"><a href="#cb41-513"></a><span class="in">  &lt;/head&gt;</span></span>
<span id="cb41-514"><a href="#cb41-514"></a><span class="in">  &lt;body&gt;</span></span>
<span id="cb41-515"><a href="#cb41-515"></a><span class="in">    &lt;div class="wrapper"&gt;</span></span>
<span id="cb41-516"><a href="#cb41-516"></a><span class="in">      &lt;header class="site-header"&gt;</span></span>
<span id="cb41-517"><a href="#cb41-517"></a><span class="in">        {{ partial "nav.html" . }}</span></span>
<span id="cb41-518"><a href="#cb41-518"></a><span class="in">      &lt;/header&gt;</span></span>
<span id="cb41-519"><a href="#cb41-519"></a><span class="in">```</span></span>
<span id="cb41-520"><a href="#cb41-520"></a></span>
<span id="cb41-521"><a href="#cb41-521"></a><span class="fu">### Add Multimedia\</span></span>
<span id="cb41-522"><a href="#cb41-522"></a>Now, let's move onto the really hard hitting content like emojis! :joy: As you've seen throughout this post there's a lot of multimedia you can use on a page. Hugo provides support for a number of things that blogdown wraps directly like emojis, tweets, youtube, etc. Beyond Hugo and blogdown, there are several R libraries that can provide additional content such as <span class="co">[</span><span class="ot">fontawesome</span><span class="co">](https://rstudio.github.io/fontawesome/)</span>.\</span>
<span id="cb41-523"><a href="#cb41-523"></a></span>
<span id="cb41-524"><a href="#cb41-524"></a>I'm going to modify the about page to demonstrate a few of these tools, <span class="in">`content/about.md`</span>. Notice the about page is a <span class="in">`.md`</span> file not an <span class="in">`.Rmd`</span> file. Vanilla <span class="in">`.md`</span> files can be used for simple pages with just text, images, emojis, but they will not have access to R. I generally use <span class="in">`.Rmd`</span> files for everything, but <span class="in">`.md`</span> are less complex and render much more quickly so keep that in mind.\</span>
<span id="cb41-525"><a href="#cb41-525"></a></span>
<span id="cb41-526"><a href="#cb41-526"></a>To demonstrate all the multimedia functionality that comes to mind, I'll need an <span class="in">`.Rmd`</span> file so delete the <span class="in">`.md`</span> version (optional)  and create <span class="in">`about.Rmd`</span>. In <span class="in">`about.Rmd`</span>, first we setup our yaml header. There are a number of options that can be set in the yaml header, refer to the <span class="co">[</span><span class="ot">rmarkdown cookbook</span><span class="co">](https://bookdown.org/yihui/rmarkdown-cookbook/rmarkdown-anatomy.html)</span> for more details - these yaml headers provide a lot of customization features out of the box.\</span>
<span id="cb41-527"><a href="#cb41-527"></a><span class="in">```{verbatim, echo = T, eval=F}</span></span>
<span id="cb41-528"><a href="#cb41-528"></a><span class="in">---</span></span>
<span id="cb41-529"><a href="#cb41-529"></a><span class="in">title: "About"</span></span>
<span id="cb41-530"><a href="#cb41-530"></a><span class="in">---</span></span>
<span id="cb41-531"><a href="#cb41-531"></a><span class="in">```</span></span>
<span id="cb41-532"><a href="#cb41-532"></a></span>
<span id="cb41-533"><a href="#cb41-533"></a>Under our header we can start to create our about page. We can use Hugo's built in <span class="co">[</span><span class="ot">emojis</span><span class="co">](https://www.webfx.com/tools/emoji-cheat-sheet/)</span> in our sentences to insert emojis that are words wrapped in colons anywhere in the document. For these to work, we need to add a line to <span class="in">`config.yaml`</span>.\</span>
<span id="cb41-534"><a href="#cb41-534"></a></span>
<span id="cb41-535"><a href="#cb41-535"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-536"><a href="#cb41-536"></a><span class="al">![](images/enable_emojis.png)</span>{width=400px}</span>
<span id="cb41-537"><a href="#cb41-537"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-538"><a href="#cb41-538"></a></span>
<span id="cb41-539"><a href="#cb41-539"></a>The list of emojis supported by Hugo is small, but we can use the <span class="co">[</span><span class="ot">fontawesome package</span><span class="co">](https://rstudio.github.io/fontawesome/)</span> to insert <span class="co">[</span><span class="ot">fontawesome</span><span class="co">](https://fontawesome.com/)</span> emojis. To find new fontawesome icons search <span class="co">[</span><span class="ot">here</span><span class="co">](https://fontawesome.com/icons)</span> or use <span class="in">`fontawesome::fa_metadata()`</span>. Note the heart in the code below is an emoji in the Hugo supported syntax, since blogdown parses the entire document it will add emojis in code blocks as well.\</span>
<span id="cb41-540"><a href="#cb41-540"></a><span class="in">```{r, echo=T, eval = F}</span></span>
<span id="cb41-541"><a href="#cb41-541"></a>This is a blog I have created to share analytics with my team members. Although we have and <span class="sc">:</span>heart<span class="sc">:</span> Apache Superset <span class="sc">&amp;</span> shiny, sometimes I just want to quickly share analysis I perform <span class="cf">in</span> <span class="st">`</span><span class="at">fontawesome::fa("r-project", fill = "steelblue")</span><span class="st">`</span>.</span>
<span id="cb41-542"><a href="#cb41-542"></a><span class="in">```</span></span>
<span id="cb41-543"><a href="#cb41-543"></a></span>
<span id="cb41-544"><a href="#cb41-544"></a>Hugo has a <span class="co">[</span><span class="ot">shortcode</span><span class="co">](https://gohugo.io/content-management/shortcodes/)</span> feature that allows users to pull in content from a number of platforms. The <span class="in">`blogdown::shortcode()`</span> function is a wrapper to use it. It can be used to embed tweets, figures, youtube videos, gists, etc.\</span>
<span id="cb41-545"><a href="#cb41-545"></a></span>
<span id="cb41-546"><a href="#cb41-546"></a><span class="in">```{r, echo = T, eval = F}</span></span>
<span id="cb41-547"><a href="#cb41-547"></a>blogdown<span class="sc">::</span><span class="fu">shortcode</span>(<span class="st">"youtube"</span>, <span class="st">"2xkNJL4gJ9E"</span>)</span>
<span id="cb41-548"><a href="#cb41-548"></a><span class="in">```</span></span>
<span id="cb41-549"><a href="#cb41-549"></a>{{&lt; video https://www.youtube.com/embed/2xkNJL4gJ9E &gt;}}</span>
<span id="cb41-550"><a href="#cb41-550"></a></span>
<span id="cb41-551"><a href="#cb41-551"></a>It can also be used for syntax highlighting languages which may not be supported by knitr.\</span>
<span id="cb41-552"><a href="#cb41-552"></a><span class="in">```{r, echo = T, eval = F}</span></span>
<span id="cb41-553"><a href="#cb41-553"></a>blogdown<span class="sc">::</span><span class="fu">shortcode</span>(<span class="st">"highlight"</span>, <span class="st">"bash"</span>, <span class="at">.content =</span> <span class="st">"echo Thanks for visiting our new site!;"</span>)</span>
<span id="cb41-554"><a href="#cb41-554"></a><span class="in">```</span></span>
<span id="cb41-555"><a href="#cb41-555"></a><span class="in">`bash echo "Thanks for visiting our new site!"`</span></span>
<span id="cb41-556"><a href="#cb41-556"></a></span>
<span id="cb41-557"><a href="#cb41-557"></a></span>
<span id="cb41-558"><a href="#cb41-558"></a></span>
<span id="cb41-559"><a href="#cb41-559"></a>You might be thinking, shortcode doesn't support GIFs!?!@ Agreed, but don't worrying GIFs are simple to add without using shortcode. They are an image and therefore work exactly like image files do. Add, <span class="in">`![&lt;my alt text&gt;](&lt;link to giph&gt;){&lt;add CSS properties}`</span>, to a new line in your document - **not in a code block**. In the CSS properties you can add anything you want, but I typically use it to specify width like <span class="in">`{width=500px}`</span>. If you want to center the image, one simple way is to just wrap the line in <span class="in">`&lt;center&gt; &lt;/center&gt;`</span> tags. You can save the giph in a folder in the post folder, or just link to a direct url. Giphy provides *GIF Links* if you hit the share button. </span>
<span id="cb41-560"><a href="#cb41-560"></a></span>
<span id="cb41-561"><a href="#cb41-561"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-562"><a href="#cb41-562"></a><span class="al">![](https://media.giphy.com/media/3o7ZeQBhbVGnELP4bK/giphy.gif)</span>{width=500px}</span>
<span id="cb41-563"><a href="#cb41-563"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-564"><a href="#cb41-564"></a></span>
<span id="cb41-565"><a href="#cb41-565"></a><span class="fu">### Markdown Formatting</span></span>
<span id="cb41-566"><a href="#cb41-566"></a>There are so many guides on markdown formatting and I'm guessing most users will already know a little so I'm going to cut this section short. If you're new to markdown, checkout this <span class="co">[</span><span class="ot">guide</span><span class="co">](https://www.markdownguide.org/basic-syntax)</span>. If you're like me, you probably know markdown pretty well but always bump into weird pesky things. I'm going to cover a few little tricks I've picked up that I find myself looking up a lot.\</span>
<span id="cb41-567"><a href="#cb41-567"></a></span>
<span id="cb41-568"><a href="#cb41-568"></a><span class="fu">#### Section Links</span></span>
<span id="cb41-569"><a href="#cb41-569"></a>Sometimes you want to refer a user to a prior section. Do this the same way you add a hyperlink, but replace spaces in the section name with hyphens. For example, to refer someone back to the beginning of this entire section I would use <span class="in">`[this](#build-a-site-from-scratch)`</span>. which does <span class="co">[</span><span class="ot">this</span><span class="co">](#build-a-site-from-scratch)</span>.\</span>
<span id="cb41-570"><a href="#cb41-570"></a></span>
<span id="cb41-571"><a href="#cb41-571"></a><span class="fu">#### Bullets\</span></span>
<span id="cb41-572"><a href="#cb41-572"></a>I often add bullets and the style looks terrible because markdown isn't actually recognizing them as bullets. This is caused by two mistakes I commonly make:\ </span>
<span id="cb41-573"><a href="#cb41-573"></a></span>
<span id="cb41-574"><a href="#cb41-574"></a><span class="ss">* </span>Keep one line between the paragraph above the bullets and the bullets themselves.\</span>
<span id="cb41-575"><a href="#cb41-575"></a><span class="ss">* </span>Make sure you end the above paragraph and each bullet with a <span class="co">[</span><span class="ot">linebreak</span><span class="co">](####linebreaks)</span>.\</span>
<span id="cb41-576"><a href="#cb41-576"></a></span>
<span id="cb41-577"><a href="#cb41-577"></a><span class="fu">#### Linebreaks</span></span>
<span id="cb41-578"><a href="#cb41-578"></a>According the markdown documentation:\</span>
<span id="cb41-579"><a href="#cb41-579"></a></span>
<span id="cb41-580"><a href="#cb41-580"></a><span class="at">&gt;CommonMark and a few other lightweight markup languages let you type a backslash (</span><span class="sc">\)</span><span class="at"> at the end of the line, but not all Markdown applications support this, so it isn’t a great option from a compatibility perspective.</span></span>
<span id="cb41-581"><a href="#cb41-581"></a><span class="at">The markdown docs instead recommend using two spaces (which is impossible to see in the IDE) or </span><span class="kw">&lt;br&gt;</span><span class="at"> at the end of a line. I've gotten into the habit of using backslash, but </span><span class="kw">&lt;br&gt;</span><span class="at"> seems like a good option as well. </span></span>
<span id="cb41-582"><a href="#cb41-582"></a></span>
<span id="cb41-583"><a href="#cb41-583"></a></span>
<span id="cb41-584"><a href="#cb41-584"></a></span>
<span id="cb41-585"><a href="#cb41-585"></a><span class="fu">## Other Styling &amp; Components\</span></span>
<span id="cb41-586"><a href="#cb41-586"></a><span class="fu">### Browser Tab Title &amp; Image\</span></span>
<span id="cb41-587"><a href="#cb41-587"></a>You may notice when you preview the site there's a little <span class="in">`Li`</span> logo and a title <span class="in">`A Hugo Website`</span>.\</span>
<span id="cb41-588"><a href="#cb41-588"></a></span>
<span id="cb41-589"><a href="#cb41-589"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-590"><a href="#cb41-590"></a><span class="al">![](images/browser_title_and_icon.png)</span>{width=200px}</span>
<span id="cb41-591"><a href="#cb41-591"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-592"><a href="#cb41-592"></a></span>
<span id="cb41-593"><a href="#cb41-593"></a>We can change the logo by creating a favicon logo and adding it. <span class="co">[</span><span class="ot">This site</span><span class="co">](https://convertio.co/svg-ico/)</span> can convert images to icon files. Save the image in <span class="in">`/static`</span> and add the appropriate reference to the config file. Also, change the text in the config file <span class="in">`title`</span>.</span>
<span id="cb41-594"><a href="#cb41-594"></a><span class="in">```{verbatim, echo = T, eval = F}</span></span>
<span id="cb41-595"><a href="#cb41-595"></a><span class="in">title: DocStation Analytics</span></span>
<span id="cb41-596"><a href="#cb41-596"></a><span class="in">params:</span></span>
<span id="cb41-597"><a href="#cb41-597"></a><span class="in">  favicon: images/favicon.ico</span></span>
<span id="cb41-598"><a href="#cb41-598"></a><span class="in">```</span></span>
<span id="cb41-599"><a href="#cb41-599"></a></span>
<span id="cb41-600"><a href="#cb41-600"></a><span class="fu">### Code Folding\</span></span>
<span id="cb41-601"><a href="#cb41-601"></a>This section modifies the Hugo theme substantially more so than the other sections up to this point. It seems like a lot more work, but it's very simple. Just make sure to follow along and do **all** of the steps unless I specifically say they're optional because, if you miss any, the code show/hide button might not show up at all which makes it harder to troubleshoot. I never would have figured out how to do this without <span class="co">[</span><span class="ot">Sebastien Rochette's work he published on his blog</span><span class="co">](https://statnmap.com/2017-11-13-enable-code-folding-in-bookdown-and-blogdown/)</span>, so thanks so much to him! I also want to thank James Pustejovsky who also used Sebastian's post and did his own incredibly helpful <span class="co">[</span><span class="ot">post</span><span class="co">](https://www.jepusto.com/code-folding-update/#comment-5234356899)</span>.   </span>
<span id="cb41-602"><a href="#cb41-602"></a></span>
<span id="cb41-603"><a href="#cb41-603"></a><span class="fu">#### High Level Overview</span></span>
<span id="cb41-604"><a href="#cb41-604"></a>The codefoling is made possible by a JS function, we'll call it <span class="in">`codefolding.js`</span>, which searches each page for code based on the HTML classes assigned by blogdown. When it finds code, it wraps it in an HTML div and adds a button. The JS function collapses the div when the button is clicked. That JavaScript function needs to be available to the pages, which means it needs to be in the header or footer of each HTML page. Further, that function relies on other code from bootstrap and custom CSS which need to be loaded first. </span>
<span id="cb41-605"><a href="#cb41-605"></a></span>
<span id="cb41-606"><a href="#cb41-606"></a><span class="fu">#### Add Dependencies</span></span>
<span id="cb41-607"><a href="#cb41-607"></a>Sebastian wrote his codefolding blog post using Bootstrap 3 relying on <span class="in">`collapse.js`</span>, <span class="in">`dropdown.js`</span>, and <span class="in">`transition.js`</span>, the last of which was deprecated in Bootstrap 4. I'm not enough of a Bootstrap guru to know where that functionality lives in Bootstrap 4 and frankly didn't want to bother working through that for this one feature on my site - so I just stuck with Bootstrap 3, it works just fine. Those bootstrap functions rely on jquery so you need to download that as well. Finally, we'll need <span class="co">[</span><span class="ot">popper.js</span><span class="co">](https://popper.js.org/)</span> to allow scrolling within our code boxes, but James' post provided an API so we'll just add it in our partials. For posterity, you can just download the <span class="co">[</span><span class="ot">bootstrap.min.js</span><span class="co">](https://github.com/twbs/bootstrap/blob/v3.4.0/dist/js/bootstrap.min.js)</span> file, but I stuck with the three functions only since that's all I needed. </span>
<span id="cb41-608"><a href="#cb41-608"></a></span>
<span id="cb41-609"><a href="#cb41-609"></a><span class="ss">* </span><span class="co">[</span><span class="ot">Bootstrap 3 Latest Version</span><span class="co">](https://github.com/twbs/bootstrap/tree/v3.4.1/js)</span></span>
<span id="cb41-610"><a href="#cb41-610"></a><span class="ss">* </span><span class="co">[</span><span class="ot">Jquery</span><span class="co">](http://code.jquery.com)</span> - I used 3.6.1</span>
<span id="cb41-611"><a href="#cb41-611"></a></span>
<span id="cb41-612"><a href="#cb41-612"></a></span>
<span id="cb41-613"><a href="#cb41-613"></a>Add the JS files to the <span class="in">`static/js`</span> folder. As we learned when changing the <span class="co">[</span><span class="ot">home button</span><span class="co">](###home-button)</span>, the <span class="in">`static/js`</span> files will override the files inside  <span class="in">`~/themes/hugo-lithium/static`</span>. I this case, those files aren't in <span class="in">`~/themes/hugo-lithium/static/images/logo.png`</span> so they're simply additive. Again, you only need the three specific files or <span class="in">`bootstrap.bundle.min.js`</span>, not all four as shown below.\</span>
<span id="cb41-614"><a href="#cb41-614"></a></span>
<span id="cb41-615"><a href="#cb41-615"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-616"><a href="#cb41-616"></a><span class="al">![](images/static_js_with_bs.png)</span>{width=350px}</span>
<span id="cb41-617"><a href="#cb41-617"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-618"><a href="#cb41-618"></a></span>
<span id="cb41-619"><a href="#cb41-619"></a>Aside from JS, we'll also need some CSS to format the div around the code block and the button that controls it. Ideally, we'd just use a recent Bootstrap distribution like <span class="co">[</span><span class="ot">this</span><span class="co">](https://github.com/twbs/bootstrap/blob/v5.1.0/dist/css/bootstrap.css)</span> **which does work**, but it conflicts with other parts of the theme - for me it knocked things out of place in the navbar. We'd need to modify our <span class="in">`main.css`</span> to manage the conflicts between that file and the boostrap file which could be a lot more work than just creating a custom CSS file for the code folding, which is what I decided to do. Copy the code below and save it at <span class="in">`~/static/css/codefolding.css`</span>. If you want to make your button look different (e.g. different color, hovering behavior, etc.), this is the place to do that. </span>
<span id="cb41-620"><a href="#cb41-620"></a></span>
<span id="cb41-621"><a href="#cb41-621"></a><span class="in">```{css, echo = T, eval = F}</span></span>
<span id="cb41-622"><a href="#cb41-622"></a>#code<span class="op">-</span>folding<span class="op">-</span>buttons <span class="op">{</span><span class="dt">float</span><span class="op">:</span> right<span class="op">;}</span></span>
<span id="cb41-623"><a href="#cb41-623"></a>#code<span class="op">-</span>folding<span class="op">-</span>buttons <span class="op">.</span><span class="fu">pull</span><span class="op">-</span>right <span class="op">&gt;</span> <span class="op">.</span><span class="fu">dropdown</span><span class="op">-</span>menu <span class="op">{</span></span>
<span id="cb41-624"><a href="#cb41-624"></a>    right<span class="op">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb41-625"><a href="#cb41-625"></a>    left<span class="op">:</span> auto<span class="op">;</span></span>
<span id="cb41-626"><a href="#cb41-626"></a><span class="op">}</span></span>
<span id="cb41-627"><a href="#cb41-627"></a>#code<span class="op">-</span>folding<span class="op">-</span>buttons <span class="op">.</span><span class="fu">btn</span><span class="op">.</span><span class="fu">btn</span><span class="op">-</span><span class="kw">default</span><span class="op">.</span><span class="fu">btn</span><span class="op">-</span>xs<span class="op">.</span><span class="fu">dropdown</span><span class="op">-</span>toggle <span class="op">{</span></span>
<span id="cb41-628"><a href="#cb41-628"></a>    <span class="dt">float</span><span class="op">:</span> right<span class="op">;</span></span>
<span id="cb41-629"><a href="#cb41-629"></a><span class="op">}</span></span>
<span id="cb41-630"><a href="#cb41-630"></a>#code<span class="op">-</span>folding<span class="op">-</span>buttons<span class="op">.</span><span class="fu">open</span> <span class="op">&gt;</span> <span class="op">.</span><span class="fu">dropdown</span><span class="op">-</span>menu <span class="op">{</span></span>
<span id="cb41-631"><a href="#cb41-631"></a>    display<span class="op">:</span> block<span class="op">;</span></span>
<span id="cb41-632"><a href="#cb41-632"></a><span class="op">}</span></span>
<span id="cb41-633"><a href="#cb41-633"></a>#code<span class="op">-</span>folding<span class="op">-</span>buttons <span class="op">.</span><span class="fu">dropdown</span><span class="op">-</span>menu li <span class="op">{</span></span>
<span id="cb41-634"><a href="#cb41-634"></a>    padding<span class="op">:</span> 5px<span class="op">;</span></span>
<span id="cb41-635"><a href="#cb41-635"></a><span class="op">}</span></span>
<span id="cb41-636"><a href="#cb41-636"></a><span class="co">/* Each code block button */</span></span>
<span id="cb41-637"><a href="#cb41-637"></a><span class="op">.</span><span class="fu">code</span><span class="op">-</span>folding<span class="op">-</span>btn <span class="op">{</span> </span>
<span id="cb41-638"><a href="#cb41-638"></a>  margin<span class="op">-</span>right<span class="op">:</span> 10px<span class="op">;</span></span>
<span id="cb41-639"><a href="#cb41-639"></a>  margin<span class="op">-</span>bottom<span class="op">:</span> 4px<span class="op">;</span> </span>
<span id="cb41-640"><a href="#cb41-640"></a>  width<span class="op">:</span> <span class="dv">125</span><span class="op">%;</span></span>
<span id="cb41-641"><a href="#cb41-641"></a>  background<span class="op">:</span> #fff<span class="op">;</span></span>
<span id="cb41-642"><a href="#cb41-642"></a>  border<span class="op">-</span>top<span class="op">:</span> #<span class="dv">252525</span> 1px solid<span class="op">;</span></span>
<span id="cb41-643"><a href="#cb41-643"></a>  border<span class="op">-</span>bottom<span class="op">:</span> #<span class="dv">252525</span> 1px solid<span class="op">;</span></span>
<span id="cb41-644"><a href="#cb41-644"></a>  border<span class="op">-</span>left<span class="op">:</span> #<span class="dv">252525</span> 2px solid<span class="op">;</span></span>
<span id="cb41-645"><a href="#cb41-645"></a>  border<span class="op">-</span>right<span class="op">:</span> #<span class="dv">252525</span> 2px solid<span class="op">;</span></span>
<span id="cb41-646"><a href="#cb41-646"></a>  border<span class="op">-</span>radius<span class="op">:</span> 10px<span class="op">;</span></span>
<span id="cb41-647"><a href="#cb41-647"></a>  text<span class="op">-</span>align<span class="op">:</span> center<span class="op">;</span></span>
<span id="cb41-648"><a href="#cb41-648"></a>  color<span class="op">:</span> black<span class="op">;</span></span>
<span id="cb41-649"><a href="#cb41-649"></a>  padding<span class="op">:</span> 6px<span class="op">;</span></span>
<span id="cb41-650"><a href="#cb41-650"></a>  <span class="dt">float</span><span class="op">:</span> right<span class="op">;</span></span>
<span id="cb41-651"><a href="#cb41-651"></a>  font<span class="op">-</span>family<span class="op">:</span> Rubik<span class="op">;</span></span>
<span id="cb41-652"><a href="#cb41-652"></a>  font<span class="op">-</span>size<span class="op">:</span> <span class="op">.</span><span class="fu">75rem</span><span class="op">;</span></span>
<span id="cb41-653"><a href="#cb41-653"></a>  font<span class="op">-</span>weight<span class="op">:</span> <span class="dv">400</span><span class="op">;</span></span>
<span id="cb41-654"><a href="#cb41-654"></a><span class="op">}</span></span>
<span id="cb41-655"><a href="#cb41-655"></a><span class="op">.</span><span class="fu">code</span><span class="op">-</span>folding<span class="op">-</span>btn<span class="op">:</span>hover <span class="op">{</span> </span>
<span id="cb41-656"><a href="#cb41-656"></a>  background<span class="op">:</span> #<span class="dv">252525</span><span class="op">;</span></span>
<span id="cb41-657"><a href="#cb41-657"></a>  border<span class="op">-</span>top<span class="op">:</span> #fff 1px solid<span class="op">;</span></span>
<span id="cb41-658"><a href="#cb41-658"></a>  border<span class="op">-</span>bottom<span class="op">:</span> #fff 1px solid<span class="op">;</span></span>
<span id="cb41-659"><a href="#cb41-659"></a>  border<span class="op">-</span>left<span class="op">:</span> #fff 2px solid<span class="op">;</span></span>
<span id="cb41-660"><a href="#cb41-660"></a>  border<span class="op">-</span>right<span class="op">:</span> #fff 2px solid<span class="op">;</span></span>
<span id="cb41-661"><a href="#cb41-661"></a>  color<span class="op">:</span> white<span class="op">;</span></span>
<span id="cb41-662"><a href="#cb41-662"></a>  font<span class="op">-</span>family<span class="op">:</span> Rubik<span class="op">;</span></span>
<span id="cb41-663"><a href="#cb41-663"></a>  font<span class="op">-</span>size<span class="op">:</span> <span class="op">.</span><span class="fu">75rem</span><span class="op">;</span></span>
<span id="cb41-664"><a href="#cb41-664"></a>  font<span class="op">-</span>weight<span class="op">:</span> <span class="dv">600</span><span class="op">;</span></span>
<span id="cb41-665"><a href="#cb41-665"></a><span class="op">}</span></span>
<span id="cb41-666"><a href="#cb41-666"></a><span class="op">.</span><span class="fu">row</span> <span class="op">{</span> </span>
<span id="cb41-667"><a href="#cb41-667"></a>    display<span class="op">:</span> flex<span class="op">;</span></span>
<span id="cb41-668"><a href="#cb41-668"></a>    border<span class="op">-</span>bottom<span class="op">:</span> solid 1px #d7d7d7<span class="op">;</span></span>
<span id="cb41-669"><a href="#cb41-669"></a><span class="op">}</span></span>
<span id="cb41-670"><a href="#cb41-670"></a><span class="op">.</span><span class="fu">col</span><span class="op">-</span>md<span class="dv">-12</span> <span class="op">{</span></span>
<span id="cb41-671"><a href="#cb41-671"></a>    margin<span class="op">:</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> auto<span class="op">;</span></span>
<span id="cb41-672"><a href="#cb41-672"></a><span class="op">}</span></span>
<span id="cb41-673"><a href="#cb41-673"></a><span class="op">.</span><span class="fu">collapse</span> <span class="op">{</span></span>
<span id="cb41-674"><a href="#cb41-674"></a>    display<span class="op">:</span> none<span class="op">;</span> </span>
<span id="cb41-675"><a href="#cb41-675"></a><span class="op">}</span></span>
<span id="cb41-676"><a href="#cb41-676"></a><span class="op">.</span><span class="fu">in</span> <span class="op">{</span> </span>
<span id="cb41-677"><a href="#cb41-677"></a>    display<span class="op">:</span> block <span class="op">;</span></span>
<span id="cb41-678"><a href="#cb41-678"></a>    border<span class="op">:</span> solid 1px #d7d7d7<span class="op">;</span></span>
<span id="cb41-679"><a href="#cb41-679"></a>    border<span class="op">-</span>radius<span class="op">:</span> 5px<span class="op">;</span></span>
<span id="cb41-680"><a href="#cb41-680"></a><span class="op">}</span></span>
<span id="cb41-681"><a href="#cb41-681"></a><span class="co">/* Main show/hide button */</span></span>
<span id="cb41-682"><a href="#cb41-682"></a>#code<span class="op">-</span>folding<span class="op">-</span>buttons <span class="op">{</span><span class="dt">float</span><span class="op">:</span> right<span class="op">;}</span></span>
<span id="cb41-683"><a href="#cb41-683"></a>#code<span class="op">-</span>folding<span class="op">-</span>buttons <span class="op">.</span><span class="fu">dropdown</span><span class="op">-</span>menu <span class="op">{</span></span>
<span id="cb41-684"><a href="#cb41-684"></a>    min<span class="op">-</span>width<span class="op">:</span> 80px<span class="op">;</span></span>
<span id="cb41-685"><a href="#cb41-685"></a>    padding<span class="op">:</span> 5px <span class="dv">0</span><span class="op">;</span></span>
<span id="cb41-686"><a href="#cb41-686"></a>    margin<span class="op">:</span> 2px <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb41-687"><a href="#cb41-687"></a>    font<span class="op">-</span>size<span class="op">:</span> 14px<span class="op">;</span></span>
<span id="cb41-688"><a href="#cb41-688"></a><span class="op">}</span></span>
<span id="cb41-689"><a href="#cb41-689"></a><span class="in">```</span></span>
<span id="cb41-690"><a href="#cb41-690"></a></span>
<span id="cb41-691"><a href="#cb41-691"></a><span class="fu">#### Add Modify Partials</span></span>
<span id="cb41-692"><a href="#cb41-692"></a>Now that we have dependencies in place, we need to add the necessary HTML partials so that the dependencies are added when the site is rendered by Hugo. You can structure your partials however you want, but each theme generally has things structured a certain way that might be easy to piggy back off of. Below is some R code to copy files from the existing theme (hugo-lithium specific) and create new files we need. </span>
<span id="cb41-693"><a href="#cb41-693"></a><span class="in">```{r echo = T, eval = F}</span></span>
<span id="cb41-694"><a href="#cb41-694"></a>fs<span class="sc">::</span><span class="fu">file_touch</span>(<span class="fu">paste0</span>(here<span class="sc">::</span><span class="fu">here</span>(), <span class="st">'/layouts/partials/header_maincodefolding.html'</span>))</span>
<span id="cb41-695"><a href="#cb41-695"></a>fs<span class="sc">::</span><span class="fu">file_copy</span>(<span class="fu">paste0</span>(here<span class="sc">::</span><span class="fu">here</span>(),<span class="st">'/themes/hugo-lithium/layouts/partials/head_custom.html'</span>), <span class="fu">paste0</span>(here<span class="sc">::</span><span class="fu">here</span>(), <span class="st">'/layouts/partials/head_custom.html'</span>))</span>
<span id="cb41-696"><a href="#cb41-696"></a>fs<span class="sc">::</span><span class="fu">file_copy</span>(<span class="fu">paste0</span>(here<span class="sc">::</span><span class="fu">here</span>(),<span class="st">'/themes/hugo-lithium/layouts/partials/header.html'</span>), <span class="fu">paste0</span>(here<span class="sc">::</span><span class="fu">here</span>(), <span class="st">'/layouts/partials/header.html'</span>))</span>
<span id="cb41-697"><a href="#cb41-697"></a><span class="in">```</span></span>
<span id="cb41-698"><a href="#cb41-698"></a></span>
<span id="cb41-699"><a href="#cb41-699"></a>Notice partials have if statements in them, such as <span class="in">`{{ if eq .RelPermalink "/" }} ... {{ else }}{{ if .Description }} ... {{ end }}{{ end }}`</span>. These if statements reference variables in <span class="in">`config.yaml`</span>, it's how the <span class="in">`config.yaml`</span> is able to parameterize a Hugo site. When the site is rendered, Hugo reads the yaml and includes HTML partials based on the if statements. I actually don't use parameters for my codefolding, but Sebastien set them up in his post and I left them in here for people who may want them - and to just better illustrate how Hugo works. You can completely remove all the if statements in the partials we create and leave the parameters off of the config file if you like.\ </span>
<span id="cb41-700"><a href="#cb41-700"></a></span>
<span id="cb41-701"><a href="#cb41-701"></a><span class="fu">##### header_alldoc_codefolding_button.html</span></span>
<span id="cb41-702"><a href="#cb41-702"></a>**Optionally**, Sebastien added a code folding button at the top of all posts which can show or hide code throughout the document. It looks like the screenshot below:\</span>
<span id="cb41-703"><a href="#cb41-703"></a></span>
<span id="cb41-704"><a href="#cb41-704"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-705"><a href="#cb41-705"></a><span class="al">![](images/alldoc_codefolding_button_seb_site.png)</span>{width=550px}</span>
<span id="cb41-706"><a href="#cb41-706"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-707"><a href="#cb41-707"></a></span>
<span id="cb41-708"><a href="#cb41-708"></a>I decided to leave this off of my site because I don't like putting it in the navbar and it just felt clunky at the top of the doc. I would want to modify the navbar and use an icon in the top right, but didn't seem worth the work. This is the html partial to do that though which I called <span class="in">`header_alldoc_codefolding_button.html`</span>. You can copy it either way if you like, it won't be rendered unless it's added to another partial file.\</span>
<span id="cb41-709"><a href="#cb41-709"></a><span class="in">```{verbatim echo = T, eval = F}</span></span>
<span id="cb41-710"><a href="#cb41-710"></a><span class="in">{{ if and (not .Site.Params.disable_codefolding) (not .Params.disable_codefolding) (in (string .Content) "&lt;/pre&gt;") }}</span></span>
<span id="cb41-711"><a href="#cb41-711"></a><span class="in">&lt;div id="code-folding-buttons" class="btn-group pull-right"&gt;</span></span>
<span id="cb41-712"><a href="#cb41-712"></a><span class="in">  &lt;button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" data-_extension-text-contrast=""&gt;</span></span>
<span id="cb41-713"><a href="#cb41-713"></a><span class="in">    &lt;span&gt;Show/Hide all code&lt;/span&gt; </span></span>
<span id="cb41-714"><a href="#cb41-714"></a><span class="in">    &lt;span class="caret"&gt;&lt;/span&gt;</span></span>
<span id="cb41-715"><a href="#cb41-715"></a><span class="in">  &lt;/button&gt;</span></span>
<span id="cb41-716"><a href="#cb41-716"></a><span class="in">  &lt;ul class="dropdown-menu" style="min-width: 50px;"&gt;</span></span>
<span id="cb41-717"><a href="#cb41-717"></a><span class="in">  &lt;li&gt;&lt;a id="rmd-show-all-code" href="#"&gt;Show All Code&lt;/a&gt;</span></span>
<span id="cb41-718"><a href="#cb41-718"></a><span class="in">  &lt;/li&gt;&lt;li&gt;&lt;a id="rmd-hide-all-code" href="#"&gt;Hide All Code&lt;/a&gt;&lt;/li&gt;</span></span>
<span id="cb41-719"><a href="#cb41-719"></a><span class="in">  &lt;/ul&gt;</span></span>
<span id="cb41-720"><a href="#cb41-720"></a><span class="in">&lt;/div&gt;</span></span>
<span id="cb41-721"><a href="#cb41-721"></a><span class="in">{{ end }}</span></span>
<span id="cb41-722"><a href="#cb41-722"></a><span class="in">```</span></span>
<span id="cb41-723"><a href="#cb41-723"></a></span>
<span id="cb41-724"><a href="#cb41-724"></a><span class="fu">##### head_custom.html</span></span>
<span id="cb41-725"><a href="#cb41-725"></a>The lithium template has a <span class="in">`head_custom.html`</span> file by default, which is empty. It's already loaded into the site so we don't have to modify / create as many partials to implement our code folding by using it. We can use this to load dependencies into the site's header. First, we'll load the jquery, bootrap, and popper.js dependencies. Next, we load <span class="in">`codefolding.js`</span> and <span class="in">`codefolding.css`</span>. Finally, we can run <span class="in">`codefolding.js`</span> (i.e. within <span class="in">`$(document).ready`</span>). If you don't plan to use <span class="in">`config.yaml`</span> to disable code folding on certain posts you can omit the if statements.\</span>
<span id="cb41-726"><a href="#cb41-726"></a><span class="in">```{verbatim echo = T, eval = F}</span></span>
<span id="cb41-727"><a href="#cb41-727"></a><span class="in">{{ if not .Site.Params.disable_codefolding }}</span></span>
<span id="cb41-728"><a href="#cb41-728"></a><span class="in">&lt;script src="{{ "js/jquery-3.6.0.min.js" | relURL }}"&gt;&lt;/script&gt;</span></span>
<span id="cb41-729"><a href="#cb41-729"></a><span class="in">&lt;script src="{{ "js/transition.js" | relURL }}"&gt;&lt;/script&gt;</span></span>
<span id="cb41-730"><a href="#cb41-730"></a><span class="in">&lt;script src="{{ "js/collapse.js" | relURL }}"&gt;&lt;/script&gt;</span></span>
<span id="cb41-731"><a href="#cb41-731"></a><span class="in">&lt;script src="{{ "js/dropdown.js" | relURL }}"&gt;&lt;/script&gt;</span></span>
<span id="cb41-732"><a href="#cb41-732"></a><span class="in">  &lt;script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"&gt;&lt;/script&gt;</span></span>
<span id="cb41-733"><a href="#cb41-733"></a><span class="in">{{ end }}</span></span>
<span id="cb41-734"><a href="#cb41-734"></a><span class="in">{{ if and (not .Site.Params.disable_codefolding) (not .Params.disable_codefolding) (in (string .Content) "&lt;/pre&gt;") }} </span></span>
<span id="cb41-735"><a href="#cb41-735"></a><span class="in">&lt;script src="{{ "js/codefolding.js" | relURL }}"&gt;&lt;/script&gt;</span></span>
<span id="cb41-736"><a href="#cb41-736"></a><span class="in">&lt;link rel="stylesheet" href="{{ "css/codefolding.css" | relURL }}" /&gt;</span></span>
<span id="cb41-737"><a href="#cb41-737"></a><span class="in">&lt;script&gt;</span></span>
<span id="cb41-738"><a href="#cb41-738"></a><span class="in">$(document).ready(function () {</span></span>
<span id="cb41-739"><a href="#cb41-739"></a><span class="in">  window.initializeCodeFolding("show" === {{ if isset .Params "codefolding_show" }}{{ .Params.codefolding_show }}{{ else }}{{ default ("hide") .Site.Params.codefolding_show }}{{ end }});</span></span>
<span id="cb41-740"><a href="#cb41-740"></a><span class="in">});</span></span>
<span id="cb41-741"><a href="#cb41-741"></a><span class="in">&lt;/script&gt;</span></span>
<span id="cb41-742"><a href="#cb41-742"></a><span class="in">{{ end }}</span></span>
<span id="cb41-743"><a href="#cb41-743"></a><span class="in">```</span></span>
<span id="cb41-744"><a href="#cb41-744"></a></span>
<span id="cb41-745"><a href="#cb41-745"></a>The <span class="in">`head_custom.html`</span> partial is pulled into the <span class="in">`~/themes/hugo-lithium/layouts/partials/head.html`</span> partial, which we don't need to modify or move out of themes. It's loaded on the last line below with no if statement (i.e. it's always loaded).\</span>
<span id="cb41-746"><a href="#cb41-746"></a></span>
<span id="cb41-747"><a href="#cb41-747"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-748"><a href="#cb41-748"></a><span class="al">![](images/head_load_head_custom.png)</span>{width=550px}</span>
<span id="cb41-749"><a href="#cb41-749"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-750"><a href="#cb41-750"></a></span>
<span id="cb41-751"><a href="#cb41-751"></a><span class="fu">##### header.html\</span></span>
<span id="cb41-752"><a href="#cb41-752"></a>The aforementioned <span class="in">`head.html`</span>, and by extension <span class="in">`head_custom.html`</span>, are loaded into <span class="in">`header.html`</span> (these names are a bit tough to keep straight). There's no need to make changes to <span class="in">`header.html`</span> unless you wanted to add the <span class="co">[</span><span class="ot">button to collapse and show all code</span><span class="co">](#####header_alldoc_codefolding_button.html)</span>, which is included below.\</span>
<span id="cb41-753"><a href="#cb41-753"></a><span class="in">```{verbatim echo = T, eval = F}</span></span>
<span id="cb41-754"><a href="#cb41-754"></a><span class="in">&lt;!DOCTYPE html&gt;</span></span>
<span id="cb41-755"><a href="#cb41-755"></a><span class="in">&lt;html lang="{{ .Site.LanguageCode }}"&gt;</span></span>
<span id="cb41-756"><a href="#cb41-756"></a><span class="in">  &lt;head&gt;</span></span>
<span id="cb41-757"><a href="#cb41-757"></a><span class="in">    {{ partial "head.html" . }}</span></span>
<span id="cb41-758"><a href="#cb41-758"></a><span class="in">  &lt;/head&gt;</span></span>
<span id="cb41-759"><a href="#cb41-759"></a><span class="in">  &lt;body&gt;</span></span>
<span id="cb41-760"><a href="#cb41-760"></a><span class="in">    &lt;div class="wrapper"&gt;</span></span>
<span id="cb41-761"><a href="#cb41-761"></a><span class="in">      &lt;header class="header"&gt;</span></span>
<span id="cb41-762"><a href="#cb41-762"></a><span class="in">        &lt;!-- Add this if you want the butto to callapse and show all code on a page --&gt; </span></span>
<span id="cb41-763"><a href="#cb41-763"></a><span class="in">        {{ partial "header_alldoc_codefolding_button.html" . }}</span></span>
<span id="cb41-764"><a href="#cb41-764"></a><span class="in">        {{ partial "nav.html" . }}</span></span>
<span id="cb41-765"><a href="#cb41-765"></a><span class="in">      &lt;/header&gt;</span></span>
<span id="cb41-766"><a href="#cb41-766"></a><span class="in">```</span></span>
<span id="cb41-767"><a href="#cb41-767"></a></span>
<span id="cb41-768"><a href="#cb41-768"></a><span class="fu">#### Setup Config</span></span>
<span id="cb41-769"><a href="#cb41-769"></a>If you included the if statements in the partials, add these parameters to <span class="in">`config.yaml`</span> at level 1 (i.e. not nested underneath anything in the file).\</span>
<span id="cb41-770"><a href="#cb41-770"></a><span class="in">```{verbatim echo = T, eval = F}</span></span>
<span id="cb41-771"><a href="#cb41-771"></a><span class="in"># Set to true to disable code folding</span></span>
<span id="cb41-772"><a href="#cb41-772"></a><span class="in">disable_codefolding: false</span></span>
<span id="cb41-773"><a href="#cb41-773"></a><span class="in"># Set to "hide" or "show" all codes by default</span></span>
<span id="cb41-774"><a href="#cb41-774"></a><span class="in">codefolding_show: hide</span></span>
<span id="cb41-775"><a href="#cb41-775"></a><span class="in">codefolding_nobutton: true</span></span>
<span id="cb41-776"><a href="#cb41-776"></a><span class="in">```</span></span>
<span id="cb41-777"><a href="#cb41-777"></a></span>
<span id="cb41-778"><a href="#cb41-778"></a>And voila, you have code folding!\</span>
<span id="cb41-779"><a href="#cb41-779"></a></span>
<span id="cb41-780"><a href="#cb41-780"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-781"><a href="#cb41-781"></a><span class="al">![](https://media.giphy.com/media/1BFEEIo4h1BuTH8eqP/giphy.gif)</span>{width=400px}</span>
<span id="cb41-782"><a href="#cb41-782"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-783"><a href="#cb41-783"></a>\</span>
<span id="cb41-784"><a href="#cb41-784"></a>Pages with code should now have a button beside the code which will expand and collapse the code.\</span>
<span id="cb41-785"><a href="#cb41-785"></a></span>
<span id="cb41-786"><a href="#cb41-786"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-787"><a href="#cb41-787"></a><span class="al">![](images/code_folding.gif)</span>{width=500px}</span>
<span id="cb41-788"><a href="#cb41-788"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-789"><a href="#cb41-789"></a></span>
<span id="cb41-790"><a href="#cb41-790"></a><span class="fu">### Add Links to Footer  </span></span>
<span id="cb41-791"><a href="#cb41-791"></a>The lithium template comes with a standard footer on every page. The footer is added into the bottom of every page from the HTML partial <span class="in">`footer.html`</span>. We can modify the footer to include personal info that shows up at the bottom of all pages on our site.\</span>
<span id="cb41-792"><a href="#cb41-792"></a></span>
<span id="cb41-793"><a href="#cb41-793"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-794"><a href="#cb41-794"></a><span class="al">![](images/theme_footer.png)</span>{width=500px}</span>
<span id="cb41-795"><a href="#cb41-795"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-796"><a href="#cb41-796"></a></span>
<span id="cb41-797"><a href="#cb41-797"></a>Move the footer file from the theme into our partials folder.\</span>
<span id="cb41-798"><a href="#cb41-798"></a><span class="in">```{r, echo = T, eval = F}</span></span>
<span id="cb41-799"><a href="#cb41-799"></a>fs<span class="sc">::</span><span class="fu">file_copy</span>(<span class="fu">paste0</span>(here<span class="sc">::</span><span class="fu">here</span>(),<span class="st">'/themes/hugo-lithium/layouts/partials/footer.html'</span>), <span class="fu">paste0</span>(here<span class="sc">::</span><span class="fu">here</span>(), <span class="st">'/layouts/partials/footer.html'</span>))</span>
<span id="cb41-800"><a href="#cb41-800"></a><span class="in">```</span></span>
<span id="cb41-801"><a href="#cb41-801"></a></span>
<span id="cb41-802"><a href="#cb41-802"></a><span class="fu">#### footer.html\</span></span>
<span id="cb41-803"><a href="#cb41-803"></a>I don't use RSS feed at the moment, so I removed that. I might add it back at some point if I can get into a better groove with posting. I added an email, github, twitter, linkedin, and a credit to the blogdown repo.\ </span>
<span id="cb41-804"><a href="#cb41-804"></a><span class="in">```{verbatim echo = T, eval = F}</span></span>
<span id="cb41-805"><a href="#cb41-805"></a><span class="in">      &lt;footer class="footer"&gt;</span></span>
<span id="cb41-806"><a href="#cb41-806"></a><span class="in">        &lt;ul class="footer-links"&gt;</span></span>
<span id="cb41-807"><a href="#cb41-807"></a><span class="in">          {{ with .Site.Params.social }}</span></span>
<span id="cb41-808"><a href="#cb41-808"></a><span class="in">          &lt;li&gt;</span></span>
<span id="cb41-809"><a href="#cb41-809"></a><span class="in">            &lt;a href="mailto: mark.druffel@gmail.com" class="fa fa-envelope " aria-hidden="true" title="Email"&gt;&lt;/i&gt;&lt;span class="sr-only"&gt;Github&lt;/span&gt;&lt;/a&gt;</span></span>
<span id="cb41-810"><a href="#cb41-810"></a><span class="in">          &lt;/li&gt;</span></span>
<span id="cb41-811"><a href="#cb41-811"></a><span class="in">          &lt;li&gt;</span></span>
<span id="cb41-812"><a href="#cb41-812"></a><span class="in">            &lt;a href="https://github.com/{{ .github }}"&gt;&lt;i class="fa fa-github" aria-hidden="true" title="Github"&gt;&lt;/i&gt;&lt;span class="sr-only"&gt;Github&lt;/span&gt;&lt;/a&gt;</span></span>
<span id="cb41-813"><a href="#cb41-813"></a><span class="in">          &lt;/li&gt;</span></span>
<span id="cb41-814"><a href="#cb41-814"></a><span class="in">          &lt;li&gt;</span></span>
<span id="cb41-815"><a href="#cb41-815"></a><span class="in">            &lt;a href="https://twitter.com/{{ .twitter }}"&gt;&lt;i class="fa fa-twitter" aria-hidden="true" title="Twitter"&gt;&lt;/i&gt;&lt;span class="sr-only"&gt;Twitter&lt;/span&gt;&lt;/a&gt;</span></span>
<span id="cb41-816"><a href="#cb41-816"></a><span class="in">          &lt;/li&gt;</span></span>
<span id="cb41-817"><a href="#cb41-817"></a><span class="in">          &lt;li&gt;</span></span>
<span id="cb41-818"><a href="#cb41-818"></a><span class="in">            &lt;a href="https://www.linkedin.com/in/{{ .linkedin }}"&gt;&lt;i class="fa fa-linkedin" aria-hidden="true" title="LinkedIn"&gt;&lt;/i&gt;&lt;span class="sr-only"&gt;LinkedIn&lt;/span&gt;&lt;/a&gt;</span></span>
<span id="cb41-819"><a href="#cb41-819"></a><span class="in">          &lt;/li&gt;</span></span>
<span id="cb41-820"><a href="#cb41-820"></a><span class="in">          {{ end }}</span></span>
<span id="cb41-821"><a href="#cb41-821"></a><span class="in">          &lt;li&gt;</span></span>
<span id="cb41-822"><a href="#cb41-822"></a><span class="in">            &lt;a href="https://gohugo.io/" class="footer-links-kudos"&gt;Made with &lt;img src="{{ "images/hugo-logo.png" | relURL }}" alt="Img link to Hugo website" width="22" height="22"&gt;&lt;/a&gt;</span></span>
<span id="cb41-823"><a href="#cb41-823"></a><span class="in">          &lt;/li&gt;</span></span>
<span id="cb41-824"><a href="#cb41-824"></a><span class="in">          &lt;li&gt;</span></span>
<span id="cb41-825"><a href="#cb41-825"></a><span class="in">            &lt;a href="https://bookdown.org/yihui/blogdown/" class="footer-links-kudos"&gt;Via &lt;img src="{{ "images/blogdown-logo.png" | relURL }}" width="22" height="22"&gt;&lt;/a&gt;</span></span>
<span id="cb41-826"><a href="#cb41-826"></a><span class="in">          &lt;/li&gt;</span></span>
<span id="cb41-827"><a href="#cb41-827"></a><span class="in">        &lt;/ul&gt;</span></span>
<span id="cb41-828"><a href="#cb41-828"></a><span class="in">      &lt;/footer&gt;</span></span>
<span id="cb41-829"><a href="#cb41-829"></a><span class="in">    &lt;/div&gt;</span></span>
<span id="cb41-830"><a href="#cb41-830"></a><span class="in">    {{ partial "footer_highlightjs" . }}</span></span>
<span id="cb41-831"><a href="#cb41-831"></a><span class="in">    {{ partial "footer_mathjax" . }}</span></span>
<span id="cb41-832"><a href="#cb41-832"></a><span class="in">    {{ template "_internal/google_analytics.html" . }}</span></span>
<span id="cb41-833"><a href="#cb41-833"></a><span class="in">  &lt;/body&gt;</span></span>
<span id="cb41-834"><a href="#cb41-834"></a><span class="in">&lt;/html&gt;</span></span>
<span id="cb41-835"><a href="#cb41-835"></a><span class="in">```</span></span>
<span id="cb41-836"><a href="#cb41-836"></a></span>
<span id="cb41-837"><a href="#cb41-837"></a>If you render the site with this partial you'll end up with this footer, which is really ugly. The reason is we referenced <span class="co">[</span><span class="ot">font awesome</span><span class="co">](https://fontawesome.com/)</span> logos in the <span class="in">`footer.html`</span> partial so we need font awesome to render the logos. We need to add a font awesome dependency in the site header or footer to do that.\</span>
<span id="cb41-838"><a href="#cb41-838"></a></span>
<span id="cb41-839"><a href="#cb41-839"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-840"><a href="#cb41-840"></a><span class="al">![](images/footer_without_fa.png)</span>{width=500px}</span>
<span id="cb41-841"><a href="#cb41-841"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-842"><a href="#cb41-842"></a></span>
<span id="cb41-843"><a href="#cb41-843"></a><span class="fu">#### head_custom.html\</span></span>
<span id="cb41-844"><a href="#cb41-844"></a>**WARNING, WE MODIFY THIS FILE SEVERAL PLACES. DO NOT RUN THIS CODE IF YOU ALREADY MOVED THIS FILE INTO YOUR PARTIALS FOLDER, IT WILL ERASE YOUR WORK!** The lithium template has a <span class="in">`head_custom.html`</span> file by default, which is empty. It's already loaded into the site so we don't have to modify / create as many partials to implement our code folding by using it. We can use this to load dependencies into the site's header.\</span>
<span id="cb41-845"><a href="#cb41-845"></a><span class="in">```{r, echo = T, eval = F}</span></span>
<span id="cb41-846"><a href="#cb41-846"></a>fs<span class="sc">::</span><span class="fu">file_copy</span>(<span class="fu">paste0</span>(here<span class="sc">::</span><span class="fu">here</span>(),<span class="st">'/themes/hugo-lithium/layouts/partials/head_custom.html'</span>), <span class="fu">paste0</span>(here<span class="sc">::</span><span class="fu">here</span>(), <span class="st">'/layouts/partials/head_custom.html'</span>))</span>
<span id="cb41-847"><a href="#cb41-847"></a><span class="in">```</span></span>
<span id="cb41-848"><a href="#cb41-848"></a></span>
<span id="cb41-849"><a href="#cb41-849"></a>At the top of <span class="in">`head_custom.html`</span>, add this line. The <span class="co">[</span><span class="ot">async</span><span class="co">](https://www.w3schools.com/tags/att_script_async.asp)</span> part of the code keeps the site from loading slowly when font awesome doesn't respond instantaneously.\</span>
<span id="cb41-850"><a href="#cb41-850"></a><span class="in">```{verbatim echo = T, eval = F}</span></span>
<span id="cb41-851"><a href="#cb41-851"></a><span class="in">&lt;script async src="https://use.fontawesome.com/32c3d13def.js"&gt;&lt;/script&gt;</span></span>
<span id="cb41-852"><a href="#cb41-852"></a><span class="in">```</span></span>
<span id="cb41-853"><a href="#cb41-853"></a></span>
<span id="cb41-854"><a href="#cb41-854"></a>Now the footer looks better, but it's still missing the image at the end. That's the blogdown package logo which I added manually since it's not in font awesome. Add the required <span class="co">[</span><span class="ot">image</span><span class="co">](https://github.com/rstudio/blogdown/blob/main/pkgdown/favicon)</span> to <span class="in">`~/static/images`</span> and make sure the name matches the filename in the HTML partial <span class="in">`footer.html`</span>.\</span>
<span id="cb41-855"><a href="#cb41-855"></a></span>
<span id="cb41-856"><a href="#cb41-856"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-857"><a href="#cb41-857"></a><span class="al">![](images/footer_with_fa.png)</span>{width=500px}</span>
<span id="cb41-858"><a href="#cb41-858"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-859"><a href="#cb41-859"></a></span>
<span id="cb41-860"><a href="#cb41-860"></a>Once you add the blogdown logo file, the footer should look like this.\ </span>
<span id="cb41-861"><a href="#cb41-861"></a></span>
<span id="cb41-862"><a href="#cb41-862"></a><span class="kw">&lt;center&gt;</span></span>
<span id="cb41-863"><a href="#cb41-863"></a><span class="al">![](images/footer_with_all.png)</span>{width=500px}</span>
<span id="cb41-864"><a href="#cb41-864"></a><span class="kw">&lt;/center&gt;</span></span>
<span id="cb41-865"><a href="#cb41-865"></a></span>
<span id="cb41-866"><a href="#cb41-866"></a><span class="fu">### Misc Configs\</span></span>
<span id="cb41-867"><a href="#cb41-867"></a>There are so many configurations you can use in the lithium theme and even more throughout Hugo.\</span>
<span id="cb41-868"><a href="#cb41-868"></a></span>
<span id="cb41-869"><a href="#cb41-869"></a><span class="fu">##### disqusShortname\</span></span>
<span id="cb41-870"><a href="#cb41-870"></a>Disqus is a simple way to add a comments box on your site. Disqus has helped me engage with other data scientists through their sites which is a super simple way to connect with other people in the profession. It's so simple, I highly recommend it. To use Disqus on your site, you need to create an account and then <span class="co">[</span><span class="ot">create a new site</span><span class="co">](https://disqus.com/admin/create/)</span> on that account. When you create a site, you give it a shortname which you can then add to the <span class="in">`config.yaml`</span>.\</span>
<span id="cb41-871"><a href="#cb41-871"></a></span>
<span id="cb41-872"><a href="#cb41-872"></a><span class="in">```{verbatim echo = T, eval = F}</span></span>
<span id="cb41-873"><a href="#cb41-873"></a><span class="in">baseurl: /</span></span>
<span id="cb41-874"><a href="#cb41-874"></a><span class="in">languageCode: en-us</span></span>
<span id="cb41-875"><a href="#cb41-875"></a><span class="in">title: DocStation Analytics</span></span>
<span id="cb41-876"><a href="#cb41-876"></a><span class="in">theme: hugo-lithium</span></span>
<span id="cb41-877"><a href="#cb41-877"></a><span class="in">googleAnalytics: ''</span></span>
<span id="cb41-878"><a href="#cb41-878"></a><span class="in">disqusShortname: 'add the name here'</span></span>
<span id="cb41-879"><a href="#cb41-879"></a><span class="in">```</span></span>
<span id="cb41-880"><a href="#cb41-880"></a></span>
<span id="cb41-881"><a href="#cb41-881"></a><span class="fu">##### canonifyURLs\</span></span>
<span id="cb41-882"><a href="#cb41-882"></a>Tells Hugo to use <span class="co">[</span><span class="ot">canonical urls</span><span class="co">](https://gohugo.io/content-management/urls/#canonicalization)</span>.\</span>
<span id="cb41-883"><a href="#cb41-883"></a></span>
<span id="cb41-884"><a href="#cb41-884"></a><span class="in">```{verbatim echo = T, eval = F}</span></span>
<span id="cb41-885"><a href="#cb41-885"></a><span class="in">baseurl: /</span></span>
<span id="cb41-886"><a href="#cb41-886"></a><span class="in">languageCode: en-us</span></span>
<span id="cb41-887"><a href="#cb41-887"></a><span class="in">title: DocStation Analytics</span></span>
<span id="cb41-888"><a href="#cb41-888"></a><span class="in">theme: hugo-lithium</span></span>
<span id="cb41-889"><a href="#cb41-889"></a><span class="in">googleAnalytics: ''</span></span>
<span id="cb41-890"><a href="#cb41-890"></a><span class="in">canonifyURLs: true</span></span>
<span id="cb41-891"><a href="#cb41-891"></a><span class="in">```</span></span>
<span id="cb41-892"><a href="#cb41-892"></a></span>
<span id="cb41-893"><a href="#cb41-893"></a><span class="fu">##### enableRobotsTXT\</span></span>
<span id="cb41-894"><a href="#cb41-894"></a>Tells Hugo to use a <span class="co">[</span><span class="ot">custom robots.txt file</span><span class="co">](https://gohugo.io/templates/robots/)</span>, which tells bots how to interact with your site. Learn more <span class="co">[</span><span class="ot">here</span><span class="co">](https://www.cloudflare.com/learning/bots/what-is-robots.txt/)</span>. To modify the robots.txt file, add the below code to the <span class="in">`config.yaml`</span>.\</span>
<span id="cb41-895"><a href="#cb41-895"></a></span>
<span id="cb41-896"><a href="#cb41-896"></a><span class="in">```{verbatim echo = T, eval = F}</span></span>
<span id="cb41-897"><a href="#cb41-897"></a><span class="in">baseurl: /</span></span>
<span id="cb41-898"><a href="#cb41-898"></a><span class="in">languageCode: en-us</span></span>
<span id="cb41-899"><a href="#cb41-899"></a><span class="in">title: DocStation Analytics</span></span>
<span id="cb41-900"><a href="#cb41-900"></a><span class="in">theme: hugo-lithium</span></span>
<span id="cb41-901"><a href="#cb41-901"></a><span class="in">googleAnalytics: ''</span></span>
<span id="cb41-902"><a href="#cb41-902"></a><span class="in">enableRobotsTXT: true</span></span>
<span id="cb41-903"><a href="#cb41-903"></a><span class="in">```</span></span>
<span id="cb41-904"><a href="#cb41-904"></a></span>
<span id="cb41-905"><a href="#cb41-905"></a>Then create a new robots.txt file at <span class="in">`~/layouts/robots.txt`</span>.\</span>
<span id="cb41-906"><a href="#cb41-906"></a></span>
<span id="cb41-907"><a href="#cb41-907"></a><span class="fu">## Deploy w/ Hosting Service\</span></span>
<span id="cb41-908"><a href="#cb41-908"></a>You can deploy a blogdown site to an endless number of services including Netlify, Github Pages, Cloudflare, AWS S3, etc. I'm not going to document deployment because it's so well documented elsewhere, but explain the first two options below.\ </span>
<span id="cb41-909"><a href="#cb41-909"></a></span>
<span id="cb41-910"><a href="#cb41-910"></a><span class="fu">### Netlify\</span></span>
<span id="cb41-911"><a href="#cb41-911"></a>I get the impression that Netlify is the most popular place to host a blogdown. It's to setup CI/CD with Github and Netlify has domain services so you can register your own custom domain in the same place. It's what I use for my personal site. That said, if you want to set your site up with Netlify I'm going to hand you off to Alison because her <span class="co">[</span><span class="ot">up &amp; running with blogdown in 2021 post</span><span class="co">](https://apreshill.netlify.app/blog/2020-12-new-year-new-blogdown/#step-1-create-repo)</span> provides a flawless step-by-step. There's simply no reason to replicate here.\ </span>
<span id="cb41-912"><a href="#cb41-912"></a></span>
<span id="cb41-913"><a href="#cb41-913"></a><span class="fu">### Github Pages\</span></span>
<span id="cb41-914"><a href="#cb41-914"></a>Github pages seems to be a close second in popularity from what I've seen. It's even simpler than netlify, but you cannot use a <span class="co">[</span><span class="ot">custom domain without a premium account</span><span class="co">](https://docs.github.com/en/enterprise-cloud@latest/pages/configuring-a-custom-domain-for-your-github-pages-site)</span>. Again, I'm going to outsource the guide on this approach because it's so simple and already well documented in the <span class="co">[</span><span class="ot">blogdown book</span><span class="co">](https://bookdown.org/yihui/blogdown/github-pages.html)</span>.\</span>
<span id="cb41-915"><a href="#cb41-915"></a></span>
<span id="cb41-916"><a href="#cb41-916"></a><span class="fu">## Deploy Internally w/ Docker\  </span></span>
<span id="cb41-917"><a href="#cb41-917"></a>As I mentioned, I host my personal site on Netlify - it's been very cheap and easy to use. However, I want to publish an internal blog at work that needs to be secured. Netlify requires an enterprise account to use oauth, and their <span class="co">[</span><span class="ot">new pricing model</span><span class="co">](https://answers.netlify.com/t/pricing-change-questions-what-are-team-members/)</span> would be cost prohibitive for a small startup. Further, because we work with health data we use a service called <span class="co">[</span><span class="ot">Aptible</span><span class="co">](https://www.aptible.com/)</span> that makes HIPPA compliance and auditing much simpler. Given that, I need to host my blogdown site in a Docker container. Given the length of this post I'm going ot save that for another later post (if / when time allows).</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
      <div class="nav-footer-center"><div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div></div>
  </div>
</footer>



</body></html>